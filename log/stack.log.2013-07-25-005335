2013-07-25 00:53:35 stack.sh log /home/stack/devstack/log/stack.log.2013-07-25-005335
2013-07-25 00:53:35 + echo_summary 'Installing package prerequisites'
2013-07-25 00:53:35 + [[ -t 3 ]]
2013-07-25 00:53:35 + [[ True != \T\r\u\e ]]
2013-07-25 00:53:35 + echo -e Installing package prerequisites
2013-07-25 00:53:35 + source /home/stack/devstack/tools/install_prereqs.sh
2013-07-25 00:53:35 ++ [[ -n '' ]]
2013-07-25 00:53:35 ++ [[ -z /home/stack/devstack ]]
2013-07-25 00:53:35 ++ PREREQ_RERUN_MARKER=/home/stack/devstack/.prereqs
2013-07-25 00:53:35 ++ PREREQ_RERUN_HOURS=2
2013-07-25 00:53:35 ++ PREREQ_RERUN_SECONDS=7200
2013-07-25 00:53:35 Installing package prerequisites
2013-07-25 00:53:35 +++ date +%s
2013-07-25 00:53:35 ++ NOW=1374679415
2013-07-25 00:53:35 +++ head -1 /home/stack/devstack/.prereqs
2013-07-25 00:53:35 ++ LAST_RUN=1374674991
2013-07-25 00:53:35 ++ DELTA=4424
2013-07-25 00:53:35 ++ [[ 4424 -lt 7200 ]]
2013-07-25 00:53:35 ++ [[ -z '' ]]
2013-07-25 00:53:35 ++ echo 'Re-run time has not expired (2776 seconds remaining); exiting...'
2013-07-25 00:53:35 Re-run time has not expired (2776 seconds remaining); exiting...
2013-07-25 00:53:35 ++ return 0
2013-07-25 00:53:35 + install_rpc_backend
2013-07-25 00:53:35 + is_service_enabled rabbit
2013-07-25 00:53:35 + services=rabbit
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,rabbit, ]]
2013-07-25 00:53:35 + return 0
2013-07-25 00:53:35 ++ mktemp
2013-07-25 00:53:35 + tfile=/tmp/tmp.a9wvcGD9tC
2013-07-25 00:53:35 + install_package rabbitmq-server
2013-07-25 00:53:35 + cat /tmp/tmp.a9wvcGD9tC
2013-07-25 00:53:35 + is_ubuntu
2013-07-25 00:53:35 + [[ -z deb ]]
2013-07-25 00:53:35 + '[' deb = deb ']'
2013-07-25 00:53:35 + [[ '' = \T\r\u\e ]]
2013-07-25 00:53:35 + apt_get update
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + NO_UPDATE_REPOS=True
2013-07-25 00:53:35 + apt_get install rabbitmq-server
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + rm -f /tmp/tmp.a9wvcGD9tC
2013-07-25 00:53:35 + is_service_enabled mysql postgresql
2013-07-25 00:53:35 + services='mysql postgresql'
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,mysql, ]]
2013-07-25 00:53:35 + return 0
2013-07-25 00:53:35 + install_database
2013-07-25 00:53:35 + install_database_mysql
2013-07-25 00:53:35 + is_ubuntu
2013-07-25 00:53:35 + [[ -z deb ]]
2013-07-25 00:53:35 + '[' deb = deb ']'
2013-07-25 00:53:35 + sudo debconf-set-selections
2013-07-25 00:53:35 + cat
2013-07-25 00:53:35 + [[ ! -e /home/stack/.my.cnf ]]
2013-07-25 00:53:35 + is_ubuntu
2013-07-25 00:53:35 + [[ -z deb ]]
2013-07-25 00:53:35 + '[' deb = deb ']'
2013-07-25 00:53:35 + install_package mysql-server
2013-07-25 00:53:35 + is_ubuntu
2013-07-25 00:53:35 + [[ -z deb ]]
2013-07-25 00:53:35 + '[' deb = deb ']'
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + NO_UPDATE_REPOS=True
2013-07-25 00:53:35 + apt_get install mysql-server
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + is_service_enabled q-agt
2013-07-25 00:53:35 + services=q-agt
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,q-agt, ]]
2013-07-25 00:53:35 + [[ q-agt == \n\o\v\a ]]
2013-07-25 00:53:35 + [[ q-agt == \c\i\n\d\e\r ]]
2013-07-25 00:53:35 + [[ q-agt == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:35 + [[ q-agt == \g\l\a\n\c\e ]]
2013-07-25 00:53:35 + [[ q-agt == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:35 + return 1
2013-07-25 00:53:35 + TRACK_DEPENDS=False
2013-07-25 00:53:35 + [[ False = True ]]
2013-07-25 00:53:35 + echo_summary 'Installing OpenStack project source'
2013-07-25 00:53:35 + [[ -t 3 ]]
2013-07-25 00:53:35 + [[ True != \T\r\u\e ]]
2013-07-25 00:53:35 + echo -e Installing OpenStack project source
2013-07-25 00:53:35 + install_keystoneclient
2013-07-25 00:53:35 + git_clone https://github.com/openstack/python-keystoneclient /opt/stack/python-keystoneclient master
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + install_glanceclient
2013-07-25 00:53:35 + git_clone https://github.com/openstack/python-glanceclient /opt/stack/python-glanceclient master
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + install_novaclient
2013-07-25 00:53:35 + git_clone https://github.com/openstack/python-novaclient.git /opt/stack/python-novaclient master
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + git_clone https://github.com/openstack/python-openstackclient.git /opt/stack/python-openstackclient master
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + is_service_enabled key g-api n-api swift
2013-07-25 00:53:35 + services='key g-api n-api swift'
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,key, ]]
2013-07-25 00:53:35 + return 0
2013-07-25 00:53:35 + install_keystone
2013-07-25 00:53:35 + is_service_enabled ldap
2013-07-25 00:53:35 + services=ldap
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,ldap, ]]
2013-07-25 00:53:35 + [[ ldap == \n\o\v\a ]]
2013-07-25 00:53:35 + [[ ldap == \c\i\n\d\e\r ]]
2013-07-25 00:53:35 + [[ ldap == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:35 + [[ ldap == \g\l\a\n\c\e ]]
2013-07-25 00:53:35 + [[ ldap == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:35 + return 1
2013-07-25 00:53:35 Installing OpenStack project source
2013-07-25 00:53:35 + git_clone https://github.com/openstack/keystone.git /opt/stack/keystone master
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + is_service_enabled swift
2013-07-25 00:53:35 + services=swift
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,swift, ]]
2013-07-25 00:53:35 + [[ swift == \n\o\v\a ]]
2013-07-25 00:53:35 + [[ swift == \c\i\n\d\e\r ]]
2013-07-25 00:53:35 + [[ swift == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:35 + [[ swift == \g\l\a\n\c\e ]]
2013-07-25 00:53:35 + [[ swift == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:35 + return 1
2013-07-25 00:53:35 + is_service_enabled g-api n-api
2013-07-25 00:53:35 + services='g-api n-api'
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-api, ]]
2013-07-25 00:53:35 + return 0
2013-07-25 00:53:35 + install_glance
2013-07-25 00:53:35 + git_clone https://github.com/openstack/glance.git /opt/stack/glance master
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + is_service_enabled nova
2013-07-25 00:53:35 + services=nova
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-25 00:53:35 + [[ nova == \n\o\v\a ]]
2013-07-25 00:53:35 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-25 00:53:35 + return 0
2013-07-25 00:53:35 + install_nova
2013-07-25 00:53:35 + is_service_enabled n-cpu
2013-07-25 00:53:35 + services=n-cpu
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-25 00:53:35 + return 0
2013-07-25 00:53:35 + is_ubuntu
2013-07-25 00:53:35 + [[ -z deb ]]
2013-07-25 00:53:35 + '[' deb = deb ']'
2013-07-25 00:53:35 + install_package libvirt-bin
2013-07-25 00:53:35 + is_ubuntu
2013-07-25 00:53:35 + [[ -z deb ]]
2013-07-25 00:53:35 + '[' deb = deb ']'
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + NO_UPDATE_REPOS=True
2013-07-25 00:53:35 + apt_get install libvirt-bin
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + [[ kvm == \l\x\c ]]
2013-07-25 00:53:35 + git_clone https://github.com/openstack/nova.git /opt/stack/nova master
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + is_service_enabled n-novnc
2013-07-25 00:53:35 + services=n-novnc
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-novnc, ]]
2013-07-25 00:53:35 + return 0
2013-07-25 00:53:35 + git_clone https://github.com/kanaka/noVNC.git /opt/stack/noVNC master
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + is_service_enabled n-spice
2013-07-25 00:53:35 + services=n-spice
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-spice, ]]
2013-07-25 00:53:35 + [[ n-spice == \n\o\v\a ]]
2013-07-25 00:53:35 + [[ n-spice == \c\i\n\d\e\r ]]
2013-07-25 00:53:35 + [[ n-spice == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:35 + [[ n-spice == \g\l\a\n\c\e ]]
2013-07-25 00:53:35 + [[ n-spice == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:35 + return 1
2013-07-25 00:53:35 + is_service_enabled horizon
2013-07-25 00:53:35 + services=horizon
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,horizon, ]]
2013-07-25 00:53:35 + return 0
2013-07-25 00:53:35 + install_horizon
2013-07-25 00:53:35 + is_ubuntu
2013-07-25 00:53:35 + [[ -z deb ]]
2013-07-25 00:53:35 + '[' deb = deb ']'
2013-07-25 00:53:35 + install_package apache2 libapache2-mod-wsgi
2013-07-25 00:53:35 + is_ubuntu
2013-07-25 00:53:35 + [[ -z deb ]]
2013-07-25 00:53:35 + '[' deb = deb ']'
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + NO_UPDATE_REPOS=True
2013-07-25 00:53:35 + apt_get install apache2 libapache2-mod-wsgi
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + is_ubuntu
2013-07-25 00:53:35 + [[ -z deb ]]
2013-07-25 00:53:35 + '[' deb = deb ']'
2013-07-25 00:53:35 + [[ ! -e /usr/bin/node ]]
2013-07-25 00:53:35 + git_clone https://github.com/openstack/horizon.git /opt/stack/horizon master
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + is_service_enabled quantum
2013-07-25 00:53:35 + services=quantum
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-25 00:53:35 + [[ quantum == \n\o\v\a ]]
2013-07-25 00:53:35 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-25 00:53:35 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:35 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-25 00:53:35 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:35 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-25 00:53:35 + return 1
2013-07-25 00:53:35 + is_service_enabled heat
2013-07-25 00:53:35 + services=heat
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,heat, ]]
2013-07-25 00:53:35 + [[ heat == \n\o\v\a ]]
2013-07-25 00:53:35 + [[ heat == \c\i\n\d\e\r ]]
2013-07-25 00:53:35 + [[ heat == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:35 + [[ heat == \g\l\a\n\c\e ]]
2013-07-25 00:53:35 + [[ heat == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:35 + return 1
2013-07-25 00:53:35 + is_service_enabled cinder
2013-07-25 00:53:35 + services=cinder
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,cinder, ]]
2013-07-25 00:53:35 + return 0
2013-07-25 00:53:35 + install_cinder
2013-07-25 00:53:35 + git_clone https://github.com/openstack/cinder /opt/stack/cinder master
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + git_clone https://github.com/openstack/python-cinderclient /opt/stack/python-cinderclient master
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + is_service_enabled ceilometer
2013-07-25 00:53:35 + services=ceilometer
2013-07-25 00:53:35 + for service in '${services}'
2013-07-25 00:53:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,ceilometer, ]]
2013-07-25 00:53:35 + [[ ceilometer == \n\o\v\a ]]
2013-07-25 00:53:35 + [[ ceilometer == \c\i\n\d\e\r ]]
2013-07-25 00:53:35 + [[ ceilometer == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:35 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ ceilometer- ]]
2013-07-25 00:53:35 + [[ ceilometer == \g\l\a\n\c\e ]]
2013-07-25 00:53:35 + [[ ceilometer == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:35 + return 1
2013-07-25 00:53:35 + echo_summary 'Configuring OpenStack projects'
2013-07-25 00:53:35 + [[ -t 3 ]]
2013-07-25 00:53:35 + [[ True != \T\r\u\e ]]
2013-07-25 00:53:35 + echo -e Configuring OpenStack projects
2013-07-25 00:53:35 Configuring OpenStack projects
2013-07-25 00:53:35 + configure_keystoneclient
2013-07-25 00:53:35 + setup_develop /opt/stack/python-keystoneclient
2013-07-25 00:53:35 + [[ False = True ]]
2013-07-25 00:53:35 + SUDO_CMD=sudo
2013-07-25 00:53:35 + cd /opt/stack/python-keystoneclient
2013-07-25 00:53:35 + python setup.py egg_info
2013-07-25 00:53:35 running egg_info
2013-07-25 00:53:35 writing requirements to python_keystoneclient.egg-info/requires.txt
2013-07-25 00:53:35 writing python_keystoneclient.egg-info/PKG-INFO
2013-07-25 00:53:35 writing top-level names to python_keystoneclient.egg-info/top_level.txt
2013-07-25 00:53:35 writing dependency_links to python_keystoneclient.egg-info/dependency_links.txt
2013-07-25 00:53:35 writing entry points to python_keystoneclient.egg-info/entry_points.txt
2013-07-25 00:53:35 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:35 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:35 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:35 warning: no files found matching 'python-keystoneclient'
2013-07-25 00:53:35 writing manifest file 'python_keystoneclient.egg-info/SOURCES.txt'
2013-07-25 00:53:35 ++ awk '/^.+/ {print "-f " $1}' python_keystoneclient.egg-info/dependency_links.txt
2013-07-25 00:53:35 + raw_links='-f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config'
2013-07-25 00:53:35 ++ xargs
2013-07-25 00:53:35 ++ echo -f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config
2013-07-25 00:53:35 + depend_links='-f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config'
2013-07-25 00:53:35 ++ '[' '!' -r python_keystoneclient.egg-info/requires.txt ']'
2013-07-25 00:53:35 ++ echo '-r *-info/requires.txt'
2013-07-25 00:53:35 + require_file='-r *-info/requires.txt'
2013-07-25 00:53:35 + pip_install -r python_keystoneclient.egg-info/requires.txt -f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config
2013-07-25 00:53:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:35 + return
2013-07-25 00:53:35 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-25 00:53:36 running develop
2013-07-25 00:53:36 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-25 00:53:36 /usr/bin/python -E -c pass
2013-07-25 00:53:36 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-25 00:53:36 running egg_info
2013-07-25 00:53:36 writing requirements to python_keystoneclient.egg-info/requires.txt
2013-07-25 00:53:36 writing python_keystoneclient.egg-info/PKG-INFO
2013-07-25 00:53:36 writing top-level names to python_keystoneclient.egg-info/top_level.txt
2013-07-25 00:53:36 writing dependency_links to python_keystoneclient.egg-info/dependency_links.txt
2013-07-25 00:53:36 writing entry points to python_keystoneclient.egg-info/entry_points.txt
2013-07-25 00:53:36 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:36 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:36 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:36 warning: no files found matching 'python-keystoneclient'
2013-07-25 00:53:36 writing manifest file 'python_keystoneclient.egg-info/SOURCES.txt'
2013-07-25 00:53:36 running build_ext
2013-07-25 00:53:36 Creating /usr/local/lib/python2.7/dist-packages/python-keystoneclient.egg-link (link to .)
2013-07-25 00:53:36 python-keystoneclient 0.2.2.56.g3ce3fe8 is already the active version in easy-install.pth
2013-07-25 00:53:36 Installing keystone script to /usr/local/bin
2013-07-25 00:53:36 
2013-07-25 00:53:36 Installed /opt/stack/python-keystoneclient
2013-07-25 00:53:36 Processing dependencies for python-keystoneclient==0.2.2.56.g3ce3fe8
2013-07-25 00:53:36 Searching for oslo-config==2013.1b4
2013-07-25 00:53:36 Best match: oslo-config 2013.1b4
2013-07-25 00:53:36 oslo-config 2013.1b4 is already the active version in easy-install.pth
2013-07-25 00:53:36 
2013-07-25 00:53:36 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:36 Searching for simplejson==2.3.2
2013-07-25 00:53:36 Best match: simplejson 2.3.2
2013-07-25 00:53:36 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-25 00:53:36 
2013-07-25 00:53:36 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:36 Searching for requests==0.14.2
2013-07-25 00:53:36 Best match: requests 0.14.2
2013-07-25 00:53:36 Processing requests-0.14.2-py2.7.egg
2013-07-25 00:53:36 Removing requests 0.14.2 from easy-install.pth file
2013-07-25 00:53:36 requests 0.14.2 is already the active version in easy-install.pth
2013-07-25 00:53:36 
2013-07-25 00:53:36 Using /usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg
2013-07-25 00:53:36 Searching for prettytable==0.6.1
2013-07-25 00:53:36 Best match: prettytable 0.6.1
2013-07-25 00:53:36 Adding prettytable 0.6.1 to easy-install.pth file
2013-07-25 00:53:36 
2013-07-25 00:53:36 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:36 Searching for iso8601==0.1.4
2013-07-25 00:53:36 Best match: iso8601 0.1.4
2013-07-25 00:53:36 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-25 00:53:36 
2013-07-25 00:53:36 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:36 Finished processing dependencies for python-keystoneclient==0.2.2.56.g3ce3fe8
2013-07-25 00:53:36 + configure_novaclient
2013-07-25 00:53:36 + setup_develop /opt/stack/python-novaclient
2013-07-25 00:53:36 + [[ False = True ]]
2013-07-25 00:53:36 + SUDO_CMD=sudo
2013-07-25 00:53:36 + cd /opt/stack/python-novaclient
2013-07-25 00:53:36 + python setup.py egg_info
2013-07-25 00:53:36 running egg_info
2013-07-25 00:53:36 writing requirements to python_novaclient.egg-info/requires.txt
2013-07-25 00:53:36 writing python_novaclient.egg-info/PKG-INFO
2013-07-25 00:53:36 writing top-level names to python_novaclient.egg-info/top_level.txt
2013-07-25 00:53:36 writing dependency_links to python_novaclient.egg-info/dependency_links.txt
2013-07-25 00:53:36 writing entry points to python_novaclient.egg-info/entry_points.txt
2013-07-25 00:53:36 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:36 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:36 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:36 writing manifest file 'python_novaclient.egg-info/SOURCES.txt'
2013-07-25 00:53:36 ++ awk '/^.+/ {print "-f " $1}' python_novaclient.egg-info/dependency_links.txt
2013-07-25 00:53:36 + raw_links=
2013-07-25 00:53:36 ++ xargs
2013-07-25 00:53:36 ++ echo
2013-07-25 00:53:36 + depend_links=
2013-07-25 00:53:36 ++ '[' '!' -r python_novaclient.egg-info/requires.txt ']'
2013-07-25 00:53:36 ++ echo '-r *-info/requires.txt'
2013-07-25 00:53:36 + require_file='-r *-info/requires.txt'
2013-07-25 00:53:36 + pip_install -r python_novaclient.egg-info/requires.txt
2013-07-25 00:53:36 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:36 + return
2013-07-25 00:53:36 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-25 00:53:37 running develop
2013-07-25 00:53:37 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-25 00:53:37 /usr/bin/python -E -c pass
2013-07-25 00:53:37 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-25 00:53:37 running egg_info
2013-07-25 00:53:37 writing requirements to python_novaclient.egg-info/requires.txt
2013-07-25 00:53:37 writing python_novaclient.egg-info/PKG-INFO
2013-07-25 00:53:37 writing top-level names to python_novaclient.egg-info/top_level.txt
2013-07-25 00:53:37 writing dependency_links to python_novaclient.egg-info/dependency_links.txt
2013-07-25 00:53:37 writing entry points to python_novaclient.egg-info/entry_points.txt
2013-07-25 00:53:37 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:37 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:37 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:37 writing manifest file 'python_novaclient.egg-info/SOURCES.txt'
2013-07-25 00:53:37 running build_ext
2013-07-25 00:53:37 Creating /usr/local/lib/python2.7/dist-packages/python-novaclient.egg-link (link to .)
2013-07-25 00:53:37 python-novaclient 2.11.1.17.g9ab600f is already the active version in easy-install.pth
2013-07-25 00:53:37 Installing nova script to /usr/local/bin
2013-07-25 00:53:37 
2013-07-25 00:53:37 Installed /opt/stack/python-novaclient
2013-07-25 00:53:37 Processing dependencies for python-novaclient==2.11.1.17.g9ab600f
2013-07-25 00:53:37 Searching for simplejson==2.3.2
2013-07-25 00:53:37 Best match: simplejson 2.3.2
2013-07-25 00:53:37 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-25 00:53:37 
2013-07-25 00:53:37 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:37 Searching for requests==0.14.2
2013-07-25 00:53:37 Best match: requests 0.14.2
2013-07-25 00:53:37 Processing requests-0.14.2-py2.7.egg
2013-07-25 00:53:37 Removing requests 0.14.2 from easy-install.pth file
2013-07-25 00:53:37 requests 0.14.2 is already the active version in easy-install.pth
2013-07-25 00:53:37 
2013-07-25 00:53:37 Using /usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg
2013-07-25 00:53:37 Searching for prettytable==0.6.1
2013-07-25 00:53:37 Best match: prettytable 0.6.1
2013-07-25 00:53:37 Adding prettytable 0.6.1 to easy-install.pth file
2013-07-25 00:53:37 
2013-07-25 00:53:37 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:37 Searching for iso8601==0.1.4
2013-07-25 00:53:37 Best match: iso8601 0.1.4
2013-07-25 00:53:37 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-25 00:53:37 
2013-07-25 00:53:37 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:37 Finished processing dependencies for python-novaclient==2.11.1.17.g9ab600f
2013-07-25 00:53:37 + setup_develop /opt/stack/python-openstackclient
2013-07-25 00:53:37 + [[ False = True ]]
2013-07-25 00:53:37 + SUDO_CMD=sudo
2013-07-25 00:53:37 + cd /opt/stack/python-openstackclient
2013-07-25 00:53:37 + python setup.py egg_info
2013-07-25 00:53:37 running egg_info
2013-07-25 00:53:37 writing requirements to python_openstackclient.egg-info/requires.txt
2013-07-25 00:53:37 writing python_openstackclient.egg-info/PKG-INFO
2013-07-25 00:53:37 writing top-level names to python_openstackclient.egg-info/top_level.txt
2013-07-25 00:53:37 writing dependency_links to python_openstackclient.egg-info/dependency_links.txt
2013-07-25 00:53:37 writing entry points to python_openstackclient.egg-info/entry_points.txt
2013-07-25 00:53:37 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:37 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:37 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:37 warning: no files found matching 'openstackclient/versioninfo'
2013-07-25 00:53:37 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-25 00:53:37 writing manifest file 'python_openstackclient.egg-info/SOURCES.txt'
2013-07-25 00:53:37 ++ awk '/^.+/ {print "-f " $1}' python_openstackclient.egg-info/dependency_links.txt
2013-07-25 00:53:37 + raw_links=
2013-07-25 00:53:37 ++ xargs
2013-07-25 00:53:37 ++ echo
2013-07-25 00:53:37 + depend_links=
2013-07-25 00:53:37 ++ '[' '!' -r python_openstackclient.egg-info/requires.txt ']'
2013-07-25 00:53:37 ++ echo '-r *-info/requires.txt'
2013-07-25 00:53:37 + require_file='-r *-info/requires.txt'
2013-07-25 00:53:37 + pip_install -r python_openstackclient.egg-info/requires.txt
2013-07-25 00:53:37 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:37 + return
2013-07-25 00:53:37 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-25 00:53:38 running develop
2013-07-25 00:53:38 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-25 00:53:38 /usr/bin/python -E -c pass
2013-07-25 00:53:38 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-25 00:53:38 running egg_info
2013-07-25 00:53:38 writing requirements to python_openstackclient.egg-info/requires.txt
2013-07-25 00:53:38 writing python_openstackclient.egg-info/PKG-INFO
2013-07-25 00:53:38 writing top-level names to python_openstackclient.egg-info/top_level.txt
2013-07-25 00:53:38 writing dependency_links to python_openstackclient.egg-info/dependency_links.txt
2013-07-25 00:53:38 writing entry points to python_openstackclient.egg-info/entry_points.txt
2013-07-25 00:53:38 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:38 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:38 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:38 warning: no files found matching 'openstackclient/versioninfo'
2013-07-25 00:53:38 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-25 00:53:38 writing manifest file 'python_openstackclient.egg-info/SOURCES.txt'
2013-07-25 00:53:38 running build_ext
2013-07-25 00:53:38 Creating /usr/local/lib/python2.7/dist-packages/python-openstackclient.egg-link (link to .)
2013-07-25 00:53:38 python-openstackclient 8737539 is already the active version in easy-install.pth
2013-07-25 00:53:38 Installing openstack script to /usr/local/bin
2013-07-25 00:53:38 
2013-07-25 00:53:38 Installed /opt/stack/python-openstackclient
2013-07-25 00:53:38 Processing dependencies for python-openstackclient==8737539
2013-07-25 00:53:38 Searching for python-cinderclient==1.0.2.26.g458ff24
2013-07-25 00:53:38 Best match: python-cinderclient 1.0.2.26.g458ff24
2013-07-25 00:53:38 Removing python-cinderclient 1.0.2 from easy-install.pth file
2013-07-25 00:53:38 python-cinderclient 1.0.2.26.g458ff24 is already the active version in easy-install.pth
2013-07-25 00:53:38 Installing cinder script to /usr/local/bin
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /opt/stack/python-cinderclient
2013-07-25 00:53:38 Searching for python-novaclient==2.11.1.17.g9ab600f
2013-07-25 00:53:38 Best match: python-novaclient 2.11.1.17.g9ab600f
2013-07-25 00:53:38 python-novaclient 2.11.1.17.g9ab600f is already the active version in easy-install.pth
2013-07-25 00:53:38 Installing nova script to /usr/local/bin
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /opt/stack/python-novaclient
2013-07-25 00:53:38 Searching for python-keystoneclient==0.2.2.56.g3ce3fe8
2013-07-25 00:53:38 Best match: python-keystoneclient 0.2.2.56.g3ce3fe8
2013-07-25 00:53:38 python-keystoneclient 0.2.2.56.g3ce3fe8 is already the active version in easy-install.pth
2013-07-25 00:53:38 Installing keystone script to /usr/local/bin
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /opt/stack/python-keystoneclient
2013-07-25 00:53:38 Searching for python-glanceclient==0.8.0.5.g0ca43be
2013-07-25 00:53:38 Best match: python-glanceclient 0.8.0.5.g0ca43be
2013-07-25 00:53:38 Removing python-glanceclient 0.8.0 from easy-install.pth file
2013-07-25 00:53:38 python-glanceclient 0.8.0.5.g0ca43be is already the active version in easy-install.pth
2013-07-25 00:53:38 Installing glance script to /usr/local/bin
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /opt/stack/python-glanceclient
2013-07-25 00:53:38 Searching for pycrypto==2.4.1
2013-07-25 00:53:38 Best match: pycrypto 2.4.1
2013-07-25 00:53:38 Adding pycrypto 2.4.1 to easy-install.pth file
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for keyring==0.9.2
2013-07-25 00:53:38 Best match: keyring 0.9.2
2013-07-25 00:53:38 Adding keyring 0.9.2 to easy-install.pth file
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for cliff==1.3.1
2013-07-25 00:53:38 Best match: cliff 1.3.1
2013-07-25 00:53:38 Adding cliff 1.3.1 to easy-install.pth file
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for simplejson==2.3.2
2013-07-25 00:53:38 Best match: simplejson 2.3.2
2013-07-25 00:53:38 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for requests==0.14.2
2013-07-25 00:53:38 Best match: requests 0.14.2
2013-07-25 00:53:38 Processing requests-0.14.2-py2.7.egg
2013-07-25 00:53:38 Removing requests 0.14.2 from easy-install.pth file
2013-07-25 00:53:38 requests 0.14.2 is already the active version in easy-install.pth
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg
2013-07-25 00:53:38 Searching for prettytable==0.6.1
2013-07-25 00:53:38 Best match: prettytable 0.6.1
2013-07-25 00:53:38 Adding prettytable 0.6.1 to easy-install.pth file
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for iso8601==0.1.4
2013-07-25 00:53:38 Best match: iso8601 0.1.4
2013-07-25 00:53:38 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for oslo-config==2013.1b4
2013-07-25 00:53:38 Best match: oslo-config 2013.1b4
2013-07-25 00:53:38 oslo-config 2013.1b4 is already the active version in easy-install.pth
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for warlock==0.8.1
2013-07-25 00:53:38 Best match: warlock 0.8.1
2013-07-25 00:53:38 warlock 0.8.1 is already the active version in easy-install.pth
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for pyOpenSSL==0.12
2013-07-25 00:53:38 Best match: pyOpenSSL 0.12
2013-07-25 00:53:38 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for pyparsing==1.5.7
2013-07-25 00:53:38 Best match: pyparsing 1.5.7
2013-07-25 00:53:38 pyparsing 1.5.7 is already the active version in easy-install.pth
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for cmd2==0.6.4
2013-07-25 00:53:38 Best match: cmd2 0.6.4
2013-07-25 00:53:38 cmd2 0.6.4 is already the active version in easy-install.pth
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for distribute==0.6.24dev-r0
2013-07-25 00:53:38 Best match: distribute 0.6.24dev-r0
2013-07-25 00:53:38 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-25 00:53:38 Installing easy_install script to /usr/local/bin
2013-07-25 00:53:38 Installing easy_install-2.7 script to /usr/local/bin
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for jsonpatch==0.12
2013-07-25 00:53:38 Best match: jsonpatch 0.12
2013-07-25 00:53:38 jsonpatch 0.12 is already the active version in easy-install.pth
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for jsonschema==0.8.0
2013-07-25 00:53:38 Best match: jsonschema 0.8.0
2013-07-25 00:53:38 jsonschema 0.8.0 is already the active version in easy-install.pth
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:38 Searching for jsonpointer==0.7
2013-07-25 00:53:38 Best match: jsonpointer 0.7
2013-07-25 00:53:38 jsonpointer 0.7 is already the active version in easy-install.pth
2013-07-25 00:53:38 
2013-07-25 00:53:38 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:38 Finished processing dependencies for python-openstackclient==8737539
2013-07-25 00:53:38 + is_service_enabled key g-api n-api swift
2013-07-25 00:53:38 + services='key g-api n-api swift'
2013-07-25 00:53:38 + for service in '${services}'
2013-07-25 00:53:38 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,key, ]]
2013-07-25 00:53:38 + return 0
2013-07-25 00:53:38 + configure_keystone
2013-07-25 00:53:38 + setup_develop /opt/stack/keystone
2013-07-25 00:53:38 + [[ False = True ]]
2013-07-25 00:53:38 + SUDO_CMD=sudo
2013-07-25 00:53:38 + cd /opt/stack/keystone
2013-07-25 00:53:38 + python setup.py egg_info
2013-07-25 00:53:38 running egg_info
2013-07-25 00:53:38 writing requirements to keystone.egg-info/requires.txt
2013-07-25 00:53:38 writing keystone.egg-info/PKG-INFO
2013-07-25 00:53:38 writing top-level names to keystone.egg-info/top_level.txt
2013-07-25 00:53:38 writing dependency_links to keystone.egg-info/dependency_links.txt
2013-07-25 00:53:39 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:39 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:39 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:39 warning: no files found matching 'run_tests.py'
2013-07-25 00:53:39 warning: no files found matching '*.json' under directory 'keystone'
2013-07-25 00:53:39 warning: no files found matching '*.xml' under directory 'keystone'
2013-07-25 00:53:39 warning: no files found matching '*.pem' under directory 'keystone'
2013-07-25 00:53:39 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-25 00:53:39 warning: no previously-included files matching '*.log' found anywhere in distribution
2013-07-25 00:53:39 warning: no previously-included files matching '*.db' found anywhere in distribution
2013-07-25 00:53:39 warning: no previously-included files matching '*.swp' found anywhere in distribution
2013-07-25 00:53:39 writing manifest file 'keystone.egg-info/SOURCES.txt'
2013-07-25 00:53:39 ++ awk '/^.+/ {print "-f " $1}' keystone.egg-info/dependency_links.txt
2013-07-25 00:53:39 + raw_links='-f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config'
2013-07-25 00:53:39 ++ xargs
2013-07-25 00:53:39 ++ echo -f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config
2013-07-25 00:53:39 + depend_links='-f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config'
2013-07-25 00:53:39 ++ '[' '!' -r keystone.egg-info/requires.txt ']'
2013-07-25 00:53:39 ++ echo '-r *-info/requires.txt'
2013-07-25 00:53:39 + require_file='-r *-info/requires.txt'
2013-07-25 00:53:39 + pip_install -r keystone.egg-info/requires.txt -f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config
2013-07-25 00:53:39 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:39 + return
2013-07-25 00:53:39 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-25 00:53:39 running develop
2013-07-25 00:53:39 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-25 00:53:39 /usr/bin/python -E -c pass
2013-07-25 00:53:39 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-25 00:53:39 running egg_info
2013-07-25 00:53:39 writing requirements to keystone.egg-info/requires.txt
2013-07-25 00:53:39 writing keystone.egg-info/PKG-INFO
2013-07-25 00:53:39 writing top-level names to keystone.egg-info/top_level.txt
2013-07-25 00:53:39 writing dependency_links to keystone.egg-info/dependency_links.txt
2013-07-25 00:53:39 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:39 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:39 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:39 warning: no files found matching 'run_tests.py'
2013-07-25 00:53:39 warning: no files found matching '*.json' under directory 'keystone'
2013-07-25 00:53:39 warning: no files found matching '*.xml' under directory 'keystone'
2013-07-25 00:53:39 warning: no files found matching '*.pem' under directory 'keystone'
2013-07-25 00:53:39 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-25 00:53:39 warning: no previously-included files matching '*.log' found anywhere in distribution
2013-07-25 00:53:39 warning: no previously-included files matching '*.db' found anywhere in distribution
2013-07-25 00:53:39 warning: no previously-included files matching '*.swp' found anywhere in distribution
2013-07-25 00:53:39 writing manifest file 'keystone.egg-info/SOURCES.txt'
2013-07-25 00:53:39 running build_ext
2013-07-25 00:53:39 Creating /usr/local/lib/python2.7/dist-packages/keystone.egg-link (link to .)
2013-07-25 00:53:39 keystone 2013.1.a202.g9fa6e0a is already the active version in easy-install.pth
2013-07-25 00:53:39 Installing keystone-all script to /usr/local/bin
2013-07-25 00:53:39 Installing keystone-manage script to /usr/local/bin
2013-07-25 00:53:39 
2013-07-25 00:53:39 Installed /opt/stack/keystone
2013-07-25 00:53:39 Processing dependencies for keystone==2013.1.a202.g9fa6e0a
2013-07-25 00:53:39 Searching for oslo-config==2013.1b4
2013-07-25 00:53:39 Best match: oslo-config 2013.1b4
2013-07-25 00:53:39 oslo-config 2013.1b4 is already the active version in easy-install.pth
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for python-keystoneclient==0.2.2.56.g3ce3fe8
2013-07-25 00:53:39 Best match: python-keystoneclient 0.2.2.56.g3ce3fe8
2013-07-25 00:53:39 python-keystoneclient 0.2.2.56.g3ce3fe8 is already the active version in easy-install.pth
2013-07-25 00:53:39 Installing keystone script to /usr/local/bin
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /opt/stack/python-keystoneclient
2013-07-25 00:53:39 Searching for iso8601==0.1.4
2013-07-25 00:53:39 Best match: iso8601 0.1.4
2013-07-25 00:53:39 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for lxml==2.3.2
2013-07-25 00:53:39 Best match: lxml 2.3.2
2013-07-25 00:53:39 Adding lxml 2.3.2 to easy-install.pth file
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for passlib==1.6.1
2013-07-25 00:53:39 Best match: passlib 1.6.1
2013-07-25 00:53:39 passlib 1.6.1 is already the active version in easy-install.pth
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for sqlalchemy-migrate==0.7.2
2013-07-25 00:53:39 Best match: sqlalchemy-migrate 0.7.2
2013-07-25 00:53:39 Adding sqlalchemy-migrate 0.7.2 to easy-install.pth file
2013-07-25 00:53:39 Installing migrate script to /usr/local/bin
2013-07-25 00:53:39 Installing migrate-repository script to /usr/local/bin
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for SQLAlchemy==0.7.9
2013-07-25 00:53:39 Best match: SQLAlchemy 0.7.9
2013-07-25 00:53:39 SQLAlchemy 0.7.9 is already the active version in easy-install.pth
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for Routes==1.12.3
2013-07-25 00:53:39 Best match: Routes 1.12.3
2013-07-25 00:53:39 Adding Routes 1.12.3 to easy-install.pth file
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for Paste==1.7.5.1
2013-07-25 00:53:39 Best match: Paste 1.7.5.1
2013-07-25 00:53:39 Adding Paste 1.7.5.1 to easy-install.pth file
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for PasteDeploy==1.5.0
2013-07-25 00:53:39 Best match: PasteDeploy 1.5.0
2013-07-25 00:53:39 Adding PasteDeploy 1.5.0 to easy-install.pth file
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for greenlet==0.3.1
2013-07-25 00:53:39 Best match: greenlet 0.3.1
2013-07-25 00:53:39 Adding greenlet 0.3.1 to easy-install.pth file
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for eventlet==0.12.1
2013-07-25 00:53:39 Best match: eventlet 0.12.1
2013-07-25 00:53:39 eventlet 0.12.1 is already the active version in easy-install.pth
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for WebOb==1.2.3
2013-07-25 00:53:39 Best match: WebOb 1.2.3
2013-07-25 00:53:39 WebOb 1.2.3 is already the active version in easy-install.pth
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for pam==0.1.4
2013-07-25 00:53:39 Best match: pam 0.1.4
2013-07-25 00:53:39 pam 0.1.4 is already the active version in easy-install.pth
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for simplejson==2.3.2
2013-07-25 00:53:39 Best match: simplejson 2.3.2
2013-07-25 00:53:39 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for requests==0.14.2
2013-07-25 00:53:39 Best match: requests 0.14.2
2013-07-25 00:53:39 Processing requests-0.14.2-py2.7.egg
2013-07-25 00:53:39 Removing requests 0.14.2 from easy-install.pth file
2013-07-25 00:53:39 requests 0.14.2 is already the active version in easy-install.pth
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg
2013-07-25 00:53:39 Searching for prettytable==0.6.1
2013-07-25 00:53:39 Best match: prettytable 0.6.1
2013-07-25 00:53:39 Adding prettytable 0.6.1 to easy-install.pth file
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for Tempita==0.5.1
2013-07-25 00:53:39 Best match: Tempita 0.5.1
2013-07-25 00:53:39 Adding Tempita 0.5.1 to easy-install.pth file
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:39 Searching for decorator==3.3.2
2013-07-25 00:53:39 Best match: decorator 3.3.2
2013-07-25 00:53:39 Adding decorator 3.3.2 to easy-install.pth file
2013-07-25 00:53:39 
2013-07-25 00:53:39 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:39 Finished processing dependencies for keystone==2013.1.a202.g9fa6e0a
2013-07-25 00:53:39 + [[ ! -d /etc/keystone ]]
2013-07-25 00:53:39 + sudo chown stack /etc/keystone
2013-07-25 00:53:39 + [[ /etc/keystone != \/\o\p\t\/\s\t\a\c\k\/\k\e\y\s\t\o\n\e\/\e\t\c ]]
2013-07-25 00:53:39 + cp -p /opt/stack/keystone/etc/keystone.conf.sample /etc/keystone/keystone.conf
2013-07-25 00:53:39 + cp -p /opt/stack/keystone/etc/policy.json /etc/keystone
2013-07-25 00:53:39 + local dburl
2013-07-25 00:53:39 + database_connection_url dburl keystone
2013-07-25 00:53:39 + local var=dburl
2013-07-25 00:53:39 + local db=keystone
2013-07-25 00:53:39 + database_connection_url_mysql dburl keystone
2013-07-25 00:53:39 + local output=dburl
2013-07-25 00:53:39 + local db=keystone
2013-07-25 00:53:39 + eval 'dburl=mysql://root:f37ccdd1ded5c0dd33c9@localhost/keystone?charset=utf8'
2013-07-25 00:53:39 ++ dburl='mysql://root:f37ccdd1ded5c0dd33c9@localhost/keystone?charset=utf8'
2013-07-25 00:53:39 + is_service_enabled ldap
2013-07-25 00:53:39 + services=ldap
2013-07-25 00:53:39 + for service in '${services}'
2013-07-25 00:53:39 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,ldap, ]]
2013-07-25 00:53:39 + [[ ldap == \n\o\v\a ]]
2013-07-25 00:53:39 + [[ ldap == \c\i\n\d\e\r ]]
2013-07-25 00:53:39 + [[ ldap == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:39 + [[ ldap == \g\l\a\n\c\e ]]
2013-07-25 00:53:39 + [[ ldap == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:39 + return 1
2013-07-25 00:53:39 + [[ '' == \l\d\a\p ]]
2013-07-25 00:53:39 + is_service_enabled tls-proxy
2013-07-25 00:53:39 + services=tls-proxy
2013-07-25 00:53:39 + for service in '${services}'
2013-07-25 00:53:39 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-25 00:53:39 + [[ tls-proxy == \n\o\v\a ]]
2013-07-25 00:53:39 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-25 00:53:39 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:39 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-25 00:53:39 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:39 + return 1
2013-07-25 00:53:39 + iniset /etc/keystone/keystone.conf DEFAULT admin_token d3b5be7c95e4c660c01a
2013-07-25 00:53:39 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:39 + local section=DEFAULT
2013-07-25 00:53:39 + local option=admin_token
2013-07-25 00:53:39 + local value=d3b5be7c95e4c660c01a
2013-07-25 00:53:39 + grep -q '^\[DEFAULT\]' /etc/keystone/keystone.conf
2013-07-25 00:53:39 + ini_has_option /etc/keystone/keystone.conf DEFAULT admin_token
2013-07-25 00:53:39 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:39 + local section=DEFAULT
2013-07-25 00:53:39 + local option=admin_token
2013-07-25 00:53:39 + local line
2013-07-25 00:53:39 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^admin_token[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-25 00:53:39 + line=
2013-07-25 00:53:39 + '[' -n '' ']'
2013-07-25 00:53:39 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:39 admin_token = d3b5be7c95e4c660c01a
2013-07-25 00:53:39 ' /etc/keystone/keystone.conf
2013-07-25 00:53:39 + iniset /etc/keystone/keystone.conf signing token_format PKI
2013-07-25 00:53:39 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:39 + local section=signing
2013-07-25 00:53:39 + local option=token_format
2013-07-25 00:53:39 + local value=PKI
2013-07-25 00:53:39 + grep -q '^\[signing\]' /etc/keystone/keystone.conf
2013-07-25 00:53:39 + ini_has_option /etc/keystone/keystone.conf signing token_format
2013-07-25 00:53:39 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:39 + local section=signing
2013-07-25 00:53:39 + local option=token_format
2013-07-25 00:53:39 + local line
2013-07-25 00:53:39 ++ sed -ne '/^\[signing\]/,/^\[.*\]/ { /^token_format[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-25 00:53:39 + line=
2013-07-25 00:53:39 + '[' -n '' ']'
2013-07-25 00:53:39 + sed -i -e '/^\[signing\]/ a\
2013-07-25 00:53:39 token_format = PKI
2013-07-25 00:53:39 ' /etc/keystone/keystone.conf
2013-07-25 00:53:39 + iniset /etc/keystone/keystone.conf sql connection 'mysql://root:f37ccdd1ded5c0dd33c9@localhost/keystone?charset=utf8'
2013-07-25 00:53:39 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:39 + local section=sql
2013-07-25 00:53:39 + local option=connection
2013-07-25 00:53:39 + local 'value=mysql://root:f37ccdd1ded5c0dd33c9@localhost/keystone?charset=utf8'
2013-07-25 00:53:39 + grep -q '^\[sql\]' /etc/keystone/keystone.conf
2013-07-25 00:53:39 + ini_has_option /etc/keystone/keystone.conf sql connection
2013-07-25 00:53:39 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:39 + local section=sql
2013-07-25 00:53:39 + local option=connection
2013-07-25 00:53:39 + local line
2013-07-25 00:53:40 ++ sed -ne '/^\[sql\]/,/^\[.*\]/ { /^connection[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + line=
2013-07-25 00:53:40 + '[' -n '' ']'
2013-07-25 00:53:40 + sed -i -e '/^\[sql\]/ a\
2013-07-25 00:53:40 connection = mysql://root:f37ccdd1ded5c0dd33c9@localhost/keystone?charset=utf8
2013-07-25 00:53:40 ' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + iniset /etc/keystone/keystone.conf ec2 driver keystone.contrib.ec2.backends.sql.Ec2
2013-07-25 00:53:40 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:40 + local section=ec2
2013-07-25 00:53:40 + local option=driver
2013-07-25 00:53:40 + local value=keystone.contrib.ec2.backends.sql.Ec2
2013-07-25 00:53:40 + grep -q '^\[ec2\]' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + ini_has_option /etc/keystone/keystone.conf ec2 driver
2013-07-25 00:53:40 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:40 + local section=ec2
2013-07-25 00:53:40 + local option=driver
2013-07-25 00:53:40 + local line
2013-07-25 00:53:40 ++ sed -ne '/^\[ec2\]/,/^\[.*\]/ { /^driver[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + line=
2013-07-25 00:53:40 + '[' -n '' ']'
2013-07-25 00:53:40 + sed -i -e '/^\[ec2\]/ a\
2013-07-25 00:53:40 driver = keystone.contrib.ec2.backends.sql.Ec2
2013-07-25 00:53:40 ' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + sed -e '
2013-07-25 00:53:40         /^pipeline.*ec2_extension crud_/s|ec2_extension crud_extension|ec2_extension s3_extension crud_extension|;
2013-07-25 00:53:40     ' -i /etc/keystone/keystone.conf
2013-07-25 00:53:40 + iniset /etc/keystone/keystone.conf filter:s3_extension paste.filter_factory keystone.contrib.s3:S3Extension.factory
2013-07-25 00:53:40 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:40 + local section=filter:s3_extension
2013-07-25 00:53:40 + local option=paste.filter_factory
2013-07-25 00:53:40 + local value=keystone.contrib.s3:S3Extension.factory
2013-07-25 00:53:40 + grep -q '^\[filter:s3_extension\]' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + ini_has_option /etc/keystone/keystone.conf filter:s3_extension paste.filter_factory
2013-07-25 00:53:40 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:40 + local section=filter:s3_extension
2013-07-25 00:53:40 + local option=paste.filter_factory
2013-07-25 00:53:40 + local line
2013-07-25 00:53:40 ++ sed -ne '/^\[filter:s3_extension\]/,/^\[.*\]/ { /^paste.filter_factory[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + line='paste.filter_factory = keystone.contrib.s3:S3Extension.factory'
2013-07-25 00:53:40 + '[' -n 'paste.filter_factory = keystone.contrib.s3:S3Extension.factory' ']'
2013-07-25 00:53:40 + sed -i -e '/^\[filter:s3_extension\]/,/^\[.*\]/ s|^\(paste.filter_factory[ \t]*=[ \t]*\).*$|\1keystone.contrib.s3:S3Extension.factory|' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + [[ sql = \s\q\l ]]
2013-07-25 00:53:40 + iniset /etc/keystone/keystone.conf token driver keystone.token.backends.sql.Token
2013-07-25 00:53:40 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:40 + local section=token
2013-07-25 00:53:40 + local option=driver
2013-07-25 00:53:40 + local value=keystone.token.backends.sql.Token
2013-07-25 00:53:40 + grep -q '^\[token\]' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + ini_has_option /etc/keystone/keystone.conf token driver
2013-07-25 00:53:40 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:40 + local section=token
2013-07-25 00:53:40 + local option=driver
2013-07-25 00:53:40 + local line
2013-07-25 00:53:40 ++ sed -ne '/^\[token\]/,/^\[.*\]/ { /^driver[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + line=
2013-07-25 00:53:40 + '[' -n '' ']'
2013-07-25 00:53:40 + sed -i -e '/^\[token\]/ a\
2013-07-25 00:53:40 driver = keystone.token.backends.sql.Token
2013-07-25 00:53:40 ' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + [[ sql = \s\q\l ]]
2013-07-25 00:53:40 + iniset /etc/keystone/keystone.conf catalog driver keystone.catalog.backends.sql.Catalog
2013-07-25 00:53:40 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:40 + local section=catalog
2013-07-25 00:53:40 + local option=driver
2013-07-25 00:53:40 + local value=keystone.catalog.backends.sql.Catalog
2013-07-25 00:53:40 + grep -q '^\[catalog\]' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + ini_has_option /etc/keystone/keystone.conf catalog driver
2013-07-25 00:53:40 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:40 + local section=catalog
2013-07-25 00:53:40 + local option=driver
2013-07-25 00:53:40 + local line
2013-07-25 00:53:40 ++ sed -ne '/^\[catalog\]/,/^\[.*\]/ { /^driver[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + line=
2013-07-25 00:53:40 + '[' -n '' ']'
2013-07-25 00:53:40 + sed -i -e '/^\[catalog\]/ a\
2013-07-25 00:53:40 driver = keystone.catalog.backends.sql.Catalog
2013-07-25 00:53:40 ' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + inicomment /etc/keystone/keystone.conf catalog template_file
2013-07-25 00:53:40 + local file=/etc/keystone/keystone.conf
2013-07-25 00:53:40 + local section=catalog
2013-07-25 00:53:40 + local option=template_file
2013-07-25 00:53:40 + sed -i -e '/^\[catalog\]/,/^\[.*\]/ s|^\(template_file[ \t]*=.*$\)|#\1|' /etc/keystone/keystone.conf
2013-07-25 00:53:40 + LOGGING_ROOT=devel
2013-07-25 00:53:40 + '[' False '!=' False ']'
2013-07-25 00:53:40 + KEYSTONE_LOG_CONFIG='--log-config /etc/keystone/logging.conf'
2013-07-25 00:53:40 + cp /opt/stack/keystone/etc/logging.conf.sample /etc/keystone/logging.conf
2013-07-25 00:53:40 + iniset /etc/keystone/logging.conf logger_root level DEBUG
2013-07-25 00:53:40 + local file=/etc/keystone/logging.conf
2013-07-25 00:53:40 + local section=logger_root
2013-07-25 00:53:40 + local option=level
2013-07-25 00:53:40 + local value=DEBUG
2013-07-25 00:53:40 + grep -q '^\[logger_root\]' /etc/keystone/logging.conf
2013-07-25 00:53:40 + ini_has_option /etc/keystone/logging.conf logger_root level
2013-07-25 00:53:40 + local file=/etc/keystone/logging.conf
2013-07-25 00:53:40 + local section=logger_root
2013-07-25 00:53:40 + local option=level
2013-07-25 00:53:40 + local line
2013-07-25 00:53:40 ++ sed -ne '/^\[logger_root\]/,/^\[.*\]/ { /^level[ \t]*=/ p; }' /etc/keystone/logging.conf
2013-07-25 00:53:40 + line=level=WARNING
2013-07-25 00:53:40 + '[' -n level=WARNING ']'
2013-07-25 00:53:40 + sed -i -e '/^\[logger_root\]/,/^\[.*\]/ s|^\(level[ \t]*=[ \t]*\).*$|\1DEBUG|' /etc/keystone/logging.conf
2013-07-25 00:53:40 + iniset /etc/keystone/logging.conf logger_root handlers devel,production
2013-07-25 00:53:40 + local file=/etc/keystone/logging.conf
2013-07-25 00:53:40 + local section=logger_root
2013-07-25 00:53:40 + local option=handlers
2013-07-25 00:53:40 + local value=devel,production
2013-07-25 00:53:40 + grep -q '^\[logger_root\]' /etc/keystone/logging.conf
2013-07-25 00:53:40 + ini_has_option /etc/keystone/logging.conf logger_root handlers
2013-07-25 00:53:40 + local file=/etc/keystone/logging.conf
2013-07-25 00:53:40 + local section=logger_root
2013-07-25 00:53:40 + local option=handlers
2013-07-25 00:53:40 + local line
2013-07-25 00:53:40 ++ sed -ne '/^\[logger_root\]/,/^\[.*\]/ { /^handlers[ \t]*=/ p; }' /etc/keystone/logging.conf
2013-07-25 00:53:40 + line=handlers=file
2013-07-25 00:53:40 + '[' -n handlers=file ']'
2013-07-25 00:53:40 + sed -i -e '/^\[logger_root\]/,/^\[.*\]/ s|^\(handlers[ \t]*=[ \t]*\).*$|\1devel,production|' /etc/keystone/logging.conf
2013-07-25 00:53:40 + is_service_enabled swift
2013-07-25 00:53:40 + services=swift
2013-07-25 00:53:40 + for service in '${services}'
2013-07-25 00:53:40 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,swift, ]]
2013-07-25 00:53:40 + [[ swift == \n\o\v\a ]]
2013-07-25 00:53:40 + [[ swift == \c\i\n\d\e\r ]]
2013-07-25 00:53:40 + [[ swift == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:40 + [[ swift == \g\l\a\n\c\e ]]
2013-07-25 00:53:40 + [[ swift == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:40 + return 1
2013-07-25 00:53:40 + is_service_enabled g-api n-api
2013-07-25 00:53:40 + services='g-api n-api'
2013-07-25 00:53:40 + for service in '${services}'
2013-07-25 00:53:40 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-api, ]]
2013-07-25 00:53:40 + return 0
2013-07-25 00:53:40 + configure_glance
2013-07-25 00:53:40 + setup_develop /opt/stack/glance
2013-07-25 00:53:40 + [[ False = True ]]
2013-07-25 00:53:40 + SUDO_CMD=sudo
2013-07-25 00:53:40 + cd /opt/stack/glance
2013-07-25 00:53:40 + python setup.py egg_info
2013-07-25 00:53:40 running egg_info
2013-07-25 00:53:40 writing requirements to glance.egg-info/requires.txt
2013-07-25 00:53:40 writing glance.egg-info/PKG-INFO
2013-07-25 00:53:40 writing top-level names to glance.egg-info/top_level.txt
2013-07-25 00:53:40 writing dependency_links to glance.egg-info/dependency_links.txt
2013-07-25 00:53:40 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:40 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:40 warning: no files found matching 'builddeb.sh'
2013-07-25 00:53:40 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:40 warning: no files found matching 'run_tests.py'
2013-07-25 00:53:40 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:40 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-25 00:53:40 writing manifest file 'glance.egg-info/SOURCES.txt'
2013-07-25 00:53:40 ++ awk '/^.+/ {print "-f " $1}' glance.egg-info/dependency_links.txt
2013-07-25 00:53:40 + raw_links='-f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config'
2013-07-25 00:53:40 ++ xargs
2013-07-25 00:53:40 ++ echo -f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config
2013-07-25 00:53:40 + depend_links='-f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config'
2013-07-25 00:53:40 ++ '[' '!' -r glance.egg-info/requires.txt ']'
2013-07-25 00:53:40 ++ echo '-r *-info/requires.txt'
2013-07-25 00:53:40 + require_file='-r *-info/requires.txt'
2013-07-25 00:53:40 + pip_install -r glance.egg-info/requires.txt -f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config
2013-07-25 00:53:40 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:40 + return
2013-07-25 00:53:40 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-25 00:53:40 running develop
2013-07-25 00:53:40 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-25 00:53:40 /usr/bin/python -E -c pass
2013-07-25 00:53:40 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-25 00:53:40 running egg_info
2013-07-25 00:53:40 writing requirements to glance.egg-info/requires.txt
2013-07-25 00:53:40 writing glance.egg-info/PKG-INFO
2013-07-25 00:53:40 writing top-level names to glance.egg-info/top_level.txt
2013-07-25 00:53:40 writing dependency_links to glance.egg-info/dependency_links.txt
2013-07-25 00:53:40 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:40 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:40 warning: no files found matching 'builddeb.sh'
2013-07-25 00:53:40 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:40 warning: no files found matching 'run_tests.py'
2013-07-25 00:53:40 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:40 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-25 00:53:40 writing manifest file 'glance.egg-info/SOURCES.txt'
2013-07-25 00:53:40 running build_ext
2013-07-25 00:53:40 Creating /usr/local/lib/python2.7/dist-packages/glance.egg-link (link to .)
2013-07-25 00:53:40 glance 2013.1.a40.g4b705d7 is already the active version in easy-install.pth
2013-07-25 00:53:40 Installing glance-api script to /usr/local/bin
2013-07-25 00:53:40 Installing glance-cache-prefetcher script to /usr/local/bin
2013-07-25 00:53:40 Installing glance-cache-pruner script to /usr/local/bin
2013-07-25 00:53:40 Installing glance-cache-manage script to /usr/local/bin
2013-07-25 00:53:40 Installing glance-cache-cleaner script to /usr/local/bin
2013-07-25 00:53:40 Installing glance-control script to /usr/local/bin
2013-07-25 00:53:40 Installing glance-manage script to /usr/local/bin
2013-07-25 00:53:40 Installing glance-registry script to /usr/local/bin
2013-07-25 00:53:40 Installing glance-replicator script to /usr/local/bin
2013-07-25 00:53:40 Installing glance-scrubber script to /usr/local/bin
2013-07-25 00:53:40 
2013-07-25 00:53:40 Installed /opt/stack/glance
2013-07-25 00:53:40 Processing dependencies for glance==2013.1.a40.g4b705d7
2013-07-25 00:53:40 Searching for oslo-config==2013.1b4
2013-07-25 00:53:40 Best match: oslo-config 2013.1b4
2013-07-25 00:53:40 oslo-config 2013.1b4 is already the active version in easy-install.pth
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:40 Searching for python-keystoneclient==0.2.2.56.g3ce3fe8
2013-07-25 00:53:40 Best match: python-keystoneclient 0.2.2.56.g3ce3fe8
2013-07-25 00:53:40 python-keystoneclient 0.2.2.56.g3ce3fe8 is already the active version in easy-install.pth
2013-07-25 00:53:40 Installing keystone script to /usr/local/bin
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /opt/stack/python-keystoneclient
2013-07-25 00:53:40 Searching for jsonschema==0.8.0
2013-07-25 00:53:40 Best match: jsonschema 0.8.0
2013-07-25 00:53:40 jsonschema 0.8.0 is already the active version in easy-install.pth
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:40 Searching for passlib==1.6.1
2013-07-25 00:53:40 Best match: passlib 1.6.1
2013-07-25 00:53:40 passlib 1.6.1 is already the active version in easy-install.pth
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:40 Searching for Paste==1.7.5.1
2013-07-25 00:53:40 Best match: Paste 1.7.5.1
2013-07-25 00:53:40 Adding Paste 1.7.5.1 to easy-install.pth file
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:40 Searching for lxml==2.3.2
2013-07-25 00:53:40 Best match: lxml 2.3.2
2013-07-25 00:53:40 Adding lxml 2.3.2 to easy-install.pth file
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:40 Searching for python-swiftclient==1.3.0
2013-07-25 00:53:40 Best match: python-swiftclient 1.3.0
2013-07-25 00:53:40 python-swiftclient 1.3.0 is already the active version in easy-install.pth
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:40 Searching for iso8601==0.1.4
2013-07-25 00:53:40 Best match: iso8601 0.1.4
2013-07-25 00:53:40 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:40 Searching for pycrypto==2.4.1
2013-07-25 00:53:40 Best match: pycrypto 2.4.1
2013-07-25 00:53:40 Adding pycrypto 2.4.1 to easy-install.pth file
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:40 Searching for kombu==1.4.3
2013-07-25 00:53:40 Best match: kombu 1.4.3
2013-07-25 00:53:40 Adding kombu 1.4.3 to easy-install.pth file
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:40 Searching for httplib2==0.7.2
2013-07-25 00:53:40 Best match: httplib2 0.7.2
2013-07-25 00:53:40 Adding httplib2 0.7.2 to easy-install.pth file
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:40 Searching for sqlalchemy-migrate==0.7.2
2013-07-25 00:53:40 Best match: sqlalchemy-migrate 0.7.2
2013-07-25 00:53:40 Adding sqlalchemy-migrate 0.7.2 to easy-install.pth file
2013-07-25 00:53:40 Installing migrate script to /usr/local/bin
2013-07-25 00:53:40 Installing migrate-repository script to /usr/local/bin
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:40 Searching for boto==2.2.2
2013-07-25 00:53:40 Best match: boto 2.2.2
2013-07-25 00:53:40 Adding boto 2.2.2 to easy-install.pth file
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:40 Searching for wsgiref==0.1.2
2013-07-25 00:53:40 Best match: wsgiref 0.1.2
2013-07-25 00:53:40 wsgiref 0.1.2 is already the active version in easy-install.pth
2013-07-25 00:53:40 
2013-07-25 00:53:40 Using /usr/lib/python2.7
2013-07-25 00:53:40 Searching for WebOb==1.2.3
2013-07-25 00:53:41 Best match: WebOb 1.2.3
2013-07-25 00:53:41 WebOb 1.2.3 is already the active version in easy-install.pth
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:41 Searching for Routes==1.12.3
2013-07-25 00:53:41 Best match: Routes 1.12.3
2013-07-25 00:53:41 Adding Routes 1.12.3 to easy-install.pth file
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:41 Searching for PasteDeploy==1.5.0
2013-07-25 00:53:41 Best match: PasteDeploy 1.5.0
2013-07-25 00:53:41 Adding PasteDeploy 1.5.0 to easy-install.pth file
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:41 Searching for eventlet==0.12.1
2013-07-25 00:53:41 Best match: eventlet 0.12.1
2013-07-25 00:53:41 eventlet 0.12.1 is already the active version in easy-install.pth
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:41 Searching for anyjson==0.3.1
2013-07-25 00:53:41 Best match: anyjson 0.3.1
2013-07-25 00:53:41 Adding anyjson 0.3.1 to easy-install.pth file
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:41 Searching for SQLAlchemy==0.7.9
2013-07-25 00:53:41 Best match: SQLAlchemy 0.7.9
2013-07-25 00:53:41 SQLAlchemy 0.7.9 is already the active version in easy-install.pth
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:41 Searching for greenlet==0.3.1
2013-07-25 00:53:41 Best match: greenlet 0.3.1
2013-07-25 00:53:41 Adding greenlet 0.3.1 to easy-install.pth file
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:41 Searching for simplejson==2.3.2
2013-07-25 00:53:41 Best match: simplejson 2.3.2
2013-07-25 00:53:41 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:41 Searching for requests==0.14.2
2013-07-25 00:53:41 Best match: requests 0.14.2
2013-07-25 00:53:41 Processing requests-0.14.2-py2.7.egg
2013-07-25 00:53:41 Removing requests 0.14.2 from easy-install.pth file
2013-07-25 00:53:41 requests 0.14.2 is already the active version in easy-install.pth
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg
2013-07-25 00:53:41 Searching for prettytable==0.6.1
2013-07-25 00:53:41 Best match: prettytable 0.6.1
2013-07-25 00:53:41 Adding prettytable 0.6.1 to easy-install.pth file
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:41 Searching for amqplib==1.0.0
2013-07-25 00:53:41 Best match: amqplib 1.0.0
2013-07-25 00:53:41 Adding amqplib 1.0.0 to easy-install.pth file
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:41 Searching for Tempita==0.5.1
2013-07-25 00:53:41 Best match: Tempita 0.5.1
2013-07-25 00:53:41 Adding Tempita 0.5.1 to easy-install.pth file
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:41 Searching for decorator==3.3.2
2013-07-25 00:53:41 Best match: decorator 3.3.2
2013-07-25 00:53:41 Adding decorator 3.3.2 to easy-install.pth file
2013-07-25 00:53:41 
2013-07-25 00:53:41 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:41 Finished processing dependencies for glance==2013.1.a40.g4b705d7
2013-07-25 00:53:41 + [[ ! -d /etc/glance ]]
2013-07-25 00:53:41 + sudo chown stack /etc/glance
2013-07-25 00:53:41 + cp /opt/stack/glance/etc/glance-registry.conf /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-registry.conf DEFAULT debug True
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=debug
2013-07-25 00:53:41 + local value=True
2013-07-25 00:53:41 + grep -q '^\[DEFAULT\]' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-registry.conf DEFAULT debug
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=debug
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^debug[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + line=
2013-07-25 00:53:41 + '[' -n '' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:41 debug = True
2013-07-25 00:53:41 ' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + inicomment /etc/glance/glance-registry.conf DEFAULT log_file
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=log_file
2013-07-25 00:53:41 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(log_file[ \t]*=.*$\)|#\1|' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local dburl
2013-07-25 00:53:41 + database_connection_url dburl glance
2013-07-25 00:53:41 + local var=dburl
2013-07-25 00:53:41 + local db=glance
2013-07-25 00:53:41 + database_connection_url_mysql dburl glance
2013-07-25 00:53:41 + local output=dburl
2013-07-25 00:53:41 + local db=glance
2013-07-25 00:53:41 + eval 'dburl=mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8'
2013-07-25 00:53:41 ++ dburl='mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8'
2013-07-25 00:53:41 + iniset /etc/glance/glance-registry.conf DEFAULT sql_connection 'mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8'
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=sql_connection
2013-07-25 00:53:41 + local 'value=mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8'
2013-07-25 00:53:41 + grep -q '^\[DEFAULT\]' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-registry.conf DEFAULT sql_connection
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=sql_connection
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^sql_connection[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + line='sql_connection = sqlite:///glance.sqlite'
2013-07-25 00:53:41 + '[' -n 'sql_connection = sqlite:///glance.sqlite' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(sql_connection[ \t]*=[ \t]*\).*$|\1mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8|' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-registry.conf DEFAULT use_syslog False
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=use_syslog
2013-07-25 00:53:41 + local value=False
2013-07-25 00:53:41 + grep -q '^\[DEFAULT\]' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-registry.conf DEFAULT use_syslog
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=use_syslog
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^use_syslog[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + line=
2013-07-25 00:53:41 + '[' -n '' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:41 use_syslog = False
2013-07-25 00:53:41 ' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-registry.conf paste_deploy flavor keystone
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=paste_deploy
2013-07-25 00:53:41 + local option=flavor
2013-07-25 00:53:41 + local value=keystone
2013-07-25 00:53:41 + grep -q '^\[paste_deploy\]' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-registry.conf paste_deploy flavor
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=paste_deploy
2013-07-25 00:53:41 + local option=flavor
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[paste_deploy\]/,/^\[.*\]/ { /^flavor[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + line=
2013-07-25 00:53:41 + '[' -n '' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[paste_deploy\]/ a\
2013-07-25 00:53:41 flavor = keystone
2013-07-25 00:53:41 ' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-registry.conf keystone_authtoken auth_host 129.127.10.133
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_host
2013-07-25 00:53:41 + local value=129.127.10.133
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken auth_host
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_host
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_host[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + line='auth_host = 127.0.0.1'
2013-07-25 00:53:41 + '[' -n 'auth_host = 127.0.0.1' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(auth_host[ \t]*=[ \t]*\).*$|\1129.127.10.133|' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-registry.conf keystone_authtoken auth_port 35357
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_port
2013-07-25 00:53:41 + local value=35357
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken auth_port
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_port
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_port[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + line='auth_port = 35357'
2013-07-25 00:53:41 + '[' -n 'auth_port = 35357' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(auth_port[ \t]*=[ \t]*\).*$|\135357|' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-registry.conf keystone_authtoken auth_protocol http
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_protocol
2013-07-25 00:53:41 + local value=http
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken auth_protocol
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_protocol
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_protocol[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + line='auth_protocol = http'
2013-07-25 00:53:41 + '[' -n 'auth_protocol = http' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(auth_protocol[ \t]*=[ \t]*\).*$|\1http|' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-registry.conf keystone_authtoken auth_uri http://129.127.10.133:5000/
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_uri
2013-07-25 00:53:41 + local value=http://129.127.10.133:5000/
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken auth_uri
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_uri
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_uri[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + line=
2013-07-25 00:53:41 + '[' -n '' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/ a\
2013-07-25 00:53:41 auth_uri = http://129.127.10.133:5000/
2013-07-25 00:53:41 ' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-registry.conf keystone_authtoken admin_tenant_name service
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=admin_tenant_name
2013-07-25 00:53:41 + local value=service
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken admin_tenant_name
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=admin_tenant_name
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^admin_tenant_name[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + line='admin_tenant_name = %SERVICE_TENANT_NAME%'
2013-07-25 00:53:41 + '[' -n 'admin_tenant_name = %SERVICE_TENANT_NAME%' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(admin_tenant_name[ \t]*=[ \t]*\).*$|\1service|' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-registry.conf keystone_authtoken admin_user glance
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=admin_user
2013-07-25 00:53:41 + local value=glance
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken admin_user
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=admin_user
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^admin_user[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + line='admin_user = %SERVICE_USER%'
2013-07-25 00:53:41 + '[' -n 'admin_user = %SERVICE_USER%' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(admin_user[ \t]*=[ \t]*\).*$|\1glance|' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-registry.conf keystone_authtoken admin_password b00cc1bf202ef80abbe0
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=admin_password
2013-07-25 00:53:41 + local value=b00cc1bf202ef80abbe0
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken admin_password
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=admin_password
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + line='admin_password = %SERVICE_PASSWORD%'
2013-07-25 00:53:41 + '[' -n 'admin_password = %SERVICE_PASSWORD%' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(admin_password[ \t]*=[ \t]*\).*$|\1b00cc1bf202ef80abbe0|' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-registry.conf keystone_authtoken signing_dir /var/cache/glance/registry
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=signing_dir
2013-07-25 00:53:41 + local value=/var/cache/glance/registry
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken signing_dir
2013-07-25 00:53:41 + local file=/etc/glance/glance-registry.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=signing_dir
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^signing_dir[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + line=
2013-07-25 00:53:41 + '[' -n '' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/ a\
2013-07-25 00:53:41 signing_dir = /var/cache/glance/registry
2013-07-25 00:53:41 ' /etc/glance/glance-registry.conf
2013-07-25 00:53:41 + cp /opt/stack/glance/etc/glance-api.conf /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf DEFAULT debug True
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=debug
2013-07-25 00:53:41 + local value=True
2013-07-25 00:53:41 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf DEFAULT debug
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=debug
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^debug[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line=
2013-07-25 00:53:41 + '[' -n '' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:41 debug = True
2013-07-25 00:53:41 ' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + inicomment /etc/glance/glance-api.conf DEFAULT log_file
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=log_file
2013-07-25 00:53:41 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(log_file[ \t]*=.*$\)|#\1|' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf DEFAULT sql_connection 'mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8'
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=sql_connection
2013-07-25 00:53:41 + local 'value=mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8'
2013-07-25 00:53:41 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf DEFAULT sql_connection
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=sql_connection
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^sql_connection[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line='sql_connection = sqlite:///glance.sqlite'
2013-07-25 00:53:41 + '[' -n 'sql_connection = sqlite:///glance.sqlite' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(sql_connection[ \t]*=[ \t]*\).*$|\1mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8|' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf DEFAULT use_syslog False
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=use_syslog
2013-07-25 00:53:41 + local value=False
2013-07-25 00:53:41 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf DEFAULT use_syslog
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=use_syslog
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^use_syslog[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line=
2013-07-25 00:53:41 + '[' -n '' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:41 use_syslog = False
2013-07-25 00:53:41 ' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf DEFAULT filesystem_store_datadir /opt/stack/data/glance/images/
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=filesystem_store_datadir
2013-07-25 00:53:41 + local value=/opt/stack/data/glance/images/
2013-07-25 00:53:41 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf DEFAULT filesystem_store_datadir
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=filesystem_store_datadir
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^filesystem_store_datadir[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line='filesystem_store_datadir = /var/lib/glance/images/'
2013-07-25 00:53:41 + '[' -n 'filesystem_store_datadir = /var/lib/glance/images/' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(filesystem_store_datadir[ \t]*=[ \t]*\).*$|\1/opt/stack/data/glance/images/|' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf DEFAULT image_cache_dir /opt/stack/data/glance/cache/
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=image_cache_dir
2013-07-25 00:53:41 + local value=/opt/stack/data/glance/cache/
2013-07-25 00:53:41 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf DEFAULT image_cache_dir
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=image_cache_dir
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^image_cache_dir[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line='image_cache_dir = /var/lib/glance/image-cache/'
2013-07-25 00:53:41 + '[' -n 'image_cache_dir = /var/lib/glance/image-cache/' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(image_cache_dir[ \t]*=[ \t]*\).*$|\1/opt/stack/data/glance/cache/|' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf paste_deploy flavor keystone+cachemanagement
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=paste_deploy
2013-07-25 00:53:41 + local option=flavor
2013-07-25 00:53:41 + local value=keystone+cachemanagement
2013-07-25 00:53:41 + grep -q '^\[paste_deploy\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf paste_deploy flavor
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=paste_deploy
2013-07-25 00:53:41 + local option=flavor
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[paste_deploy\]/,/^\[.*\]/ { /^flavor[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line=
2013-07-25 00:53:41 + '[' -n '' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[paste_deploy\]/ a\
2013-07-25 00:53:41 flavor = keystone+cachemanagement
2013-07-25 00:53:41 ' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf keystone_authtoken auth_host 129.127.10.133
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_host
2013-07-25 00:53:41 + local value=129.127.10.133
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken auth_host
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_host
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_host[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line='auth_host = 127.0.0.1'
2013-07-25 00:53:41 + '[' -n 'auth_host = 127.0.0.1' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(auth_host[ \t]*=[ \t]*\).*$|\1129.127.10.133|' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf keystone_authtoken auth_port 35357
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_port
2013-07-25 00:53:41 + local value=35357
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken auth_port
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_port
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_port[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line='auth_port = 35357'
2013-07-25 00:53:41 + '[' -n 'auth_port = 35357' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(auth_port[ \t]*=[ \t]*\).*$|\135357|' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf keystone_authtoken auth_protocol http
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_protocol
2013-07-25 00:53:41 + local value=http
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken auth_protocol
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_protocol
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_protocol[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line='auth_protocol = http'
2013-07-25 00:53:41 + '[' -n 'auth_protocol = http' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(auth_protocol[ \t]*=[ \t]*\).*$|\1http|' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf keystone_authtoken auth_uri http://129.127.10.133:5000/
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_uri
2013-07-25 00:53:41 + local value=http://129.127.10.133:5000/
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken auth_uri
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=auth_uri
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_uri[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line=
2013-07-25 00:53:41 + '[' -n '' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/ a\
2013-07-25 00:53:41 auth_uri = http://129.127.10.133:5000/
2013-07-25 00:53:41 ' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf keystone_authtoken admin_tenant_name service
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=admin_tenant_name
2013-07-25 00:53:41 + local value=service
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken admin_tenant_name
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=admin_tenant_name
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^admin_tenant_name[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line='admin_tenant_name = %SERVICE_TENANT_NAME%'
2013-07-25 00:53:41 + '[' -n 'admin_tenant_name = %SERVICE_TENANT_NAME%' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(admin_tenant_name[ \t]*=[ \t]*\).*$|\1service|' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf keystone_authtoken admin_user glance
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=admin_user
2013-07-25 00:53:41 + local value=glance
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken admin_user
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=admin_user
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^admin_user[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line='admin_user = %SERVICE_USER%'
2013-07-25 00:53:41 + '[' -n 'admin_user = %SERVICE_USER%' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(admin_user[ \t]*=[ \t]*\).*$|\1glance|' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf keystone_authtoken admin_password b00cc1bf202ef80abbe0
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=admin_password
2013-07-25 00:53:41 + local value=b00cc1bf202ef80abbe0
2013-07-25 00:53:41 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken admin_password
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=keystone_authtoken
2013-07-25 00:53:41 + local option=admin_password
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line='admin_password = %SERVICE_PASSWORD%'
2013-07-25 00:53:41 + '[' -n 'admin_password = %SERVICE_PASSWORD%' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(admin_password[ \t]*=[ \t]*\).*$|\1b00cc1bf202ef80abbe0|' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + is_service_enabled qpid
2013-07-25 00:53:41 + services=qpid
2013-07-25 00:53:41 + for service in '${services}'
2013-07-25 00:53:41 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,qpid, ]]
2013-07-25 00:53:41 + [[ qpid == \n\o\v\a ]]
2013-07-25 00:53:41 + [[ qpid == \c\i\n\d\e\r ]]
2013-07-25 00:53:41 + [[ qpid == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:41 + [[ qpid == \g\l\a\n\c\e ]]
2013-07-25 00:53:41 + [[ qpid == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:41 + return 1
2013-07-25 00:53:41 + '[' -n localhost ']'
2013-07-25 00:53:41 + '[' -n 25be6bc02b307784e519 ']'
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf DEFAULT notifier_strategy rabbit
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=notifier_strategy
2013-07-25 00:53:41 + local value=rabbit
2013-07-25 00:53:41 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf DEFAULT notifier_strategy
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=notifier_strategy
2013-07-25 00:53:41 + local line
2013-07-25 00:53:41 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^notifier_strategy[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + line='notifier_strategy = noop'
2013-07-25 00:53:41 + '[' -n 'notifier_strategy = noop' ']'
2013-07-25 00:53:41 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(notifier_strategy[ \t]*=[ \t]*\).*$|\1rabbit|' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + iniset /etc/glance/glance-api.conf DEFAULT rabbit_host localhost
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=rabbit_host
2013-07-25 00:53:41 + local value=localhost
2013-07-25 00:53:41 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-25 00:53:41 + ini_has_option /etc/glance/glance-api.conf DEFAULT rabbit_host
2013-07-25 00:53:41 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:41 + local section=DEFAULT
2013-07-25 00:53:41 + local option=rabbit_host
2013-07-25 00:53:42 + local line
2013-07-25 00:53:42 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rabbit_host[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:42 + line='rabbit_host = localhost'
2013-07-25 00:53:42 + '[' -n 'rabbit_host = localhost' ']'
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(rabbit_host[ \t]*=[ \t]*\).*$|\1localhost|' /etc/glance/glance-api.conf
2013-07-25 00:53:42 + iniset /etc/glance/glance-api.conf DEFAULT rabbit_password 25be6bc02b307784e519
2013-07-25 00:53:42 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=rabbit_password
2013-07-25 00:53:42 + local value=25be6bc02b307784e519
2013-07-25 00:53:42 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-25 00:53:42 + ini_has_option /etc/glance/glance-api.conf DEFAULT rabbit_password
2013-07-25 00:53:42 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=rabbit_password
2013-07-25 00:53:42 + local line
2013-07-25 00:53:42 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rabbit_password[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:42 + line='rabbit_password = guest'
2013-07-25 00:53:42 + '[' -n 'rabbit_password = guest' ']'
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(rabbit_password[ \t]*=[ \t]*\).*$|\125be6bc02b307784e519|' /etc/glance/glance-api.conf
2013-07-25 00:53:42 + iniset /etc/glance/glance-api.conf keystone_authtoken signing_dir /var/cache/glance/api
2013-07-25 00:53:42 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:42 + local section=keystone_authtoken
2013-07-25 00:53:42 + local option=signing_dir
2013-07-25 00:53:42 + local value=/var/cache/glance/api
2013-07-25 00:53:42 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-25 00:53:42 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken signing_dir
2013-07-25 00:53:42 + local file=/etc/glance/glance-api.conf
2013-07-25 00:53:42 + local section=keystone_authtoken
2013-07-25 00:53:42 + local option=signing_dir
2013-07-25 00:53:42 + local line
2013-07-25 00:53:42 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^signing_dir[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-25 00:53:42 + line=
2013-07-25 00:53:42 + '[' -n '' ']'
2013-07-25 00:53:42 + sed -i -e '/^\[keystone_authtoken\]/ a\
2013-07-25 00:53:42 signing_dir = /var/cache/glance/api
2013-07-25 00:53:42 ' /etc/glance/glance-api.conf
2013-07-25 00:53:42 + cp -p /opt/stack/glance/etc/glance-registry-paste.ini /etc/glance/glance-registry-paste.ini
2013-07-25 00:53:42 + cp -p /opt/stack/glance/etc/glance-api-paste.ini /etc/glance/glance-api-paste.ini
2013-07-25 00:53:42 + cp /opt/stack/glance/etc/glance-cache.conf /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + iniset /etc/glance/glance-cache.conf DEFAULT debug True
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=debug
2013-07-25 00:53:42 + local value=True
2013-07-25 00:53:42 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + ini_has_option /etc/glance/glance-cache.conf DEFAULT debug
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=debug
2013-07-25 00:53:42 + local line
2013-07-25 00:53:42 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^debug[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + line=
2013-07-25 00:53:42 + '[' -n '' ']'
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:42 debug = True
2013-07-25 00:53:42 ' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + inicomment /etc/glance/glance-cache.conf DEFAULT log_file
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=log_file
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(log_file[ \t]*=.*$\)|#\1|' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + iniset /etc/glance/glance-cache.conf DEFAULT use_syslog False
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=use_syslog
2013-07-25 00:53:42 + local value=False
2013-07-25 00:53:42 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + ini_has_option /etc/glance/glance-cache.conf DEFAULT use_syslog
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=use_syslog
2013-07-25 00:53:42 + local line
2013-07-25 00:53:42 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^use_syslog[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + line=
2013-07-25 00:53:42 + '[' -n '' ']'
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:42 use_syslog = False
2013-07-25 00:53:42 ' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + iniset /etc/glance/glance-cache.conf DEFAULT filesystem_store_datadir /opt/stack/data/glance/images/
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=filesystem_store_datadir
2013-07-25 00:53:42 + local value=/opt/stack/data/glance/images/
2013-07-25 00:53:42 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + ini_has_option /etc/glance/glance-cache.conf DEFAULT filesystem_store_datadir
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=filesystem_store_datadir
2013-07-25 00:53:42 + local line
2013-07-25 00:53:42 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^filesystem_store_datadir[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + line='filesystem_store_datadir = /var/lib/glance/images/'
2013-07-25 00:53:42 + '[' -n 'filesystem_store_datadir = /var/lib/glance/images/' ']'
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(filesystem_store_datadir[ \t]*=[ \t]*\).*$|\1/opt/stack/data/glance/images/|' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + iniset /etc/glance/glance-cache.conf DEFAULT image_cache_dir /opt/stack/data/glance/cache/
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=image_cache_dir
2013-07-25 00:53:42 + local value=/opt/stack/data/glance/cache/
2013-07-25 00:53:42 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + ini_has_option /etc/glance/glance-cache.conf DEFAULT image_cache_dir
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=image_cache_dir
2013-07-25 00:53:42 + local line
2013-07-25 00:53:42 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^image_cache_dir[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + line='image_cache_dir = /var/lib/glance/image-cache/'
2013-07-25 00:53:42 + '[' -n 'image_cache_dir = /var/lib/glance/image-cache/' ']'
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(image_cache_dir[ \t]*=[ \t]*\).*$|\1/opt/stack/data/glance/cache/|' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + iniuncomment /etc/glance/glance-cache.conf DEFAULT auth_url
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=auth_url
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|[^ \t]*#[ \t]*\(auth_url[ \t]*=.*$\)|\1|' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + iniset /etc/glance/glance-cache.conf DEFAULT auth_url http://129.127.10.133:35357/v2.0
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=auth_url
2013-07-25 00:53:42 + local value=http://129.127.10.133:35357/v2.0
2013-07-25 00:53:42 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + ini_has_option /etc/glance/glance-cache.conf DEFAULT auth_url
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=auth_url
2013-07-25 00:53:42 + local line
2013-07-25 00:53:42 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^auth_url[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + line='auth_url = http://127.0.0.1:5000/v2.0/'
2013-07-25 00:53:42 + '[' -n 'auth_url = http://127.0.0.1:5000/v2.0/' ']'
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(auth_url[ \t]*=[ \t]*\).*$|\1http://129.127.10.133:35357/v2.0|' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + iniuncomment /etc/glance/glance-cache.conf DEFAULT auth_tenant_name
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=auth_tenant_name
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|[^ \t]*#[ \t]*\(auth_tenant_name[ \t]*=.*$\)|\1|' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + iniset /etc/glance/glance-cache.conf DEFAULT admin_tenant_name service
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=admin_tenant_name
2013-07-25 00:53:42 + local value=service
2013-07-25 00:53:42 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + ini_has_option /etc/glance/glance-cache.conf DEFAULT admin_tenant_name
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=admin_tenant_name
2013-07-25 00:53:42 + local line
2013-07-25 00:53:42 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^admin_tenant_name[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + line=
2013-07-25 00:53:42 + '[' -n '' ']'
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:42 admin_tenant_name = service
2013-07-25 00:53:42 ' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + iniuncomment /etc/glance/glance-cache.conf DEFAULT auth_user
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=auth_user
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|[^ \t]*#[ \t]*\(auth_user[ \t]*=.*$\)|\1|' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + iniset /etc/glance/glance-cache.conf DEFAULT admin_user glance
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=admin_user
2013-07-25 00:53:42 + local value=glance
2013-07-25 00:53:42 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + ini_has_option /etc/glance/glance-cache.conf DEFAULT admin_user
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=admin_user
2013-07-25 00:53:42 + local line
2013-07-25 00:53:42 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^admin_user[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + line=
2013-07-25 00:53:42 + '[' -n '' ']'
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:42 admin_user = glance
2013-07-25 00:53:42 ' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + iniuncomment /etc/glance/glance-cache.conf DEFAULT auth_password
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=auth_password
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|[^ \t]*#[ \t]*\(auth_password[ \t]*=.*$\)|\1|' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + iniset /etc/glance/glance-cache.conf DEFAULT admin_password b00cc1bf202ef80abbe0
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=admin_password
2013-07-25 00:53:42 + local value=b00cc1bf202ef80abbe0
2013-07-25 00:53:42 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + ini_has_option /etc/glance/glance-cache.conf DEFAULT admin_password
2013-07-25 00:53:42 + local file=/etc/glance/glance-cache.conf
2013-07-25 00:53:42 + local section=DEFAULT
2013-07-25 00:53:42 + local option=admin_password
2013-07-25 00:53:42 + local line
2013-07-25 00:53:42 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + line=
2013-07-25 00:53:42 + '[' -n '' ']'
2013-07-25 00:53:42 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:42 admin_password = b00cc1bf202ef80abbe0
2013-07-25 00:53:42 ' /etc/glance/glance-cache.conf
2013-07-25 00:53:42 + cp -p /opt/stack/glance/etc/policy.json /etc/glance/policy.json
2013-07-25 00:53:42 + configure_glanceclient
2013-07-25 00:53:42 + setup_develop /opt/stack/python-glanceclient
2013-07-25 00:53:42 + [[ False = True ]]
2013-07-25 00:53:42 + SUDO_CMD=sudo
2013-07-25 00:53:42 + cd /opt/stack/python-glanceclient
2013-07-25 00:53:42 + python setup.py egg_info
2013-07-25 00:53:42 running egg_info
2013-07-25 00:53:42 writing requirements to python_glanceclient.egg-info/requires.txt
2013-07-25 00:53:42 writing python_glanceclient.egg-info/PKG-INFO
2013-07-25 00:53:42 writing top-level names to python_glanceclient.egg-info/top_level.txt
2013-07-25 00:53:42 writing dependency_links to python_glanceclient.egg-info/dependency_links.txt
2013-07-25 00:53:42 writing entry points to python_glanceclient.egg-info/entry_points.txt
2013-07-25 00:53:42 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:42 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:42 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:42 writing manifest file 'python_glanceclient.egg-info/SOURCES.txt'
2013-07-25 00:53:42 ++ awk '/^.+/ {print "-f " $1}' python_glanceclient.egg-info/dependency_links.txt
2013-07-25 00:53:42 + raw_links=
2013-07-25 00:53:42 ++ xargs
2013-07-25 00:53:42 ++ echo
2013-07-25 00:53:42 + depend_links=
2013-07-25 00:53:42 ++ '[' '!' -r python_glanceclient.egg-info/requires.txt ']'
2013-07-25 00:53:42 ++ echo '-r *-info/requires.txt'
2013-07-25 00:53:42 + require_file='-r *-info/requires.txt'
2013-07-25 00:53:42 + pip_install -r python_glanceclient.egg-info/requires.txt
2013-07-25 00:53:42 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:42 + return
2013-07-25 00:53:42 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-25 00:53:42 running develop
2013-07-25 00:53:42 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-25 00:53:42 /usr/bin/python -E -c pass
2013-07-25 00:53:42 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-25 00:53:42 running egg_info
2013-07-25 00:53:42 writing requirements to python_glanceclient.egg-info/requires.txt
2013-07-25 00:53:42 writing python_glanceclient.egg-info/PKG-INFO
2013-07-25 00:53:42 writing top-level names to python_glanceclient.egg-info/top_level.txt
2013-07-25 00:53:42 writing dependency_links to python_glanceclient.egg-info/dependency_links.txt
2013-07-25 00:53:42 writing entry points to python_glanceclient.egg-info/entry_points.txt
2013-07-25 00:53:42 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:42 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:42 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:42 writing manifest file 'python_glanceclient.egg-info/SOURCES.txt'
2013-07-25 00:53:42 running build_ext
2013-07-25 00:53:42 Creating /usr/local/lib/python2.7/dist-packages/python-glanceclient.egg-link (link to .)
2013-07-25 00:53:42 Removing python-glanceclient 0.8.0 from easy-install.pth file
2013-07-25 00:53:42 python-glanceclient 0.8.0.5.g0ca43be is already the active version in easy-install.pth
2013-07-25 00:53:42 Installing glance script to /usr/local/bin
2013-07-25 00:53:42 
2013-07-25 00:53:42 Installed /opt/stack/python-glanceclient
2013-07-25 00:53:42 Processing dependencies for python-glanceclient==0.8.0.5.g0ca43be
2013-07-25 00:53:42 Searching for warlock==0.8.1
2013-07-25 00:53:42 Best match: warlock 0.8.1
2013-07-25 00:53:42 Adding warlock 0.8.1 to easy-install.pth file
2013-07-25 00:53:42 
2013-07-25 00:53:42 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:42 Searching for pyOpenSSL==0.12
2013-07-25 00:53:42 Best match: pyOpenSSL 0.12
2013-07-25 00:53:42 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-25 00:53:42 
2013-07-25 00:53:42 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:42 Searching for python-keystoneclient==0.2.2.56.g3ce3fe8
2013-07-25 00:53:42 Best match: python-keystoneclient 0.2.2.56.g3ce3fe8
2013-07-25 00:53:42 python-keystoneclient 0.2.2.56.g3ce3fe8 is already the active version in easy-install.pth
2013-07-25 00:53:42 Installing keystone script to /usr/local/bin
2013-07-25 00:53:42 
2013-07-25 00:53:42 Using /opt/stack/python-keystoneclient
2013-07-25 00:53:42 Searching for prettytable==0.6.1
2013-07-25 00:53:42 Best match: prettytable 0.6.1
2013-07-25 00:53:42 prettytable 0.6.1 is already the active version in easy-install.pth
2013-07-25 00:53:42 
2013-07-25 00:53:42 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:42 Searching for jsonpatch==0.12
2013-07-25 00:53:42 Best match: jsonpatch 0.12
2013-07-25 00:53:42 jsonpatch 0.12 is already the active version in easy-install.pth
2013-07-25 00:53:42 
2013-07-25 00:53:42 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:42 Searching for jsonschema==0.8.0
2013-07-25 00:53:42 Best match: jsonschema 0.8.0
2013-07-25 00:53:42 jsonschema 0.8.0 is already the active version in easy-install.pth
2013-07-25 00:53:42 
2013-07-25 00:53:42 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:42 Searching for oslo-config==2013.1b4
2013-07-25 00:53:42 Best match: oslo-config 2013.1b4
2013-07-25 00:53:42 oslo-config 2013.1b4 is already the active version in easy-install.pth
2013-07-25 00:53:42 
2013-07-25 00:53:42 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:42 Searching for simplejson==2.3.2
2013-07-25 00:53:42 Best match: simplejson 2.3.2
2013-07-25 00:53:42 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-25 00:53:42 
2013-07-25 00:53:42 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:42 Searching for requests==0.14.2
2013-07-25 00:53:42 Best match: requests 0.14.2
2013-07-25 00:53:42 Processing requests-0.14.2-py2.7.egg
2013-07-25 00:53:42 Removing requests 0.14.2 from easy-install.pth file
2013-07-25 00:53:42 requests 0.14.2 is already the active version in easy-install.pth
2013-07-25 00:53:42 
2013-07-25 00:53:42 Using /usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg
2013-07-25 00:53:42 Searching for iso8601==0.1.4
2013-07-25 00:53:42 Best match: iso8601 0.1.4
2013-07-25 00:53:42 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-25 00:53:42 
2013-07-25 00:53:42 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:42 Searching for jsonpointer==0.7
2013-07-25 00:53:42 Best match: jsonpointer 0.7
2013-07-25 00:53:42 Adding jsonpointer 0.7 to easy-install.pth file
2013-07-25 00:53:42 
2013-07-25 00:53:42 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:42 Finished processing dependencies for python-glanceclient==0.8.0.5.g0ca43be
2013-07-25 00:53:42 + is_service_enabled nova
2013-07-25 00:53:42 + services=nova
2013-07-25 00:53:42 + for service in '${services}'
2013-07-25 00:53:42 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-25 00:53:42 + [[ nova == \n\o\v\a ]]
2013-07-25 00:53:42 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-25 00:53:42 + return 0
2013-07-25 00:53:42 + configure_nova
2013-07-25 00:53:42 + setup_develop /opt/stack/nova
2013-07-25 00:53:42 + [[ False = True ]]
2013-07-25 00:53:42 + SUDO_CMD=sudo
2013-07-25 00:53:42 + cd /opt/stack/nova
2013-07-25 00:53:42 + python setup.py egg_info
2013-07-25 00:53:42 running egg_info
2013-07-25 00:53:42 writing requirements to nova.egg-info/requires.txt
2013-07-25 00:53:42 writing nova.egg-info/PKG-INFO
2013-07-25 00:53:42 writing top-level names to nova.egg-info/top_level.txt
2013-07-25 00:53:42 writing dependency_links to nova.egg-info/dependency_links.txt
2013-07-25 00:53:43 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:43 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:43 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:43 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-25 00:53:43 writing manifest file 'nova.egg-info/SOURCES.txt'
2013-07-25 00:53:43 ++ awk '/^.+/ {print "-f " $1}' nova.egg-info/dependency_links.txt
2013-07-25 00:53:43 + raw_links='-f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config'
2013-07-25 00:53:43 ++ xargs
2013-07-25 00:53:43 ++ echo -f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config
2013-07-25 00:53:43 + depend_links='-f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config'
2013-07-25 00:53:43 ++ '[' '!' -r nova.egg-info/requires.txt ']'
2013-07-25 00:53:43 ++ echo '-r *-info/requires.txt'
2013-07-25 00:53:43 + require_file='-r *-info/requires.txt'
2013-07-25 00:53:43 + pip_install -r nova.egg-info/requires.txt -f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config
2013-07-25 00:53:43 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:43 + return
2013-07-25 00:53:43 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-25 00:53:43 running develop
2013-07-25 00:53:43 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-25 00:53:43 /usr/bin/python -E -c pass
2013-07-25 00:53:43 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-25 00:53:43 running egg_info
2013-07-25 00:53:43 writing requirements to nova.egg-info/requires.txt
2013-07-25 00:53:43 writing nova.egg-info/PKG-INFO
2013-07-25 00:53:43 writing top-level names to nova.egg-info/top_level.txt
2013-07-25 00:53:43 writing dependency_links to nova.egg-info/dependency_links.txt
2013-07-25 00:53:44 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:44 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:44 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:44 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-25 00:53:44 writing manifest file 'nova.egg-info/SOURCES.txt'
2013-07-25 00:53:44 running build_ext
2013-07-25 00:53:44 Creating /usr/local/lib/python2.7/dist-packages/nova.egg-link (link to .)
2013-07-25 00:53:44 nova 2013.1.a4746.ga9fdb38 is already the active version in easy-install.pth
2013-07-25 00:53:44 Installing nova-all script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-api script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-api-ec2 script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-api-metadata script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-api-os-compute script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-baremetal-deploy-helper script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-baremetal-manage script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-rpc-zmq-receiver script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-cells script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-cert script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-clear-rabbit-queues script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-compute script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-conductor script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-console script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-consoleauth script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-dhcpbridge script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-manage script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-network script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-novncproxy script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-objectstore script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-rootwrap script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-scheduler script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-spicehtml5proxy script to /usr/local/bin
2013-07-25 00:53:44 Installing nova-xvpvncproxy script to /usr/local/bin
2013-07-25 00:53:44 
2013-07-25 00:53:44 Installed /opt/stack/nova
2013-07-25 00:53:44 Processing dependencies for nova==2013.1.a4746.ga9fdb38
2013-07-25 00:53:44 Searching for oslo-config==2013.1b4
2013-07-25 00:53:44 Best match: oslo-config 2013.1b4
2013-07-25 00:53:44 oslo-config 2013.1b4 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for websockify==0.3.0
2013-07-25 00:53:44 Best match: websockify 0.3.0
2013-07-25 00:53:44 websockify 0.3.0 is already the active version in easy-install.pth
2013-07-25 00:53:44 Installing websockify script to /usr/local/bin
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for stevedore==0.8
2013-07-25 00:53:44 Best match: stevedore 0.8
2013-07-25 00:53:44 stevedore 0.8 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for python-keystoneclient==0.2.2.56.g3ce3fe8
2013-07-25 00:53:44 Best match: python-keystoneclient 0.2.2.56.g3ce3fe8
2013-07-25 00:53:44 python-keystoneclient 0.2.2.56.g3ce3fe8 is already the active version in easy-install.pth
2013-07-25 00:53:44 Installing keystone script to /usr/local/bin
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /opt/stack/python-keystoneclient
2013-07-25 00:53:44 Searching for python-glanceclient==0.8.0.5.g0ca43be
2013-07-25 00:53:44 Best match: python-glanceclient 0.8.0.5.g0ca43be
2013-07-25 00:53:44 Removing python-glanceclient 0.8.0 from easy-install.pth file
2013-07-25 00:53:44 python-glanceclient 0.8.0.5.g0ca43be is already the active version in easy-install.pth
2013-07-25 00:53:44 Installing glance script to /usr/local/bin
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /opt/stack/python-glanceclient
2013-07-25 00:53:44 Searching for python-quantumclient==2.1.2
2013-07-25 00:53:44 Best match: python-quantumclient 2.1.2
2013-07-25 00:53:44 Adding python-quantumclient 2.1.2 to easy-install.pth file
2013-07-25 00:53:44 Installing quantum script to /usr/local/bin
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for python-cinderclient==1.0.2.26.g458ff24
2013-07-25 00:53:44 Best match: python-cinderclient 1.0.2.26.g458ff24
2013-07-25 00:53:44 Removing python-cinderclient 1.0.2 from easy-install.pth file
2013-07-25 00:53:44 python-cinderclient 1.0.2.26.g458ff24 is already the active version in easy-install.pth
2013-07-25 00:53:44 Installing cinder script to /usr/local/bin
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /opt/stack/python-cinderclient
2013-07-25 00:53:44 Searching for setuptools-git==1.0b1
2013-07-25 00:53:44 Best match: setuptools-git 1.0b1
2013-07-25 00:53:44 Processing setuptools_git-1.0b1-py2.7.egg
2013-07-25 00:53:44 setuptools-git 1.0b1 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /opt/stack/python-glanceclient/setuptools_git-1.0b1-py2.7.egg
2013-07-25 00:53:44 Searching for httplib2==0.7.2
2013-07-25 00:53:44 Best match: httplib2 0.7.2
2013-07-25 00:53:44 Adding httplib2 0.7.2 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for iso8601==0.1.4
2013-07-25 00:53:44 Best match: iso8601 0.1.4
2013-07-25 00:53:44 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for Babel==0.9.6
2013-07-25 00:53:44 Best match: Babel 0.9.6
2013-07-25 00:53:44 Adding Babel 0.9.6 to easy-install.pth file
2013-07-25 00:53:44 Installing pybabel script to /usr/local/bin
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for pyasn1==0.1.6
2013-07-25 00:53:44 Best match: pyasn1 0.1.6
2013-07-25 00:53:44 pyasn1 0.1.6 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for paramiko==1.7.7.1
2013-07-25 00:53:44 Best match: paramiko 1.7.7.1
2013-07-25 00:53:44 Adding paramiko 1.7.7.1 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for suds==0.4.1
2013-07-25 00:53:44 Best match: suds 0.4.1
2013-07-25 00:53:44 Adding suds 0.4.1 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for netaddr==0.7.5
2013-07-25 00:53:44 Best match: netaddr 0.7.5
2013-07-25 00:53:44 Adding netaddr 0.7.5 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for sqlalchemy-migrate==0.7.2
2013-07-25 00:53:44 Best match: sqlalchemy-migrate 0.7.2
2013-07-25 00:53:44 Adding sqlalchemy-migrate 0.7.2 to easy-install.pth file
2013-07-25 00:53:44 Installing migrate script to /usr/local/bin
2013-07-25 00:53:44 Installing migrate-repository script to /usr/local/bin
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for Paste==1.7.5.1
2013-07-25 00:53:44 Best match: Paste 1.7.5.1
2013-07-25 00:53:44 Adding Paste 1.7.5.1 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for PasteDeploy==1.5.0
2013-07-25 00:53:44 Best match: PasteDeploy 1.5.0
2013-07-25 00:53:44 Adding PasteDeploy 1.5.0 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for greenlet==0.3.1
2013-07-25 00:53:44 Best match: greenlet 0.3.1
2013-07-25 00:53:44 Adding greenlet 0.3.1 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for WebOb==1.2.3
2013-07-25 00:53:44 Best match: WebOb 1.2.3
2013-07-25 00:53:44 WebOb 1.2.3 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for Routes==1.12.3
2013-07-25 00:53:44 Best match: Routes 1.12.3
2013-07-25 00:53:44 Adding Routes 1.12.3 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for lxml==2.3.2
2013-07-25 00:53:44 Best match: lxml 2.3.2
2013-07-25 00:53:44 Adding lxml 2.3.2 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for kombu==1.4.3
2013-07-25 00:53:44 Best match: kombu 1.4.3
2013-07-25 00:53:44 Adding kombu 1.4.3 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for eventlet==0.12.1
2013-07-25 00:53:44 Best match: eventlet 0.12.1
2013-07-25 00:53:44 eventlet 0.12.1 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for boto==2.2.2
2013-07-25 00:53:44 Best match: boto 2.2.2
2013-07-25 00:53:44 Adding boto 2.2.2 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for anyjson==0.3.1
2013-07-25 00:53:44 Best match: anyjson 0.3.1
2013-07-25 00:53:44 Adding anyjson 0.3.1 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for amqplib==1.0.0
2013-07-25 00:53:44 Best match: amqplib 1.0.0
2013-07-25 00:53:44 Adding amqplib 1.0.0 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for Cheetah==2.4.4
2013-07-25 00:53:44 Best match: Cheetah 2.4.4
2013-07-25 00:53:44 Adding Cheetah 2.4.4 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for SQLAlchemy==0.7.9
2013-07-25 00:53:44 Best match: SQLAlchemy 0.7.9
2013-07-25 00:53:44 SQLAlchemy 0.7.9 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for numpy==1.6.1
2013-07-25 00:53:44 Best match: numpy 1.6.1
2013-07-25 00:53:44 Adding numpy 1.6.1 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for distribute==0.6.24dev-r0
2013-07-25 00:53:44 Best match: distribute 0.6.24dev-r0
2013-07-25 00:53:44 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-25 00:53:44 Installing easy_install script to /usr/local/bin
2013-07-25 00:53:44 Installing easy_install-2.7 script to /usr/local/bin
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for simplejson==2.3.2
2013-07-25 00:53:44 Best match: simplejson 2.3.2
2013-07-25 00:53:44 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for requests==0.14.2
2013-07-25 00:53:44 Best match: requests 0.14.2
2013-07-25 00:53:44 Processing requests-0.14.2-py2.7.egg
2013-07-25 00:53:44 Removing requests 0.14.2 from easy-install.pth file
2013-07-25 00:53:44 requests 0.14.2 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg
2013-07-25 00:53:44 Searching for prettytable==0.6.1
2013-07-25 00:53:44 Best match: prettytable 0.6.1
2013-07-25 00:53:44 Adding prettytable 0.6.1 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for warlock==0.8.1
2013-07-25 00:53:44 Best match: warlock 0.8.1
2013-07-25 00:53:44 warlock 0.8.1 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for pyOpenSSL==0.12
2013-07-25 00:53:44 Best match: pyOpenSSL 0.12
2013-07-25 00:53:44 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for pyparsing==1.5.7
2013-07-25 00:53:44 Best match: pyparsing 1.5.7
2013-07-25 00:53:44 pyparsing 1.5.7 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for cliff==1.3.1
2013-07-25 00:53:44 Best match: cliff 1.3.1
2013-07-25 00:53:44 cliff 1.3.1 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for Tempita==0.5.1
2013-07-25 00:53:44 Best match: Tempita 0.5.1
2013-07-25 00:53:44 Adding Tempita 0.5.1 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for decorator==3.3.2
2013-07-25 00:53:44 Best match: decorator 3.3.2
2013-07-25 00:53:44 Adding decorator 3.3.2 to easy-install.pth file
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for Markdown==2.2.1
2013-07-25 00:53:44 Best match: Markdown 2.2.1
2013-07-25 00:53:44 Markdown 2.2.1 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for jsonpatch==0.12
2013-07-25 00:53:44 Best match: jsonpatch 0.12
2013-07-25 00:53:44 jsonpatch 0.12 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for jsonschema==0.8.0
2013-07-25 00:53:44 Best match: jsonschema 0.8.0
2013-07-25 00:53:44 jsonschema 0.8.0 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for cmd2==0.6.4
2013-07-25 00:53:44 Best match: cmd2 0.6.4
2013-07-25 00:53:44 cmd2 0.6.4 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Searching for jsonpointer==0.7
2013-07-25 00:53:44 Best match: jsonpointer 0.7
2013-07-25 00:53:44 jsonpointer 0.7 is already the active version in easy-install.pth
2013-07-25 00:53:44 
2013-07-25 00:53:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:44 Finished processing dependencies for nova==2013.1.a4746.ga9fdb38
2013-07-25 00:53:44 + [[ ! -d /etc/nova ]]
2013-07-25 00:53:44 + sudo chown stack /etc/nova
2013-07-25 00:53:44 + cp -p /opt/stack/nova/etc/nova/policy.json /etc/nova
2013-07-25 00:53:44 + configure_nova_rootwrap
2013-07-25 00:53:44 + [[ -d /etc/nova/rootwrap.d ]]
2013-07-25 00:53:44 + sudo rm -rf /etc/nova/rootwrap.d
2013-07-25 00:53:44 + sudo mkdir -m 755 /etc/nova/rootwrap.d
2013-07-25 00:53:44 + sudo cp /opt/stack/nova/etc/nova/rootwrap.d/api-metadata.filters /opt/stack/nova/etc/nova/rootwrap.d/baremetal-compute-ipmi.filters /opt/stack/nova/etc/nova/rootwrap.d/baremetal-deploy-helper.filters /opt/stack/nova/etc/nova/rootwrap.d/compute.filters /opt/stack/nova/etc/nova/rootwrap.d/network.filters /etc/nova/rootwrap.d
2013-07-25 00:53:44 + sudo chown -R root:root /etc/nova/rootwrap.d
2013-07-25 00:53:44 + sudo chmod 644 /etc/nova/rootwrap.d/api-metadata.filters /etc/nova/rootwrap.d/baremetal-compute-ipmi.filters /etc/nova/rootwrap.d/baremetal-deploy-helper.filters /etc/nova/rootwrap.d/compute.filters /etc/nova/rootwrap.d/network.filters
2013-07-25 00:53:44 + sudo cp /opt/stack/nova/etc/nova/rootwrap.conf /etc/nova/
2013-07-25 00:53:44 + sudo sed -e 's:^filters_path=.*$:filters_path=/etc/nova/rootwrap.d:' -i /etc/nova/rootwrap.conf
2013-07-25 00:53:44 + sudo chown root:root /etc/nova/rootwrap.conf
2013-07-25 00:53:44 + sudo chmod 0644 /etc/nova/rootwrap.conf
2013-07-25 00:53:44 + ROOTWRAP_SUDOER_CMD='/usr/local/bin/nova-rootwrap /etc/nova/rootwrap.conf *'
2013-07-25 00:53:44 ++ mktemp
2013-07-25 00:53:44 + TEMPFILE=/tmp/tmp.oNBzQnVtZg
2013-07-25 00:53:44 + echo 'stack ALL=(root) NOPASSWD: /usr/local/bin/nova-rootwrap /etc/nova/rootwrap.conf *'
2013-07-25 00:53:44 + chmod 0440 /tmp/tmp.oNBzQnVtZg
2013-07-25 00:53:44 + sudo chown root:root /tmp/tmp.oNBzQnVtZg
2013-07-25 00:53:44 + sudo mv /tmp/tmp.oNBzQnVtZg /etc/sudoers.d/nova-rootwrap
2013-07-25 00:53:44 + is_service_enabled n-api
2013-07-25 00:53:44 + services=n-api
2013-07-25 00:53:44 + for service in '${services}'
2013-07-25 00:53:44 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-api, ]]
2013-07-25 00:53:44 + return 0
2013-07-25 00:53:44 + rm -f /opt/stack/nova/bin/nova-api-paste.ini
2013-07-25 00:53:44 + cp /opt/stack/nova/etc/nova/api-paste.ini /etc/nova
2013-07-25 00:53:44 + iniset /etc/nova/api-paste.ini filter:authtoken auth_host 129.127.10.133
2013-07-25 00:53:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:53:44 + local section=filter:authtoken
2013-07-25 00:53:44 + local option=auth_host
2013-07-25 00:53:44 + local value=129.127.10.133
2013-07-25 00:53:44 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-25 00:53:44 + ini_has_option /etc/nova/api-paste.ini filter:authtoken auth_host
2013-07-25 00:53:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:53:44 + local section=filter:authtoken
2013-07-25 00:53:44 + local option=auth_host
2013-07-25 00:53:44 + local line
2013-07-25 00:53:44 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^auth_host[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-25 00:53:44 + line='auth_host = 127.0.0.1'
2013-07-25 00:53:44 + '[' -n 'auth_host = 127.0.0.1' ']'
2013-07-25 00:53:44 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(auth_host[ \t]*=[ \t]*\).*$|\1129.127.10.133|' /etc/nova/api-paste.ini
2013-07-25 00:53:44 + is_service_enabled tls-proxy
2013-07-25 00:53:44 + services=tls-proxy
2013-07-25 00:53:44 + for service in '${services}'
2013-07-25 00:53:44 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-25 00:53:44 + [[ tls-proxy == \n\o\v\a ]]
2013-07-25 00:53:44 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-25 00:53:44 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:44 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-25 00:53:44 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:44 + return 1
2013-07-25 00:53:44 + iniset /etc/nova/api-paste.ini filter:authtoken admin_tenant_name service
2013-07-25 00:53:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:53:44 + local section=filter:authtoken
2013-07-25 00:53:44 + local option=admin_tenant_name
2013-07-25 00:53:44 + local value=service
2013-07-25 00:53:44 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-25 00:53:44 + ini_has_option /etc/nova/api-paste.ini filter:authtoken admin_tenant_name
2013-07-25 00:53:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:53:44 + local section=filter:authtoken
2013-07-25 00:53:44 + local option=admin_tenant_name
2013-07-25 00:53:44 + local line
2013-07-25 00:53:44 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_tenant_name[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-25 00:53:45 + line='admin_tenant_name = %SERVICE_TENANT_NAME%'
2013-07-25 00:53:45 + '[' -n 'admin_tenant_name = %SERVICE_TENANT_NAME%' ']'
2013-07-25 00:53:45 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_tenant_name[ \t]*=[ \t]*\).*$|\1service|' /etc/nova/api-paste.ini
2013-07-25 00:53:45 + iniset /etc/nova/api-paste.ini filter:authtoken admin_user nova
2013-07-25 00:53:45 + local file=/etc/nova/api-paste.ini
2013-07-25 00:53:45 + local section=filter:authtoken
2013-07-25 00:53:45 + local option=admin_user
2013-07-25 00:53:45 + local value=nova
2013-07-25 00:53:45 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-25 00:53:45 + ini_has_option /etc/nova/api-paste.ini filter:authtoken admin_user
2013-07-25 00:53:45 + local file=/etc/nova/api-paste.ini
2013-07-25 00:53:45 + local section=filter:authtoken
2013-07-25 00:53:45 + local option=admin_user
2013-07-25 00:53:45 + local line
2013-07-25 00:53:45 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_user[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-25 00:53:45 + line='admin_user = %SERVICE_USER%'
2013-07-25 00:53:45 + '[' -n 'admin_user = %SERVICE_USER%' ']'
2013-07-25 00:53:45 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_user[ \t]*=[ \t]*\).*$|\1nova|' /etc/nova/api-paste.ini
2013-07-25 00:53:45 + iniset /etc/nova/api-paste.ini filter:authtoken admin_password b00cc1bf202ef80abbe0
2013-07-25 00:53:45 + local file=/etc/nova/api-paste.ini
2013-07-25 00:53:45 + local section=filter:authtoken
2013-07-25 00:53:45 + local option=admin_password
2013-07-25 00:53:45 + local value=b00cc1bf202ef80abbe0
2013-07-25 00:53:45 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-25 00:53:45 + ini_has_option /etc/nova/api-paste.ini filter:authtoken admin_password
2013-07-25 00:53:45 + local file=/etc/nova/api-paste.ini
2013-07-25 00:53:45 + local section=filter:authtoken
2013-07-25 00:53:45 + local option=admin_password
2013-07-25 00:53:45 + local line
2013-07-25 00:53:45 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-25 00:53:45 + line='admin_password = %SERVICE_PASSWORD%'
2013-07-25 00:53:45 + '[' -n 'admin_password = %SERVICE_PASSWORD%' ']'
2013-07-25 00:53:45 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_password[ \t]*=[ \t]*\).*$|\1b00cc1bf202ef80abbe0|' /etc/nova/api-paste.ini
2013-07-25 00:53:45 + iniset /etc/nova/api-paste.ini filter:authtoken signing_dir /var/cache/nova
2013-07-25 00:53:45 + local file=/etc/nova/api-paste.ini
2013-07-25 00:53:45 + local section=filter:authtoken
2013-07-25 00:53:45 + local option=signing_dir
2013-07-25 00:53:45 + local value=/var/cache/nova
2013-07-25 00:53:45 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-25 00:53:45 + ini_has_option /etc/nova/api-paste.ini filter:authtoken signing_dir
2013-07-25 00:53:45 + local file=/etc/nova/api-paste.ini
2013-07-25 00:53:45 + local section=filter:authtoken
2013-07-25 00:53:45 + local option=signing_dir
2013-07-25 00:53:45 + local line
2013-07-25 00:53:45 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^signing_dir[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-25 00:53:45 + line='signing_dir = /tmp/keystone-signing-nova'
2013-07-25 00:53:45 + '[' -n 'signing_dir = /tmp/keystone-signing-nova' ']'
2013-07-25 00:53:45 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(signing_dir[ \t]*=[ \t]*\).*$|\1/var/cache/nova|' /etc/nova/api-paste.ini
2013-07-25 00:53:45 + is_service_enabled n-cpu
2013-07-25 00:53:45 + services=n-cpu
2013-07-25 00:53:45 + for service in '${services}'
2013-07-25 00:53:45 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-25 00:53:45 + return 0
2013-07-25 00:53:45 + sudo sysctl -w net.ipv4.ip_forward=1
2013-07-25 00:53:45 net.ipv4.ip_forward = 1
2013-07-25 00:53:45 + sudo modprobe nbd
2013-07-25 00:53:45 + [[ kvm == \k\v\m ]]
2013-07-25 00:53:45 + sudo modprobe kvm
2013-07-25 00:53:45 + '[' '!' -e /dev/kvm ']'
2013-07-25 00:53:45 + [[ kvm == \l\x\c ]]
2013-07-25 00:53:45 + is_baremetal
2013-07-25 00:53:45 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-25 00:53:45 + return 1
2013-07-25 00:53:45 + is_service_enabled quantum
2013-07-25 00:53:45 + services=quantum
2013-07-25 00:53:45 + for service in '${services}'
2013-07-25 00:53:45 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-25 00:53:45 + [[ quantum == \n\o\v\a ]]
2013-07-25 00:53:45 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-25 00:53:45 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:45 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-25 00:53:45 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:45 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-25 00:53:45 + return 1
2013-07-25 00:53:45 + is_ubuntu
2013-07-25 00:53:45 + [[ -z deb ]]
2013-07-25 00:53:45 + '[' deb = deb ']'
2013-07-25 00:53:45 + LIBVIRT_DAEMON=libvirt-bin
2013-07-25 00:53:45 + is_fedora
2013-07-25 00:53:45 + [[ -z Ubuntu ]]
2013-07-25 00:53:45 + '[' Ubuntu = Fedora ']'
2013-07-25 00:53:45 + '[' Ubuntu = 'Red Hat' ']'
2013-07-25 00:53:45 + '[' Ubuntu = CentOS ']'
2013-07-25 00:53:45 + is_suse
2013-07-25 00:53:45 + [[ -z Ubuntu ]]
2013-07-25 00:53:45 + '[' Ubuntu = openSUSE ']'
2013-07-25 00:53:45 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-25 00:53:45 + getent group libvirtd
2013-07-25 00:53:45 + add_user_to_group stack libvirtd
2013-07-25 00:53:45 + local user=stack
2013-07-25 00:53:45 + local group=libvirtd
2013-07-25 00:53:45 + [[ -z Ubuntu ]]
2013-07-25 00:53:45 + is_suse
2013-07-25 00:53:45 + [[ -z Ubuntu ]]
2013-07-25 00:53:45 + '[' Ubuntu = openSUSE ']'
2013-07-25 00:53:45 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-25 00:53:45 + sudo usermod -a -G libvirtd stack
2013-07-25 00:53:45 + restart_service libvirt-bin
2013-07-25 00:53:45 + is_ubuntu
2013-07-25 00:53:45 + [[ -z deb ]]
2013-07-25 00:53:45 + '[' deb = deb ']'
2013-07-25 00:53:45 + sudo /usr/sbin/service libvirt-bin restart
2013-07-25 00:53:45 libvirt-bin stop/waiting
2013-07-25 00:53:45 libvirt-bin start/running, process 16090
2013-07-25 00:53:45 + mkdir -p /opt/stack/data/nova/instances
2013-07-25 00:53:45 + '[' -L /dev/disk/by-label/nova-instances ']'
2013-07-25 00:53:45 + cleanup_nova
2013-07-25 00:53:45 + is_service_enabled n-cpu
2013-07-25 00:53:45 + services=n-cpu
2013-07-25 00:53:45 + for service in '${services}'
2013-07-25 00:53:45 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-25 00:53:45 + return 0
2013-07-25 00:53:45 + clean_iptables
2013-07-25 00:53:45 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-25 00:53:45 + bash
2013-07-25 00:53:45 + sed s/-A/-D/g
2013-07-25 00:53:45 + awk '{print "sudo iptables",$0}'
2013-07-25 00:53:45 + grep '\-A'
2013-07-25 00:53:45 + grep nova
2013-07-25 00:53:45 + sudo iptables -S -v
2013-07-25 00:53:45 iptables: Resource temporarily unavailable.
2013-07-25 00:53:45 + awk '{print "sudo iptables -t nat",$0}'
2013-07-25 00:53:45 + bash
2013-07-25 00:53:45 + sed s/-A/-D/g
2013-07-25 00:53:45 + grep '\-A'
2013-07-25 00:53:45 + grep nova
2013-07-25 00:53:45 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-25 00:53:45 + sudo iptables -S -v -t nat
2013-07-25 00:53:45 + awk '{print "sudo iptables",$0}'
2013-07-25 00:53:45 + bash
2013-07-25 00:53:45 + sed s/-N/-X/g
2013-07-25 00:53:45 + grep '\-N'
2013-07-25 00:53:45 + grep nova
2013-07-25 00:53:45 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-25 00:53:45 + sudo iptables -S -v
2013-07-25 00:53:45 iptables: Too many links.
2013-07-25 00:53:45 + awk '{print "sudo iptables -t nat",$0}'
2013-07-25 00:53:45 + bash
2013-07-25 00:53:45 + sed s/-N/-X/g
2013-07-25 00:53:45 + grep '\-N'
2013-07-25 00:53:45 + grep nova
2013-07-25 00:53:45 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-25 00:53:45 + sudo iptables -S -v -t nat
2013-07-25 00:53:45 ++ sed 's/.*\(instance-[0-9a-fA-F]*\).*/\1/g'
2013-07-25 00:53:45 ++ grep instance-
2013-07-25 00:53:45 ++ sudo virsh list --all
2013-07-25 00:53:45 + instances=
2013-07-25 00:53:45 + '[' '!' '' = '' ']'
2013-07-25 00:53:45 + grep volume-
2013-07-25 00:53:45 + sudo iscsiadm --mode node
2013-07-25 00:53:45 + cut -d ' ' -f2
2013-07-25 00:53:45 + xargs sudo iscsiadm --mode node --logout
2013-07-25 00:53:45 iscsiadm: no records found!
2013-07-25 00:53:45 + sudo iscsiadm --mode node
2013-07-25 00:53:45 + cut -d ' ' -f2
2013-07-25 00:53:45 + grep volume-
2013-07-25 00:53:45 + sudo iscsiadm --mode node --op delete
2013-07-25 00:53:45 iscsiadm: no records found!
2013-07-25 00:53:45 iscsiadm: no records found!
2013-07-25 00:53:45 + true
2013-07-25 00:53:45 + sudo rm -rf '/opt/stack/data/nova/instances/*'
2013-07-25 00:53:45 + is_service_enabled horizon
2013-07-25 00:53:45 + services=horizon
2013-07-25 00:53:45 + for service in '${services}'
2013-07-25 00:53:45 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,horizon, ]]
2013-07-25 00:53:45 + return 0
2013-07-25 00:53:45 + configure_horizon
2013-07-25 00:53:45 + setup_develop /opt/stack/horizon
2013-07-25 00:53:45 + [[ False = True ]]
2013-07-25 00:53:45 + SUDO_CMD=sudo
2013-07-25 00:53:45 + cd /opt/stack/horizon
2013-07-25 00:53:45 + python setup.py egg_info
2013-07-25 00:53:45 running egg_info
2013-07-25 00:53:45 writing requirements to horizon.egg-info/requires.txt
2013-07-25 00:53:45 writing horizon.egg-info/PKG-INFO
2013-07-25 00:53:45 writing top-level names to horizon.egg-info/top_level.txt
2013-07-25 00:53:45 writing dependency_links to horizon.egg-info/dependency_links.txt
2013-07-25 00:53:46 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:46 warning: no files found matching '*.css_t' under directory 'doc'
2013-07-25 00:53:46 warning: no files found matching '*.csv' under directory 'horizon'
2013-07-25 00:53:46 warning: no files found matching '*.template' under directory 'horizon'
2013-07-25 00:53:46 warning: no files found matching '*.js' under directory 'openstack_dashboard'
2013-07-25 00:53:46 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:46 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:46 writing manifest file 'horizon.egg-info/SOURCES.txt'
2013-07-25 00:53:46 ++ awk '/^.+/ {print "-f " $1}' horizon.egg-info/dependency_links.txt
2013-07-25 00:53:46 + raw_links=
2013-07-25 00:53:46 ++ xargs
2013-07-25 00:53:46 ++ echo
2013-07-25 00:53:46 + depend_links=
2013-07-25 00:53:46 ++ '[' '!' -r horizon.egg-info/requires.txt ']'
2013-07-25 00:53:46 ++ echo '-r *-info/requires.txt'
2013-07-25 00:53:46 + require_file='-r *-info/requires.txt'
2013-07-25 00:53:46 + pip_install -r horizon.egg-info/requires.txt
2013-07-25 00:53:46 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:46 + return
2013-07-25 00:53:46 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-25 00:53:46 running develop
2013-07-25 00:53:46 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-25 00:53:46 /usr/bin/python -E -c pass
2013-07-25 00:53:46 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-25 00:53:46 running egg_info
2013-07-25 00:53:46 writing requirements to horizon.egg-info/requires.txt
2013-07-25 00:53:46 writing horizon.egg-info/PKG-INFO
2013-07-25 00:53:46 writing top-level names to horizon.egg-info/top_level.txt
2013-07-25 00:53:46 writing dependency_links to horizon.egg-info/dependency_links.txt
2013-07-25 00:53:46 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:46 warning: no files found matching '*.css_t' under directory 'doc'
2013-07-25 00:53:46 warning: no files found matching '*.csv' under directory 'horizon'
2013-07-25 00:53:46 warning: no files found matching '*.template' under directory 'horizon'
2013-07-25 00:53:47 warning: no files found matching '*.js' under directory 'openstack_dashboard'
2013-07-25 00:53:47 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:47 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:47 writing manifest file 'horizon.egg-info/SOURCES.txt'
2013-07-25 00:53:47 running build_ext
2013-07-25 00:53:47 Creating /usr/local/lib/python2.7/dist-packages/horizon.egg-link (link to .)
2013-07-25 00:53:47 horizon 2013.1.a17.gce7c49a is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Installed /opt/stack/horizon
2013-07-25 00:53:47 Processing dependencies for horizon==2013.1.a17.gce7c49a
2013-07-25 00:53:47 Searching for lockfile==0.8
2013-07-25 00:53:47 Best match: lockfile 0.8
2013-07-25 00:53:47 Adding lockfile 0.8 to easy-install.pth file
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for pytz==2012j
2013-07-25 00:53:47 Best match: pytz 2012j
2013-07-25 00:53:47 pytz 2012j is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for python-swiftclient==1.3.0
2013-07-25 00:53:47 Best match: python-swiftclient 1.3.0
2013-07-25 00:53:47 python-swiftclient 1.3.0 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for python-quantumclient==2.1.2
2013-07-25 00:53:47 Best match: python-quantumclient 2.1.2
2013-07-25 00:53:47 python-quantumclient 2.1.2 is already the active version in easy-install.pth
2013-07-25 00:53:47 Installing quantum script to /usr/local/bin
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for python-novaclient==2.11.1.17.g9ab600f
2013-07-25 00:53:47 Best match: python-novaclient 2.11.1.17.g9ab600f
2013-07-25 00:53:47 python-novaclient 2.11.1.17.g9ab600f is already the active version in easy-install.pth
2013-07-25 00:53:47 Installing nova script to /usr/local/bin
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /opt/stack/python-novaclient
2013-07-25 00:53:47 Searching for python-keystoneclient==0.2.2.56.g3ce3fe8
2013-07-25 00:53:47 Best match: python-keystoneclient 0.2.2.56.g3ce3fe8
2013-07-25 00:53:47 python-keystoneclient 0.2.2.56.g3ce3fe8 is already the active version in easy-install.pth
2013-07-25 00:53:47 Installing keystone script to /usr/local/bin
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /opt/stack/python-keystoneclient
2013-07-25 00:53:47 Searching for python-glanceclient==0.8.0.5.g0ca43be
2013-07-25 00:53:47 Best match: python-glanceclient 0.8.0.5.g0ca43be
2013-07-25 00:53:47 Removing python-glanceclient 0.8.0 from easy-install.pth file
2013-07-25 00:53:47 python-glanceclient 0.8.0.5.g0ca43be is already the active version in easy-install.pth
2013-07-25 00:53:47 Installing glance script to /usr/local/bin
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /opt/stack/python-glanceclient
2013-07-25 00:53:47 Searching for python-cinderclient==1.0.2.26.g458ff24
2013-07-25 00:53:47 Best match: python-cinderclient 1.0.2.26.g458ff24
2013-07-25 00:53:47 Removing python-cinderclient 1.0.2 from easy-install.pth file
2013-07-25 00:53:47 python-cinderclient 1.0.2.26.g458ff24 is already the active version in easy-install.pth
2013-07-25 00:53:47 Installing cinder script to /usr/local/bin
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /opt/stack/python-cinderclient
2013-07-25 00:53:47 Searching for netaddr==0.7.5
2013-07-25 00:53:47 Best match: netaddr 0.7.5
2013-07-25 00:53:47 Adding netaddr 0.7.5 to easy-install.pth file
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for django-openstack-auth==1.0.6
2013-07-25 00:53:47 Best match: django-openstack-auth 1.0.6
2013-07-25 00:53:47 Adding django-openstack-auth 1.0.6 to easy-install.pth file
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for django-compressor==1.2
2013-07-25 00:53:47 Best match: django-compressor 1.2
2013-07-25 00:53:47 django-compressor 1.2 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for Django==1.4.5
2013-07-25 00:53:47 Best match: Django 1.4.5
2013-07-25 00:53:47 Django 1.4.5 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for simplejson==2.3.2
2013-07-25 00:53:47 Best match: simplejson 2.3.2
2013-07-25 00:53:47 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for pyparsing==1.5.7
2013-07-25 00:53:47 Best match: pyparsing 1.5.7
2013-07-25 00:53:47 pyparsing 1.5.7 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for prettytable==0.6.1
2013-07-25 00:53:47 Best match: prettytable 0.6.1
2013-07-25 00:53:47 prettytable 0.6.1 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for iso8601==0.1.4
2013-07-25 00:53:47 Best match: iso8601 0.1.4
2013-07-25 00:53:47 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for httplib2==0.7.2
2013-07-25 00:53:47 Best match: httplib2 0.7.2
2013-07-25 00:53:47 Adding httplib2 0.7.2 to easy-install.pth file
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for cliff==1.3.1
2013-07-25 00:53:47 Best match: cliff 1.3.1
2013-07-25 00:53:47 cliff 1.3.1 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for requests==0.14.2
2013-07-25 00:53:47 Best match: requests 0.14.2
2013-07-25 00:53:47 Processing requests-0.14.2-py2.7.egg
2013-07-25 00:53:47 Removing requests 0.14.2 from easy-install.pth file
2013-07-25 00:53:47 requests 0.14.2 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg
2013-07-25 00:53:47 Searching for oslo-config==2013.1b4
2013-07-25 00:53:47 Best match: oslo-config 2013.1b4
2013-07-25 00:53:47 Adding oslo-config 2013.1b4 to easy-install.pth file
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for warlock==0.8.1
2013-07-25 00:53:47 Best match: warlock 0.8.1
2013-07-25 00:53:47 warlock 0.8.1 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for pyOpenSSL==0.12
2013-07-25 00:53:47 Best match: pyOpenSSL 0.12
2013-07-25 00:53:47 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for django-appconf==0.6
2013-07-25 00:53:47 Best match: django-appconf 0.6
2013-07-25 00:53:47 django-appconf 0.6 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for cmd2==0.6.4
2013-07-25 00:53:47 Best match: cmd2 0.6.4
2013-07-25 00:53:47 cmd2 0.6.4 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for distribute==0.6.24dev-r0
2013-07-25 00:53:47 Best match: distribute 0.6.24dev-r0
2013-07-25 00:53:47 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-25 00:53:47 Installing easy_install script to /usr/local/bin
2013-07-25 00:53:47 Installing easy_install-2.7 script to /usr/local/bin
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for jsonpatch==0.12
2013-07-25 00:53:47 Best match: jsonpatch 0.12
2013-07-25 00:53:47 jsonpatch 0.12 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for jsonschema==0.8.0
2013-07-25 00:53:47 Best match: jsonschema 0.8.0
2013-07-25 00:53:47 jsonschema 0.8.0 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for six==1.2.0
2013-07-25 00:53:47 Best match: six 1.2.0
2013-07-25 00:53:47 six 1.2.0 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Searching for jsonpointer==0.7
2013-07-25 00:53:47 Best match: jsonpointer 0.7
2013-07-25 00:53:47 jsonpointer 0.7 is already the active version in easy-install.pth
2013-07-25 00:53:47 
2013-07-25 00:53:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:47 Finished processing dependencies for horizon==2013.1.a17.gce7c49a
2013-07-25 00:53:47 + is_service_enabled quantum
2013-07-25 00:53:47 + services=quantum
2013-07-25 00:53:47 + for service in '${services}'
2013-07-25 00:53:47 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-25 00:53:47 + [[ quantum == \n\o\v\a ]]
2013-07-25 00:53:47 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-25 00:53:47 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:47 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-25 00:53:47 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:47 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-25 00:53:47 + return 1
2013-07-25 00:53:47 + is_service_enabled heat
2013-07-25 00:53:47 + services=heat
2013-07-25 00:53:47 + for service in '${services}'
2013-07-25 00:53:47 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,heat, ]]
2013-07-25 00:53:47 + [[ heat == \n\o\v\a ]]
2013-07-25 00:53:47 + [[ heat == \c\i\n\d\e\r ]]
2013-07-25 00:53:47 + [[ heat == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:47 + [[ heat == \g\l\a\n\c\e ]]
2013-07-25 00:53:47 + [[ heat == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:47 + return 1
2013-07-25 00:53:47 + is_service_enabled cinder
2013-07-25 00:53:47 + services=cinder
2013-07-25 00:53:47 + for service in '${services}'
2013-07-25 00:53:47 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,cinder, ]]
2013-07-25 00:53:47 + return 0
2013-07-25 00:53:47 + configure_cinder
2013-07-25 00:53:47 + setup_develop /opt/stack/cinder
2013-07-25 00:53:47 + [[ False = True ]]
2013-07-25 00:53:47 + SUDO_CMD=sudo
2013-07-25 00:53:47 + cd /opt/stack/cinder
2013-07-25 00:53:47 + python setup.py egg_info
2013-07-25 00:53:47 running egg_info
2013-07-25 00:53:47 writing requirements to cinder.egg-info/requires.txt
2013-07-25 00:53:47 writing cinder.egg-info/PKG-INFO
2013-07-25 00:53:47 writing top-level names to cinder.egg-info/top_level.txt
2013-07-25 00:53:47 writing dependency_links to cinder.egg-info/dependency_links.txt
2013-07-25 00:53:47 writing entry points to cinder.egg-info/entry_points.txt
2013-07-25 00:53:47 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:47 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:47 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:47 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-25 00:53:47 writing manifest file 'cinder.egg-info/SOURCES.txt'
2013-07-25 00:53:47 ++ awk '/^.+/ {print "-f " $1}' cinder.egg-info/dependency_links.txt
2013-07-25 00:53:47 + raw_links='-f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config'
2013-07-25 00:53:47 ++ xargs
2013-07-25 00:53:47 ++ echo -f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config
2013-07-25 00:53:47 + depend_links='-f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config'
2013-07-25 00:53:47 ++ '[' '!' -r cinder.egg-info/requires.txt ']'
2013-07-25 00:53:47 ++ echo '-r *-info/requires.txt'
2013-07-25 00:53:47 + require_file='-r *-info/requires.txt'
2013-07-25 00:53:47 + pip_install -r cinder.egg-info/requires.txt -f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config
2013-07-25 00:53:47 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:47 + return
2013-07-25 00:53:47 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-25 00:53:48 running develop
2013-07-25 00:53:48 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-25 00:53:48 /usr/bin/python -E -c pass
2013-07-25 00:53:48 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-25 00:53:48 running egg_info
2013-07-25 00:53:48 writing requirements to cinder.egg-info/requires.txt
2013-07-25 00:53:48 writing cinder.egg-info/PKG-INFO
2013-07-25 00:53:48 writing top-level names to cinder.egg-info/top_level.txt
2013-07-25 00:53:48 writing dependency_links to cinder.egg-info/dependency_links.txt
2013-07-25 00:53:48 writing entry points to cinder.egg-info/entry_points.txt
2013-07-25 00:53:48 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:48 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:48 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:48 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-25 00:53:48 writing manifest file 'cinder.egg-info/SOURCES.txt'
2013-07-25 00:53:48 running build_ext
2013-07-25 00:53:48 Creating /usr/local/lib/python2.7/dist-packages/cinder.egg-link (link to .)
2013-07-25 00:53:48 cinder 2013.1.a26.g94c564b is already the active version in easy-install.pth
2013-07-25 00:53:48 Installing cinder-all script to /usr/local/bin
2013-07-25 00:53:48 Installing cinder-api script to /usr/local/bin
2013-07-25 00:53:48 Installing cinder-backup script to /usr/local/bin
2013-07-25 00:53:48 Installing cinder-clear-rabbit-queues script to /usr/local/bin
2013-07-25 00:53:48 Installing cinder-manage script to /usr/local/bin
2013-07-25 00:53:48 Installing cinder-rootwrap script to /usr/local/bin
2013-07-25 00:53:48 Installing cinder-rtstool script to /usr/local/bin
2013-07-25 00:53:48 Installing cinder-scheduler script to /usr/local/bin
2013-07-25 00:53:48 Installing cinder-volume script to /usr/local/bin
2013-07-25 00:53:48 Installing cinder-volume-usage-audit script to /usr/local/bin
2013-07-25 00:53:48 
2013-07-25 00:53:48 Installed /opt/stack/cinder
2013-07-25 00:53:48 Processing dependencies for cinder==2013.1.a26.g94c564b
2013-07-25 00:53:48 Searching for oslo-config==2013.1b4
2013-07-25 00:53:48 Best match: oslo-config 2013.1b4
2013-07-25 00:53:48 oslo-config 2013.1b4 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for rtslib==2.1.fb27
2013-07-25 00:53:48 Best match: rtslib 2.1.fb27
2013-07-25 00:53:48 rtslib 2.1.fb27 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for python-swiftclient==1.3.0
2013-07-25 00:53:48 Best match: python-swiftclient 1.3.0
2013-07-25 00:53:48 python-swiftclient 1.3.0 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for python-keystoneclient==0.2.2.56.g3ce3fe8
2013-07-25 00:53:48 Best match: python-keystoneclient 0.2.2.56.g3ce3fe8
2013-07-25 00:53:48 python-keystoneclient 0.2.2.56.g3ce3fe8 is already the active version in easy-install.pth
2013-07-25 00:53:48 Installing keystone script to /usr/local/bin
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /opt/stack/python-keystoneclient
2013-07-25 00:53:48 Searching for python-glanceclient==0.8.0.5.g0ca43be
2013-07-25 00:53:48 Best match: python-glanceclient 0.8.0.5.g0ca43be
2013-07-25 00:53:48 Removing python-glanceclient 0.8.0 from easy-install.pth file
2013-07-25 00:53:48 python-glanceclient 0.8.0.5.g0ca43be is already the active version in easy-install.pth
2013-07-25 00:53:48 Installing glance script to /usr/local/bin
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /opt/stack/python-glanceclient
2013-07-25 00:53:48 Searching for setuptools-git==1.0b1
2013-07-25 00:53:48 Best match: setuptools-git 1.0b1
2013-07-25 00:53:48 Processing setuptools_git-1.0b1-py2.7.egg
2013-07-25 00:53:48 setuptools-git 1.0b1 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /opt/stack/python-glanceclient/setuptools_git-1.0b1-py2.7.egg
2013-07-25 00:53:48 Searching for iso8601==0.1.4
2013-07-25 00:53:48 Best match: iso8601 0.1.4
2013-07-25 00:53:48 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for Babel==0.9.6
2013-07-25 00:53:48 Best match: Babel 0.9.6
2013-07-25 00:53:48 Adding Babel 0.9.6 to easy-install.pth file
2013-07-25 00:53:48 Installing pybabel script to /usr/local/bin
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for paramiko==1.7.7.1
2013-07-25 00:53:48 Best match: paramiko 1.7.7.1
2013-07-25 00:53:48 Adding paramiko 1.7.7.1 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for suds==0.4.1
2013-07-25 00:53:48 Best match: suds 0.4.1
2013-07-25 00:53:48 Adding suds 0.4.1 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for stevedore==0.8
2013-07-25 00:53:48 Best match: stevedore 0.8
2013-07-25 00:53:48 stevedore 0.8 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for sqlalchemy-migrate==0.7.2
2013-07-25 00:53:48 Best match: sqlalchemy-migrate 0.7.2
2013-07-25 00:53:48 Adding sqlalchemy-migrate 0.7.2 to easy-install.pth file
2013-07-25 00:53:48 Installing migrate script to /usr/local/bin
2013-07-25 00:53:48 Installing migrate-repository script to /usr/local/bin
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for Paste==1.7.5.1
2013-07-25 00:53:48 Best match: Paste 1.7.5.1
2013-07-25 00:53:48 Adding Paste 1.7.5.1 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for PasteDeploy==1.5.0
2013-07-25 00:53:48 Best match: PasteDeploy 1.5.0
2013-07-25 00:53:48 Adding PasteDeploy 1.5.0 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for greenlet==0.3.1
2013-07-25 00:53:48 Best match: greenlet 0.3.1
2013-07-25 00:53:48 Adding greenlet 0.3.1 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for wsgiref==0.1.2
2013-07-25 00:53:48 Best match: wsgiref 0.1.2
2013-07-25 00:53:48 wsgiref 0.1.2 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7
2013-07-25 00:53:48 Searching for WebOb==1.2.3
2013-07-25 00:53:48 Best match: WebOb 1.2.3
2013-07-25 00:53:48 WebOb 1.2.3 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for Routes==1.12.3
2013-07-25 00:53:48 Best match: Routes 1.12.3
2013-07-25 00:53:48 Adding Routes 1.12.3 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for lxml==2.3.2
2013-07-25 00:53:48 Best match: lxml 2.3.2
2013-07-25 00:53:48 Adding lxml 2.3.2 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for lockfile==0.8
2013-07-25 00:53:48 Best match: lockfile 0.8
2013-07-25 00:53:48 Adding lockfile 0.8 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for kombu==1.4.3
2013-07-25 00:53:48 Best match: kombu 1.4.3
2013-07-25 00:53:48 Adding kombu 1.4.3 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for eventlet==0.12.1
2013-07-25 00:53:48 Best match: eventlet 0.12.1
2013-07-25 00:53:48 eventlet 0.12.1 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for anyjson==0.3.1
2013-07-25 00:53:48 Best match: anyjson 0.3.1
2013-07-25 00:53:48 Adding anyjson 0.3.1 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for amqplib==1.0.0
2013-07-25 00:53:48 Best match: amqplib 1.0.0
2013-07-25 00:53:48 Adding amqplib 1.0.0 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for SQLAlchemy==0.7.9
2013-07-25 00:53:48 Best match: SQLAlchemy 0.7.9
2013-07-25 00:53:48 SQLAlchemy 0.7.9 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for simplejson==2.3.2
2013-07-25 00:53:48 Best match: simplejson 2.3.2
2013-07-25 00:53:48 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for requests==0.14.2
2013-07-25 00:53:48 Best match: requests 0.14.2
2013-07-25 00:53:48 Processing requests-0.14.2-py2.7.egg
2013-07-25 00:53:48 Removing requests 0.14.2 from easy-install.pth file
2013-07-25 00:53:48 requests 0.14.2 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg
2013-07-25 00:53:48 Searching for prettytable==0.6.1
2013-07-25 00:53:48 Best match: prettytable 0.6.1
2013-07-25 00:53:48 Adding prettytable 0.6.1 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for warlock==0.8.1
2013-07-25 00:53:48 Best match: warlock 0.8.1
2013-07-25 00:53:48 warlock 0.8.1 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for pyOpenSSL==0.12
2013-07-25 00:53:48 Best match: pyOpenSSL 0.12
2013-07-25 00:53:48 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for distribute==0.6.24dev-r0
2013-07-25 00:53:48 Best match: distribute 0.6.24dev-r0
2013-07-25 00:53:48 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-25 00:53:48 Installing easy_install script to /usr/local/bin
2013-07-25 00:53:48 Installing easy_install-2.7 script to /usr/local/bin
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for Tempita==0.5.1
2013-07-25 00:53:48 Best match: Tempita 0.5.1
2013-07-25 00:53:48 Adding Tempita 0.5.1 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for decorator==3.3.2
2013-07-25 00:53:48 Best match: decorator 3.3.2
2013-07-25 00:53:48 Adding decorator 3.3.2 to easy-install.pth file
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for jsonpatch==0.12
2013-07-25 00:53:48 Best match: jsonpatch 0.12
2013-07-25 00:53:48 jsonpatch 0.12 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for jsonschema==0.8.0
2013-07-25 00:53:48 Best match: jsonschema 0.8.0
2013-07-25 00:53:48 jsonschema 0.8.0 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Searching for jsonpointer==0.7
2013-07-25 00:53:48 Best match: jsonpointer 0.7
2013-07-25 00:53:48 jsonpointer 0.7 is already the active version in easy-install.pth
2013-07-25 00:53:48 
2013-07-25 00:53:48 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:48 Finished processing dependencies for cinder==2013.1.a26.g94c564b
2013-07-25 00:53:48 + setup_develop /opt/stack/python-cinderclient
2013-07-25 00:53:48 + [[ False = True ]]
2013-07-25 00:53:48 + SUDO_CMD=sudo
2013-07-25 00:53:48 + cd /opt/stack/python-cinderclient
2013-07-25 00:53:48 + python setup.py egg_info
2013-07-25 00:53:48 running egg_info
2013-07-25 00:53:48 writing requirements to python_cinderclient.egg-info/requires.txt
2013-07-25 00:53:48 writing python_cinderclient.egg-info/PKG-INFO
2013-07-25 00:53:48 writing top-level names to python_cinderclient.egg-info/top_level.txt
2013-07-25 00:53:48 writing dependency_links to python_cinderclient.egg-info/dependency_links.txt
2013-07-25 00:53:48 writing entry points to python_cinderclient.egg-info/entry_points.txt
2013-07-25 00:53:48 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:48 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:48 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:48 writing manifest file 'python_cinderclient.egg-info/SOURCES.txt'
2013-07-25 00:53:48 ++ awk '/^.+/ {print "-f " $1}' python_cinderclient.egg-info/dependency_links.txt
2013-07-25 00:53:48 + raw_links=
2013-07-25 00:53:48 ++ xargs
2013-07-25 00:53:48 ++ echo
2013-07-25 00:53:48 + depend_links=
2013-07-25 00:53:48 ++ '[' '!' -r python_cinderclient.egg-info/requires.txt ']'
2013-07-25 00:53:48 ++ echo '-r *-info/requires.txt'
2013-07-25 00:53:48 + require_file='-r *-info/requires.txt'
2013-07-25 00:53:48 + pip_install -r python_cinderclient.egg-info/requires.txt
2013-07-25 00:53:48 + [[ True = \T\r\u\e ]]
2013-07-25 00:53:48 + return
2013-07-25 00:53:48 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-25 00:53:49 running develop
2013-07-25 00:53:49 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-25 00:53:49 /usr/bin/python -E -c pass
2013-07-25 00:53:49 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-25 00:53:49 running egg_info
2013-07-25 00:53:49 writing requirements to python_cinderclient.egg-info/requires.txt
2013-07-25 00:53:49 writing python_cinderclient.egg-info/PKG-INFO
2013-07-25 00:53:49 writing top-level names to python_cinderclient.egg-info/top_level.txt
2013-07-25 00:53:49 writing dependency_links to python_cinderclient.egg-info/dependency_links.txt
2013-07-25 00:53:49 writing entry points to python_cinderclient.egg-info/entry_points.txt
2013-07-25 00:53:49 reading manifest template 'MANIFEST.in'
2013-07-25 00:53:49 warning: no files found matching 'AUTHORS'
2013-07-25 00:53:49 warning: no files found matching 'ChangeLog'
2013-07-25 00:53:49 writing manifest file 'python_cinderclient.egg-info/SOURCES.txt'
2013-07-25 00:53:49 running build_ext
2013-07-25 00:53:49 Creating /usr/local/lib/python2.7/dist-packages/python-cinderclient.egg-link (link to .)
2013-07-25 00:53:49 Removing python-cinderclient 1.0.2 from easy-install.pth file
2013-07-25 00:53:49 python-cinderclient 1.0.2.26.g458ff24 is already the active version in easy-install.pth
2013-07-25 00:53:49 Installing cinder script to /usr/local/bin
2013-07-25 00:53:49 
2013-07-25 00:53:49 Installed /opt/stack/python-cinderclient
2013-07-25 00:53:49 Processing dependencies for python-cinderclient==1.0.2.26.g458ff24
2013-07-25 00:53:49 Searching for simplejson==2.3.2
2013-07-25 00:53:49 Best match: simplejson 2.3.2
2013-07-25 00:53:49 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-25 00:53:49 
2013-07-25 00:53:49 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:53:49 Searching for requests==0.14.2
2013-07-25 00:53:49 Best match: requests 0.14.2
2013-07-25 00:53:49 Processing requests-0.14.2-py2.7.egg
2013-07-25 00:53:49 Removing requests 0.14.2 from easy-install.pth file
2013-07-25 00:53:49 requests 0.14.2 is already the active version in easy-install.pth
2013-07-25 00:53:49 
2013-07-25 00:53:49 Using /usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg
2013-07-25 00:53:49 Searching for prettytable==0.6.1
2013-07-25 00:53:49 Best match: prettytable 0.6.1
2013-07-25 00:53:49 Adding prettytable 0.6.1 to easy-install.pth file
2013-07-25 00:53:49 
2013-07-25 00:53:49 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:53:49 Finished processing dependencies for python-cinderclient==1.0.2.26.g458ff24
2013-07-25 00:53:49 + [[ ! -d /etc/cinder ]]
2013-07-25 00:53:49 + sudo chown stack /etc/cinder
2013-07-25 00:53:49 + cp -p /opt/stack/cinder/etc/cinder/policy.json /etc/cinder
2013-07-25 00:53:49 ++ get_rootwrap_location cinder
2013-07-25 00:53:49 ++ local module=cinder
2013-07-25 00:53:49 +++ get_python_exec_prefix
2013-07-25 00:53:49 +++ is_fedora
2013-07-25 00:53:49 +++ [[ -z Ubuntu ]]
2013-07-25 00:53:49 +++ '[' Ubuntu = Fedora ']'
2013-07-25 00:53:49 +++ '[' Ubuntu = 'Red Hat' ']'
2013-07-25 00:53:49 +++ '[' Ubuntu = CentOS ']'
2013-07-25 00:53:49 +++ echo /usr/local/bin
2013-07-25 00:53:49 ++ echo /usr/local/bin/cinder-rootwrap
2013-07-25 00:53:49 + CINDER_ROOTWRAP=/usr/local/bin/cinder-rootwrap
2013-07-25 00:53:49 + ROOTWRAP_CINDER_SUDOER_CMD=/usr/local/bin/cinder-rootwrap
2013-07-25 00:53:49 + [[ -d /opt/stack/cinder/etc/cinder/rootwrap.d ]]
2013-07-25 00:53:49 + [[ -d /etc/cinder/rootwrap.d ]]
2013-07-25 00:53:49 + sudo rm -rf /etc/cinder/rootwrap.d
2013-07-25 00:53:49 + sudo mkdir -m 755 /etc/cinder/rootwrap.d
2013-07-25 00:53:49 + sudo cp /opt/stack/cinder/etc/cinder/rootwrap.d/volume.filters /etc/cinder/rootwrap.d
2013-07-25 00:53:49 + sudo chown -R root:root /etc/cinder/rootwrap.d
2013-07-25 00:53:49 + sudo chmod 644 /etc/cinder/rootwrap.d/volume.filters
2013-07-25 00:53:49 + sudo cp /opt/stack/cinder/etc/cinder/rootwrap.conf /etc/cinder/
2013-07-25 00:53:49 + sudo sed -e 's:^filters_path=.*$:filters_path=/etc/cinder/rootwrap.d:' -i /etc/cinder/rootwrap.conf
2013-07-25 00:53:49 + sudo chown root:root /etc/cinder/rootwrap.conf
2013-07-25 00:53:49 + sudo chmod 0644 /etc/cinder/rootwrap.conf
2013-07-25 00:53:49 + CINDER_ROOTWRAP='/usr/local/bin/cinder-rootwrap /etc/cinder/rootwrap.conf'
2013-07-25 00:53:49 + ROOTWRAP_CINDER_SUDOER_CMD='/usr/local/bin/cinder-rootwrap /etc/cinder/rootwrap.conf *'
2013-07-25 00:53:49 ++ mktemp
2013-07-25 00:53:49 + TEMPFILE=/tmp/tmp.XQN2jCIRQk
2013-07-25 00:53:49 + echo 'stack ALL=(root) NOPASSWD: /usr/local/bin/cinder-rootwrap /etc/cinder/rootwrap.conf *'
2013-07-25 00:53:49 + chmod 0440 /tmp/tmp.XQN2jCIRQk
2013-07-25 00:53:49 + sudo chown root:root /tmp/tmp.XQN2jCIRQk
2013-07-25 00:53:49 + sudo mv /tmp/tmp.XQN2jCIRQk /etc/sudoers.d/cinder-rootwrap
2013-07-25 00:53:49 + cp /opt/stack/cinder/etc/cinder/api-paste.ini /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + iniset /etc/cinder/api-paste.ini filter:authtoken auth_host 129.127.10.133
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=auth_host
2013-07-25 00:53:49 + local value=129.127.10.133
2013-07-25 00:53:49 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken auth_host
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=auth_host
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^auth_host[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + line='auth_host = 127.0.0.1'
2013-07-25 00:53:49 + '[' -n 'auth_host = 127.0.0.1' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(auth_host[ \t]*=[ \t]*\).*$|\1129.127.10.133|' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + iniset /etc/cinder/api-paste.ini filter:authtoken auth_port 35357
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=auth_port
2013-07-25 00:53:49 + local value=35357
2013-07-25 00:53:49 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken auth_port
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=auth_port
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^auth_port[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + line='auth_port = 35357'
2013-07-25 00:53:49 + '[' -n 'auth_port = 35357' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(auth_port[ \t]*=[ \t]*\).*$|\135357|' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + iniset /etc/cinder/api-paste.ini filter:authtoken auth_protocol http
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=auth_protocol
2013-07-25 00:53:49 + local value=http
2013-07-25 00:53:49 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken auth_protocol
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=auth_protocol
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^auth_protocol[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + line='auth_protocol = http'
2013-07-25 00:53:49 + '[' -n 'auth_protocol = http' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(auth_protocol[ \t]*=[ \t]*\).*$|\1http|' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + iniset /etc/cinder/api-paste.ini filter:authtoken admin_tenant_name service
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=admin_tenant_name
2013-07-25 00:53:49 + local value=service
2013-07-25 00:53:49 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken admin_tenant_name
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=admin_tenant_name
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_tenant_name[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + line='admin_tenant_name = %SERVICE_TENANT_NAME%'
2013-07-25 00:53:49 + '[' -n 'admin_tenant_name = %SERVICE_TENANT_NAME%' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_tenant_name[ \t]*=[ \t]*\).*$|\1service|' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + iniset /etc/cinder/api-paste.ini filter:authtoken admin_user cinder
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=admin_user
2013-07-25 00:53:49 + local value=cinder
2013-07-25 00:53:49 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken admin_user
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=admin_user
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_user[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + line='admin_user = %SERVICE_USER%'
2013-07-25 00:53:49 + '[' -n 'admin_user = %SERVICE_USER%' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_user[ \t]*=[ \t]*\).*$|\1cinder|' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + iniset /etc/cinder/api-paste.ini filter:authtoken admin_password b00cc1bf202ef80abbe0
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=admin_password
2013-07-25 00:53:49 + local value=b00cc1bf202ef80abbe0
2013-07-25 00:53:49 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken admin_password
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=admin_password
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + line='admin_password = %SERVICE_PASSWORD%'
2013-07-25 00:53:49 + '[' -n 'admin_password = %SERVICE_PASSWORD%' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_password[ \t]*=[ \t]*\).*$|\1b00cc1bf202ef80abbe0|' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + iniset /etc/cinder/api-paste.ini filter:authtoken signing_dir /var/cache/cinder
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=signing_dir
2013-07-25 00:53:49 + local value=/var/cache/cinder
2013-07-25 00:53:49 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken signing_dir
2013-07-25 00:53:49 + local file=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local section=filter:authtoken
2013-07-25 00:53:49 + local option=signing_dir
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^signing_dir[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + line='signing_dir = /var/lib/cinder'
2013-07-25 00:53:49 + '[' -n 'signing_dir = /var/lib/cinder' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(signing_dir[ \t]*=[ \t]*\).*$|\1/var/cache/cinder|' /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + cp /opt/stack/cinder/etc/cinder/cinder.conf.sample /etc/cinder/cinder.conf
2013-07-25 00:53:49 + iniset /etc/cinder/cinder.conf DEFAULT auth_strategy keystone
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=auth_strategy
2013-07-25 00:53:49 + local value=keystone
2013-07-25 00:53:49 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + ini_has_option /etc/cinder/cinder.conf DEFAULT auth_strategy
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=auth_strategy
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^auth_strategy[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + line=
2013-07-25 00:53:49 + '[' -n '' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:49 auth_strategy = keystone
2013-07-25 00:53:49 ' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + iniset /etc/cinder/cinder.conf DEFAULT verbose True
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=verbose
2013-07-25 00:53:49 + local value=True
2013-07-25 00:53:49 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + ini_has_option /etc/cinder/cinder.conf DEFAULT verbose
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=verbose
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^verbose[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + line=
2013-07-25 00:53:49 + '[' -n '' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:49 verbose = True
2013-07-25 00:53:49 ' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + '[' False = True ']'
2013-07-25 00:53:49 + iniset /etc/cinder/cinder.conf DEFAULT volume_group stack-volumes
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=volume_group
2013-07-25 00:53:49 + local value=stack-volumes
2013-07-25 00:53:49 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + ini_has_option /etc/cinder/cinder.conf DEFAULT volume_group
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=volume_group
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^volume_group[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + line=
2013-07-25 00:53:49 + '[' -n '' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:49 volume_group = stack-volumes
2013-07-25 00:53:49 ' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + iniset /etc/cinder/cinder.conf DEFAULT volume_name_template volume-%s
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=volume_name_template
2013-07-25 00:53:49 + local value=volume-%s
2013-07-25 00:53:49 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + ini_has_option /etc/cinder/cinder.conf DEFAULT volume_name_template
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=volume_name_template
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^volume_name_template[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + line=
2013-07-25 00:53:49 + '[' -n '' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:49 volume_name_template = volume-%s
2013-07-25 00:53:49 ' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + iniset /etc/cinder/cinder.conf DEFAULT iscsi_helper tgtadm
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=iscsi_helper
2013-07-25 00:53:49 + local value=tgtadm
2013-07-25 00:53:49 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + ini_has_option /etc/cinder/cinder.conf DEFAULT iscsi_helper
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=iscsi_helper
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^iscsi_helper[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + line=
2013-07-25 00:53:49 + '[' -n '' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:49 iscsi_helper = tgtadm
2013-07-25 00:53:49 ' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + local dburl
2013-07-25 00:53:49 + database_connection_url dburl cinder
2013-07-25 00:53:49 + local var=dburl
2013-07-25 00:53:49 + local db=cinder
2013-07-25 00:53:49 + database_connection_url_mysql dburl cinder
2013-07-25 00:53:49 + local output=dburl
2013-07-25 00:53:49 + local db=cinder
2013-07-25 00:53:49 + eval 'dburl=mysql://root:f37ccdd1ded5c0dd33c9@localhost/cinder?charset=utf8'
2013-07-25 00:53:49 ++ dburl='mysql://root:f37ccdd1ded5c0dd33c9@localhost/cinder?charset=utf8'
2013-07-25 00:53:49 + iniset /etc/cinder/cinder.conf DEFAULT sql_connection 'mysql://root:f37ccdd1ded5c0dd33c9@localhost/cinder?charset=utf8'
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=sql_connection
2013-07-25 00:53:49 + local 'value=mysql://root:f37ccdd1ded5c0dd33c9@localhost/cinder?charset=utf8'
2013-07-25 00:53:49 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + ini_has_option /etc/cinder/cinder.conf DEFAULT sql_connection
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=sql_connection
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^sql_connection[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + line=
2013-07-25 00:53:49 + '[' -n '' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:49 sql_connection = mysql://root:f37ccdd1ded5c0dd33c9@localhost/cinder?charset=utf8
2013-07-25 00:53:49 ' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + iniset /etc/cinder/cinder.conf DEFAULT api_paste_config /etc/cinder/api-paste.ini
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=api_paste_config
2013-07-25 00:53:49 + local value=/etc/cinder/api-paste.ini
2013-07-25 00:53:49 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + ini_has_option /etc/cinder/cinder.conf DEFAULT api_paste_config
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=api_paste_config
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^api_paste_config[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + line=
2013-07-25 00:53:49 + '[' -n '' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:49 api_paste_config = /etc/cinder/api-paste.ini
2013-07-25 00:53:49 ' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + iniset /etc/cinder/cinder.conf DEFAULT rootwrap_config /etc/cinder/rootwrap.conf
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=rootwrap_config
2013-07-25 00:53:49 + local value=/etc/cinder/rootwrap.conf
2013-07-25 00:53:49 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + ini_has_option /etc/cinder/cinder.conf DEFAULT rootwrap_config
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=rootwrap_config
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rootwrap_config[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + line=
2013-07-25 00:53:49 + '[' -n '' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:49 rootwrap_config = /etc/cinder/rootwrap.conf
2013-07-25 00:53:49 ' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + iniset /etc/cinder/cinder.conf DEFAULT osapi_volume_extension cinder.api.contrib.standard_extensions
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=osapi_volume_extension
2013-07-25 00:53:49 + local value=cinder.api.contrib.standard_extensions
2013-07-25 00:53:49 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + ini_has_option /etc/cinder/cinder.conf DEFAULT osapi_volume_extension
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=osapi_volume_extension
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^osapi_volume_extension[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + line=
2013-07-25 00:53:49 + '[' -n '' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:49 osapi_volume_extension = cinder.api.contrib.standard_extensions
2013-07-25 00:53:49 ' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + iniset /etc/cinder/cinder.conf DEFAULT state_path /opt/stack/data/cinder
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=state_path
2013-07-25 00:53:49 + local value=/opt/stack/data/cinder
2013-07-25 00:53:49 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + ini_has_option /etc/cinder/cinder.conf DEFAULT state_path
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=state_path
2013-07-25 00:53:49 + local line
2013-07-25 00:53:49 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^state_path[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + line=
2013-07-25 00:53:49 + '[' -n '' ']'
2013-07-25 00:53:49 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:49 state_path = /opt/stack/data/cinder
2013-07-25 00:53:49 ' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + is_service_enabled tls-proxy
2013-07-25 00:53:49 + services=tls-proxy
2013-07-25 00:53:49 + for service in '${services}'
2013-07-25 00:53:49 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-25 00:53:49 + [[ tls-proxy == \n\o\v\a ]]
2013-07-25 00:53:49 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-25 00:53:49 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:49 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-25 00:53:49 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:49 + return 1
2013-07-25 00:53:49 + '[' False '!=' False ']'
2013-07-25 00:53:49 + iniset_rpc_backend cinder /etc/cinder/cinder.conf DEFAULT
2013-07-25 00:53:49 + local package=cinder
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + is_service_enabled zeromq
2013-07-25 00:53:49 + services=zeromq
2013-07-25 00:53:49 + for service in '${services}'
2013-07-25 00:53:49 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,zeromq, ]]
2013-07-25 00:53:49 + [[ zeromq == \n\o\v\a ]]
2013-07-25 00:53:49 + [[ zeromq == \c\i\n\d\e\r ]]
2013-07-25 00:53:49 + [[ zeromq == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:49 + [[ zeromq == \g\l\a\n\c\e ]]
2013-07-25 00:53:49 + [[ zeromq == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:49 + return 1
2013-07-25 00:53:49 + is_service_enabled qpid
2013-07-25 00:53:49 + services=qpid
2013-07-25 00:53:49 + for service in '${services}'
2013-07-25 00:53:49 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,qpid, ]]
2013-07-25 00:53:49 + [[ qpid == \n\o\v\a ]]
2013-07-25 00:53:49 + [[ qpid == \c\i\n\d\e\r ]]
2013-07-25 00:53:49 + [[ qpid == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:49 + [[ qpid == \g\l\a\n\c\e ]]
2013-07-25 00:53:49 + [[ qpid == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:49 + return 1
2013-07-25 00:53:49 + is_service_enabled rabbit
2013-07-25 00:53:49 + services=rabbit
2013-07-25 00:53:49 + for service in '${services}'
2013-07-25 00:53:49 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,rabbit, ]]
2013-07-25 00:53:49 + return 0
2013-07-25 00:53:49 + iniset /etc/cinder/cinder.conf DEFAULT rpc_backend cinder.openstack.common.rpc.impl_kombu
2013-07-25 00:53:49 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:49 + local section=DEFAULT
2013-07-25 00:53:49 + local option=rpc_backend
2013-07-25 00:53:49 + local value=cinder.openstack.common.rpc.impl_kombu
2013-07-25 00:53:49 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:49 + ini_has_option /etc/cinder/cinder.conf DEFAULT rpc_backend
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=rpc_backend
2013-07-25 00:53:50 + local line
2013-07-25 00:53:50 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rpc_backend[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + line=
2013-07-25 00:53:50 + '[' -n '' ']'
2013-07-25 00:53:50 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:50 rpc_backend = cinder.openstack.common.rpc.impl_kombu
2013-07-25 00:53:50 ' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + iniset /etc/cinder/cinder.conf DEFAULT rabbit_host localhost
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=rabbit_host
2013-07-25 00:53:50 + local value=localhost
2013-07-25 00:53:50 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + ini_has_option /etc/cinder/cinder.conf DEFAULT rabbit_host
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=rabbit_host
2013-07-25 00:53:50 + local line
2013-07-25 00:53:50 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rabbit_host[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + line=
2013-07-25 00:53:50 + '[' -n '' ']'
2013-07-25 00:53:50 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:50 rabbit_host = localhost
2013-07-25 00:53:50 ' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + iniset /etc/cinder/cinder.conf DEFAULT rabbit_password 25be6bc02b307784e519
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=rabbit_password
2013-07-25 00:53:50 + local value=25be6bc02b307784e519
2013-07-25 00:53:50 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + ini_has_option /etc/cinder/cinder.conf DEFAULT rabbit_password
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=rabbit_password
2013-07-25 00:53:50 + local line
2013-07-25 00:53:50 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rabbit_password[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + line=
2013-07-25 00:53:50 + '[' -n '' ']'
2013-07-25 00:53:50 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:50 rabbit_password = 25be6bc02b307784e519
2013-07-25 00:53:50 ' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + [[ True == \F\a\l\s\e ]]
2013-07-25 00:53:50 + '[' True == True ']'
2013-07-25 00:53:50 + '[' False == False ']'
2013-07-25 00:53:50 + iniset /etc/cinder/cinder.conf DEFAULT logging_context_format_string '%(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[01;36m%(request_id)s [00;36m%(user_id)s %(project_id)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=logging_context_format_string
2013-07-25 00:53:50 + local 'value=%(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[01;36m%(request_id)s [00;36m%(user_id)s %(project_id)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
2013-07-25 00:53:50 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + ini_has_option /etc/cinder/cinder.conf DEFAULT logging_context_format_string
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=logging_context_format_string
2013-07-25 00:53:50 + local line
2013-07-25 00:53:50 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^logging_context_format_string[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + line=
2013-07-25 00:53:50 + '[' -n '' ']'
2013-07-25 00:53:50 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:50 logging_context_format_string = %(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[01;36m%(request_id)s [00;36m%(user_id)s %(project_id)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m
2013-07-25 00:53:50 ' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + iniset /etc/cinder/cinder.conf DEFAULT logging_default_format_string '%(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=logging_default_format_string
2013-07-25 00:53:50 + local 'value=%(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
2013-07-25 00:53:50 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + ini_has_option /etc/cinder/cinder.conf DEFAULT logging_default_format_string
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=logging_default_format_string
2013-07-25 00:53:50 + local line
2013-07-25 00:53:50 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^logging_default_format_string[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + line=
2013-07-25 00:53:50 + '[' -n '' ']'
2013-07-25 00:53:50 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:50 logging_default_format_string = %(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m
2013-07-25 00:53:50 ' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + iniset /etc/cinder/cinder.conf DEFAULT logging_debug_format_suffix '[00;33mfrom (pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d[00m'
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=logging_debug_format_suffix
2013-07-25 00:53:50 + local 'value=[00;33mfrom (pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d[00m'
2013-07-25 00:53:50 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + ini_has_option /etc/cinder/cinder.conf DEFAULT logging_debug_format_suffix
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=logging_debug_format_suffix
2013-07-25 00:53:50 + local line
2013-07-25 00:53:50 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^logging_debug_format_suffix[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + line=
2013-07-25 00:53:50 + '[' -n '' ']'
2013-07-25 00:53:50 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:50 logging_debug_format_suffix = [00;33mfrom (pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d[00m
2013-07-25 00:53:50 ' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + iniset /etc/cinder/cinder.conf DEFAULT logging_exception_prefix '%(color)s%(asctime)s.%(msecs)03d TRACE %(name)s [01;35m%(instance)s[00m'
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=logging_exception_prefix
2013-07-25 00:53:50 + local 'value=%(color)s%(asctime)s.%(msecs)03d TRACE %(name)s [01;35m%(instance)s[00m'
2013-07-25 00:53:50 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + ini_has_option /etc/cinder/cinder.conf DEFAULT logging_exception_prefix
2013-07-25 00:53:50 + local file=/etc/cinder/cinder.conf
2013-07-25 00:53:50 + local section=DEFAULT
2013-07-25 00:53:50 + local option=logging_exception_prefix
2013-07-25 00:53:50 + local line
2013-07-25 00:53:50 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^logging_exception_prefix[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + line=
2013-07-25 00:53:50 + '[' -n '' ']'
2013-07-25 00:53:50 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:53:50 logging_exception_prefix = %(color)s%(asctime)s.%(msecs)03d TRACE %(name)s [01;35m%(instance)s[00m
2013-07-25 00:53:50 ' /etc/cinder/cinder.conf
2013-07-25 00:53:50 + '[' default == XenAPINFS ']'
2013-07-25 00:53:50 + '[' default == sheepdog ']'
2013-07-25 00:53:50 + [[ False = True ]]
2013-07-25 00:53:50 + is_service_enabled tls-proxy
2013-07-25 00:53:50 + services=tls-proxy
2013-07-25 00:53:50 + for service in '${services}'
2013-07-25 00:53:50 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-25 00:53:50 + [[ tls-proxy == \n\o\v\a ]]
2013-07-25 00:53:50 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-25 00:53:50 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:50 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-25 00:53:50 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:50 + return 1
2013-07-25 00:53:50 + [[ False != \F\a\l\s\e ]]
2013-07-25 00:53:50 + restart_rpc_backend
2013-07-25 00:53:50 + is_service_enabled rabbit
2013-07-25 00:53:50 + services=rabbit
2013-07-25 00:53:50 + for service in '${services}'
2013-07-25 00:53:50 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,rabbit, ]]
2013-07-25 00:53:50 + return 0
2013-07-25 00:53:50 + echo_summary 'Starting RabbitMQ'
2013-07-25 00:53:50 + [[ -t 3 ]]
2013-07-25 00:53:50 + [[ True != \T\r\u\e ]]
2013-07-25 00:53:50 + echo -e Starting RabbitMQ
2013-07-25 00:53:50 + is_fedora
2013-07-25 00:53:50 + [[ -z Ubuntu ]]
2013-07-25 00:53:50 + '[' Ubuntu = Fedora ']'
2013-07-25 00:53:50 + '[' Ubuntu = 'Red Hat' ']'
2013-07-25 00:53:50 + '[' Ubuntu = CentOS ']'
2013-07-25 00:53:50 + is_suse
2013-07-25 00:53:50 + [[ -z Ubuntu ]]
2013-07-25 00:53:50 + '[' Ubuntu = openSUSE ']'
2013-07-25 00:53:50 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-25 00:53:50 + sudo rabbitmqctl change_password guest 25be6bc02b307784e519
2013-07-25 00:53:50 Starting RabbitMQ
2013-07-25 00:53:50 Changing password for user "guest" ...
2013-07-25 00:53:50 ...done.
2013-07-25 00:53:50 + is_service_enabled mysql postgresql
2013-07-25 00:53:50 + services='mysql postgresql'
2013-07-25 00:53:50 + for service in '${services}'
2013-07-25 00:53:50 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,mysql, ]]
2013-07-25 00:53:50 + return 0
2013-07-25 00:53:50 + configure_database
2013-07-25 00:53:50 + configure_database_mysql
2013-07-25 00:53:50 + echo_summary 'Configuring and starting MySQL'
2013-07-25 00:53:50 + [[ -t 3 ]]
2013-07-25 00:53:50 + [[ True != \T\r\u\e ]]
2013-07-25 00:53:50 + echo -e Configuring and starting MySQL
2013-07-25 00:53:50 Configuring and starting MySQL
2013-07-25 00:53:50 + is_ubuntu
2013-07-25 00:53:50 + [[ -z deb ]]
2013-07-25 00:53:50 + '[' deb = deb ']'
2013-07-25 00:53:50 + MY_CONF=/etc/mysql/my.cnf
2013-07-25 00:53:50 + MYSQL=mysql
2013-07-25 00:53:50 + is_fedora
2013-07-25 00:53:50 + [[ -z Ubuntu ]]
2013-07-25 00:53:50 + '[' Ubuntu = Fedora ']'
2013-07-25 00:53:50 + '[' Ubuntu = 'Red Hat' ']'
2013-07-25 00:53:50 + '[' Ubuntu = CentOS ']'
2013-07-25 00:53:50 + is_suse
2013-07-25 00:53:50 + [[ -z Ubuntu ]]
2013-07-25 00:53:50 + '[' Ubuntu = openSUSE ']'
2013-07-25 00:53:50 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-25 00:53:50 + is_ubuntu
2013-07-25 00:53:50 + [[ -z deb ]]
2013-07-25 00:53:50 + '[' deb = deb ']'
2013-07-25 00:53:50 + sudo mysql -uroot -pf37ccdd1ded5c0dd33c9 -h127.0.0.1 -e 'GRANT ALL PRIVILEGES ON *.* TO '\''root'\''@'\''%'\'' identified by '\''f37ccdd1ded5c0dd33c9'\'';'
2013-07-25 00:53:50 + sudo sed -i '/^bind-address/s/127.0.0.1/0.0.0.0/g' /etc/mysql/my.cnf
2013-07-25 00:53:50 + sudo grep -q default-storage-engine /etc/mysql/my.cnf
2013-07-25 00:53:50 + sudo bash -c 'source /home/stack/devstack/functions; iniset /etc/mysql/my.cnf mysqld default-storage-engine InnoDB'
2013-07-25 00:53:50 + sudo sed -i /log.slow.queries/d /etc/mysql/my.cnf
2013-07-25 00:53:50 + sudo sed -i -e '/^\[mysqld\]/ a log-slow-queries = /var/log/mysql/mysql-slow.log' /etc/mysql/my.cnf
2013-07-25 00:53:50 + sudo sed -i /long.query.time/d /etc/mysql/my.cnf
2013-07-25 00:53:50 + sudo sed -i -e '/^\[mysqld\]/ a long-query-time = 0' /etc/mysql/my.cnf
2013-07-25 00:53:50 + sudo sed -i /log.queries.not.using.indexes/d /etc/mysql/my.cnf
2013-07-25 00:53:50 + sudo sed -i -e '/^\[mysqld\]/ a log-queries-not-using-indexes' /etc/mysql/my.cnf
2013-07-25 00:53:50 + restart_service mysql
2013-07-25 00:53:50 + is_ubuntu
2013-07-25 00:53:50 + [[ -z deb ]]
2013-07-25 00:53:50 + '[' deb = deb ']'
2013-07-25 00:53:50 + sudo /usr/sbin/service mysql restart
2013-07-25 00:53:51 mysql stop/waiting
2013-07-25 00:53:53 mysql start/running, process 19466
2013-07-25 00:53:53 + '[' -z '' ']'
2013-07-25 00:53:53 + SCREEN_HARDSTATUS='%{= .} %-Lw%{= .}%> %n%f %t*%{= .}%+Lw%< %-=%{g}(%{d}%H/%l%{g})'
2013-07-25 00:53:53 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:53:53 + [[ -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:53:53 + echo -n
2013-07-25 00:53:53 + screen -d -m -S stack -t shell -s /bin/bash
2013-07-25 00:53:53 + sleep 1
2013-07-25 00:53:54 + screen -r stack -X hardstatus alwayslastline '%{= .} %-Lw%{= .}%> %n%f %t*%{= .}%+Lw%< %-=%{g}(%{d}%H/%l%{g})'
2013-07-25 00:53:54 + init_service_check
2013-07-25 00:53:54 + SCREEN_NAME=stack
2013-07-25 00:53:54 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:53:54 + [[ ! -d /opt/stack/status/stack ]]
2013-07-25 00:53:54 + rm -f /opt/stack/status/stack/n-cauth.failure /opt/stack/status/stack/n-cond.failure /opt/stack/status/stack/n-cpu.failure /opt/stack/status/stack/n-crt.failure /opt/stack/status/stack/n-net.failure /opt/stack/status/stack/n-sch.failure
2013-07-25 00:53:54 + is_service_enabled sysstat
2013-07-25 00:53:54 + services=sysstat
2013-07-25 00:53:54 + for service in '${services}'
2013-07-25 00:53:54 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,sysstat, ]]
2013-07-25 00:53:54 + [[ sysstat == \n\o\v\a ]]
2013-07-25 00:53:54 + [[ sysstat == \c\i\n\d\e\r ]]
2013-07-25 00:53:54 + [[ sysstat == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:53:54 + [[ sysstat == \g\l\a\n\c\e ]]
2013-07-25 00:53:54 + [[ sysstat == \q\u\a\n\t\u\m ]]
2013-07-25 00:53:54 + return 1
2013-07-25 00:53:54 + is_service_enabled key
2013-07-25 00:53:54 + services=key
2013-07-25 00:53:54 + for service in '${services}'
2013-07-25 00:53:54 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,key, ]]
2013-07-25 00:53:54 + return 0
2013-07-25 00:53:54 + echo_summary 'Starting Keystone'
2013-07-25 00:53:54 + [[ -t 3 ]]
2013-07-25 00:53:54 + [[ True != \T\r\u\e ]]
2013-07-25 00:53:54 + echo -e Starting Keystone
2013-07-25 00:53:54 Starting Keystone
2013-07-25 00:53:54 + init_keystone
2013-07-25 00:53:54 + recreate_database keystone utf8
2013-07-25 00:53:54 + local db=keystone
2013-07-25 00:53:54 + local charset=utf8
2013-07-25 00:53:54 + recreate_database_mysql keystone utf8
2013-07-25 00:53:54 + local db=keystone
2013-07-25 00:53:54 + local charset=utf8
2013-07-25 00:53:54 + mysql -uroot -pf37ccdd1ded5c0dd33c9 -e 'DROP DATABASE IF EXISTS keystone;'
2013-07-25 00:53:55 + mysql -uroot -pf37ccdd1ded5c0dd33c9 -e 'CREATE DATABASE keystone CHARACTER SET utf8;'
2013-07-25 00:53:55 + /opt/stack/keystone/bin/keystone-manage db_sync
2013-07-25 00:54:03 + [[ PKI == \P\K\I ]]
2013-07-25 00:54:03 + rm -rf /etc/keystone/ssl
2013-07-25 00:54:03 + /opt/stack/keystone/bin/keystone-manage pki_setup
2013-07-25 00:54:03 Generating RSA private key, 1024 bit long modulus
2013-07-25 00:54:03 ..........++++++
2013-07-25 00:54:03 .........................................++++++
2013-07-25 00:54:03 e is 65537 (0x10001)
2013-07-25 00:54:03 Generating RSA private key, 1024 bit long modulus
2013-07-25 00:54:04 .....................++++++
2013-07-25 00:54:04 ...........++++++
2013-07-25 00:54:04 e is 65537 (0x10001)
2013-07-25 00:54:04 Using configuration from /etc/keystone/ssl/certs/openssl.conf
2013-07-25 00:54:04 Check that the request matches the signature
2013-07-25 00:54:04 Signature ok
2013-07-25 00:54:04 The Subject's Distinguished Name is as follows
2013-07-25 00:54:04 countryName           :PRINTABLE:'US'
2013-07-25 00:54:04 stateOrProvinceName   :PRINTABLE:'Unset'
2013-07-25 00:54:04 localityName          :PRINTABLE:'Unset'
2013-07-25 00:54:04 organizationName      :PRINTABLE:'Unset'
2013-07-25 00:54:04 commonName            :PRINTABLE:'www.example.com'
2013-07-25 00:54:04 Certificate is to be certified until Jul 24 15:24:04 2014 GMT (365 days)
2013-07-25 00:54:04 
2013-07-25 00:54:04 Write out database with 1 new entries
2013-07-25 00:54:04 Data Base Updated
2013-07-25 00:54:04 + sudo mkdir -p /var/cache/keystone
2013-07-25 00:54:04 + sudo chown stack /var/cache/keystone
2013-07-25 00:54:04 + rm -f '/var/cache/keystone/*'
2013-07-25 00:54:04 + start_keystone
2013-07-25 00:54:04 + local service_port=5000
2013-07-25 00:54:04 + is_service_enabled tls-proxy
2013-07-25 00:54:04 + services=tls-proxy
2013-07-25 00:54:04 + for service in '${services}'
2013-07-25 00:54:04 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-25 00:54:04 + [[ tls-proxy == \n\o\v\a ]]
2013-07-25 00:54:04 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-25 00:54:04 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:54:04 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-25 00:54:04 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-25 00:54:04 + return 1
2013-07-25 00:54:04 + screen_it key 'cd /opt/stack/keystone && /opt/stack/keystone/bin/keystone-all --config-file /etc/keystone/keystone.conf --log-config /etc/keystone/logging.conf -d --debug'
2013-07-25 00:54:04 + SCREEN_NAME=stack
2013-07-25 00:54:04 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:54:04 ++ trueorfalse True True
2013-07-25 00:54:04 ++ local default=True
2013-07-25 00:54:04 ++ local testval=True
2013-07-25 00:54:04 ++ [[ -z True ]]
2013-07-25 00:54:04 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:54:04 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:54:04 ++ echo True
2013-07-25 00:54:04 ++ return
2013-07-25 00:54:04 + SCREEN_DEV=True
2013-07-25 00:54:04 + is_service_enabled key
2013-07-25 00:54:04 + services=key
2013-07-25 00:54:04 + for service in '${services}'
2013-07-25 00:54:04 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,key, ]]
2013-07-25 00:54:04 + return 0
2013-07-25 00:54:04 + screen_rc key 'cd /opt/stack/keystone && /opt/stack/keystone/bin/keystone-all --config-file /etc/keystone/keystone.conf --log-config /etc/keystone/logging.conf -d --debug'
2013-07-25 00:54:04 + SCREEN_NAME=stack
2013-07-25 00:54:04 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:54:04 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:54:04 + grep key /home/stack/devstack/stack-screenrc
2013-07-25 00:54:04 ++ echo -ne '\015'
2013-07-25 00:54:04 + NL=$'\r'
2013-07-25 00:54:04 + echo 'screen -t key bash'
2013-07-25 00:54:04 + echo 'stuff "cd /opt/stack/keystone && /opt/stack/keystone/bin/keystone-all --config-file /etc/keystone/keystone.conf --log-config /etc/keystone/logging.conf -d --debug"'
2013-07-25 00:54:04 + screen -S stack -X screen -t key
2013-07-25 00:54:04 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:54:04 + screen -S stack -p key -X logfile /home/stack/devstack/log/screen-key.2013-07-25-005335.log
2013-07-25 00:54:04 + screen -S stack -p key -X log on
2013-07-25 00:54:04 + ln -sf /home/stack/devstack/log/screen-key.2013-07-25-005335.log /home/stack/devstack/log/screen-key.log
2013-07-25 00:54:04 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:54:04 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:54:04 + echo /home/stack/devstack/log
2013-07-25 00:54:04 /home/stack/devstack/log
2013-07-25 00:54:04 + [[ True = \T\r\u\e ]]
2013-07-25 00:54:04 + sleep 1.5
2013-07-25 00:54:05 ++ echo -ne '\015'
2013-07-25 00:54:05 + NL=$'\r'
2013-07-25 00:54:05 + screen -S stack -p key -X stuff 'cd /opt/stack/keystone && /opt/stack/keystone/bin/keystone-all --config-file /etc/keystone/keystone.conf --log-config /etc/keystone/logging.conf -d --debug || touch "/opt/stack/status/stack/key.failure"'
2013-07-25 00:54:05 + echo 'Getting out screen_it function. '
2013-07-25 00:54:05 Getting out screen_it function. 
2013-07-25 00:54:05 + echo 'Waiting for keystone to start...'
2013-07-25 00:54:05 Waiting for keystone to start...
2013-07-25 00:54:05 + timeout 60 sh -c 'while ! http_proxy= curl -s http://129.127.10.133:5000/v2.0/ >/dev/null; do sleep 1; done'
2013-07-25 00:54:06 + is_service_enabled tls-proxy
2013-07-25 00:54:06 + services=tls-proxy
2013-07-25 00:54:06 + for service in '${services}'
2013-07-25 00:54:06 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-25 00:54:06 + [[ tls-proxy == \n\o\v\a ]]
2013-07-25 00:54:06 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-25 00:54:06 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:54:06 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-25 00:54:06 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-25 00:54:06 + return 1
2013-07-25 00:54:06 + SERVICE_ENDPOINT=http://129.127.10.133:35357/v2.0
2013-07-25 00:54:06 + is_service_enabled tls-proxy
2013-07-25 00:54:06 + services=tls-proxy
2013-07-25 00:54:06 + for service in '${services}'
2013-07-25 00:54:06 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-25 00:54:06 + [[ tls-proxy == \n\o\v\a ]]
2013-07-25 00:54:06 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-25 00:54:06 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:54:06 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-25 00:54:06 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-25 00:54:06 + return 1
2013-07-25 00:54:06 + export OS_SERVICE_TOKEN=d3b5be7c95e4c660c01a
2013-07-25 00:54:06 + OS_SERVICE_TOKEN=d3b5be7c95e4c660c01a
2013-07-25 00:54:06 + export OS_SERVICE_ENDPOINT=http://129.127.10.133:35357/v2.0
2013-07-25 00:54:06 + OS_SERVICE_ENDPOINT=http://129.127.10.133:35357/v2.0
2013-07-25 00:54:06 + create_keystone_accounts
2013-07-25 00:54:06 ++ grep ' id '
2013-07-25 00:54:06 ++ get_field 2
2013-07-25 00:54:06 ++ read data
2013-07-25 00:54:06 ++ keystone tenant-create --name admin
2013-07-25 00:54:07 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:07 ++ field='$3'
2013-07-25 00:54:07 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:07 ++ echo '|      id     | 1b0c79562b4148d19f14225ed52f5117 |'
2013-07-25 00:54:07 ++ read data
2013-07-25 00:54:07 + ADMIN_TENANT=1b0c79562b4148d19f14225ed52f5117
2013-07-25 00:54:07 ++ grep ' id '
2013-07-25 00:54:07 ++ keystone user-create --name admin --pass 2061d55c35f999042112 --email admin@example.com
2013-07-25 00:54:07 ++ get_field 2
2013-07-25 00:54:07 ++ read data
2013-07-25 00:54:07 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:07 ++ field='$3'
2013-07-25 00:54:07 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:07 ++ echo '|    id    | 7edd6c1967154b1f9affdea8188a7830 |'
2013-07-25 00:54:07 ++ read data
2013-07-25 00:54:07 + ADMIN_USER=7edd6c1967154b1f9affdea8188a7830
2013-07-25 00:54:07 ++ get_field 2
2013-07-25 00:54:07 ++ read data
2013-07-25 00:54:07 ++ keystone role-create --name admin
2013-07-25 00:54:07 ++ grep ' id '
2013-07-25 00:54:08 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:08 ++ field='$3'
2013-07-25 00:54:08 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:08 ++ echo '|    id    | 453eae8b63524e0591cb04ed2268c78c |'
2013-07-25 00:54:08 ++ read data
2013-07-25 00:54:08 + ADMIN_ROLE=453eae8b63524e0591cb04ed2268c78c
2013-07-25 00:54:08 + keystone user-role-add --user_id 7edd6c1967154b1f9affdea8188a7830 --role_id 453eae8b63524e0591cb04ed2268c78c --tenant_id 1b0c79562b4148d19f14225ed52f5117
2013-07-25 00:54:08 ++ keystone tenant-create --name service
2013-07-25 00:54:08 ++ grep ' id '
2013-07-25 00:54:08 ++ get_field 2
2013-07-25 00:54:08 ++ read data
2013-07-25 00:54:08 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:08 ++ field='$3'
2013-07-25 00:54:09 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:09 ++ echo '|      id     | f645d2fb7794486fbe8af9232bf99c3d |'
2013-07-25 00:54:09 ++ read data
2013-07-25 00:54:09 + SERVICE_TENANT=f645d2fb7794486fbe8af9232bf99c3d
2013-07-25 00:54:09 ++ grep ' id '
2013-07-25 00:54:09 ++ keystone role-create --name=Member
2013-07-25 00:54:09 ++ get_field 2
2013-07-25 00:54:09 ++ read data
2013-07-25 00:54:09 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:09 ++ field='$3'
2013-07-25 00:54:09 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:09 ++ echo '|    id    | 3a214992c4db4667989d1cd3ee4231d6 |'
2013-07-25 00:54:09 ++ read data
2013-07-25 00:54:09 + MEMBER_ROLE=3a214992c4db4667989d1cd3ee4231d6
2013-07-25 00:54:09 ++ get_field 2
2013-07-25 00:54:09 ++ read data
2013-07-25 00:54:09 ++ grep ' id '
2013-07-25 00:54:09 ++ keystone role-create --name=anotherrole
2013-07-25 00:54:09 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:09 ++ field='$3'
2013-07-25 00:54:09 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:09 ++ echo '|    id    | 1e1f5a0f5dc942a580140c80fae19d1e |'
2013-07-25 00:54:09 ++ read data
2013-07-25 00:54:09 + ANOTHER_ROLE=1e1f5a0f5dc942a580140c80fae19d1e
2013-07-25 00:54:09 ++ grep ' id '
2013-07-25 00:54:09 ++ get_field 2
2013-07-25 00:54:09 ++ read data
2013-07-25 00:54:09 ++ keystone tenant-create --name=invisible_to_admin
2013-07-25 00:54:10 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:10 ++ field='$3'
2013-07-25 00:54:10 ++ echo '|      id     | 859eb21205d5467aa1106612698ea25d |'
2013-07-25 00:54:10 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:10 ++ read data
2013-07-25 00:54:10 + INVIS_TENANT=859eb21205d5467aa1106612698ea25d
2013-07-25 00:54:10 ++ grep ' id '
2013-07-25 00:54:10 ++ keystone tenant-create --name=demo
2013-07-25 00:54:10 ++ get_field 2
2013-07-25 00:54:10 ++ read data
2013-07-25 00:54:10 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:10 ++ field='$3'
2013-07-25 00:54:10 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:10 ++ echo '|      id     | 51b943db79ff4914b7a4d4d2539cc9e9 |'
2013-07-25 00:54:10 ++ read data
2013-07-25 00:54:10 + DEMO_TENANT=51b943db79ff4914b7a4d4d2539cc9e9
2013-07-25 00:54:10 ++ get_field 2
2013-07-25 00:54:10 ++ read data
2013-07-25 00:54:10 ++ grep ' id '
2013-07-25 00:54:10 ++ keystone user-create --name demo --pass 2061d55c35f999042112 --email demo@example.com
2013-07-25 00:54:11 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:11 ++ field='$3'
2013-07-25 00:54:11 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:11 ++ echo '|    id    | dcede3efcda14725988c811cc73ad685 |'
2013-07-25 00:54:11 ++ read data
2013-07-25 00:54:11 + DEMO_USER=dcede3efcda14725988c811cc73ad685
2013-07-25 00:54:11 + keystone user-role-add --user_id dcede3efcda14725988c811cc73ad685 --role_id 3a214992c4db4667989d1cd3ee4231d6 --tenant_id 51b943db79ff4914b7a4d4d2539cc9e9
2013-07-25 00:54:11 + keystone user-role-add --user_id 7edd6c1967154b1f9affdea8188a7830 --role_id 453eae8b63524e0591cb04ed2268c78c --tenant_id 51b943db79ff4914b7a4d4d2539cc9e9
2013-07-25 00:54:12 + keystone user-role-add --user_id dcede3efcda14725988c811cc73ad685 --role_id 1e1f5a0f5dc942a580140c80fae19d1e --tenant_id 51b943db79ff4914b7a4d4d2539cc9e9
2013-07-25 00:54:12 + keystone user-role-add --user_id dcede3efcda14725988c811cc73ad685 --role_id 3a214992c4db4667989d1cd3ee4231d6 --tenant_id 859eb21205d5467aa1106612698ea25d
2013-07-25 00:54:13 + [[ sql = \s\q\l ]]
2013-07-25 00:54:13 ++ keystone service-create --name keystone --type identity --description 'Keystone Identity Service'
2013-07-25 00:54:13 ++ get_field 2
2013-07-25 00:54:13 ++ read data
2013-07-25 00:54:13 ++ grep ' id '
2013-07-25 00:54:13 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:13 ++ field='$3'
2013-07-25 00:54:13 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:13 ++ echo '|      id     | d42ec5e66ace47f8bd39d4abeadfd56f |'
2013-07-25 00:54:13 ++ read data
2013-07-25 00:54:13 + KEYSTONE_SERVICE=d42ec5e66ace47f8bd39d4abeadfd56f
2013-07-25 00:54:13 + keystone endpoint-create --region RegionOne --service_id d42ec5e66ace47f8bd39d4abeadfd56f --publicurl http://129.127.10.133:5000/v2.0 --adminurl http://129.127.10.133:35357/v2.0 --internalurl http://129.127.10.133:5000/v2.0
2013-07-25 00:54:14 +-------------+----------------------------------+
2013-07-25 00:54:14 |   Property  |              Value               |
2013-07-25 00:54:14 +-------------+----------------------------------+
2013-07-25 00:54:14 |   adminurl  | http://129.127.10.133:35357/v2.0 |
2013-07-25 00:54:14 |      id     | c7534c6d574e4372834f5a70bf3d0979 |
2013-07-25 00:54:14 | internalurl | http://129.127.10.133:5000/v2.0  |
2013-07-25 00:54:14 |  publicurl  | http://129.127.10.133:5000/v2.0  |
2013-07-25 00:54:14 |    region   |            RegionOne             |
2013-07-25 00:54:14 |  service_id | d42ec5e66ace47f8bd39d4abeadfd56f |
2013-07-25 00:54:14 +-------------+----------------------------------+
2013-07-25 00:54:14 + create_nova_accounts
2013-07-25 00:54:14 ++ awk '/ service / { print $2 }'
2013-07-25 00:54:14 ++ keystone tenant-list
2013-07-25 00:54:14 + SERVICE_TENANT=f645d2fb7794486fbe8af9232bf99c3d
2013-07-25 00:54:14 ++ keystone role-list
2013-07-25 00:54:14 ++ awk '/ admin / { print $2 }'
2013-07-25 00:54:14 + ADMIN_ROLE=453eae8b63524e0591cb04ed2268c78c
2013-07-25 00:54:14 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n-api ]]
2013-07-25 00:54:14 ++ keystone user-create --name=nova --pass=b00cc1bf202ef80abbe0 --tenant_id f645d2fb7794486fbe8af9232bf99c3d --email=nova@example.com
2013-07-25 00:54:14 ++ grep ' id '
2013-07-25 00:54:14 ++ get_field 2
2013-07-25 00:54:14 ++ read data
2013-07-25 00:54:15 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:15 ++ field='$3'
2013-07-25 00:54:15 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:15 ++ echo '|    id    | 7d46de2a85644c5db6450b6dce26bf8f |'
2013-07-25 00:54:15 ++ read data
2013-07-25 00:54:15 + NOVA_USER=7d46de2a85644c5db6450b6dce26bf8f
2013-07-25 00:54:15 + keystone user-role-add --tenant_id f645d2fb7794486fbe8af9232bf99c3d --user_id 7d46de2a85644c5db6450b6dce26bf8f --role_id 453eae8b63524e0591cb04ed2268c78c
2013-07-25 00:54:15 + [[ sql = \s\q\l ]]
2013-07-25 00:54:15 ++ grep ' id '
2013-07-25 00:54:15 ++ get_field 2
2013-07-25 00:54:15 ++ read data
2013-07-25 00:54:15 ++ keystone service-create --name=nova --type=compute '--description=Nova Compute Service'
2013-07-25 00:54:16 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:16 ++ field='$3'
2013-07-25 00:54:16 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:16 ++ echo '|      id     | 06fd6b176e084964b02b6c081bd5a78b |'
2013-07-25 00:54:16 ++ read data
2013-07-25 00:54:16 + NOVA_SERVICE=06fd6b176e084964b02b6c081bd5a78b
2013-07-25 00:54:16 + keystone endpoint-create --region RegionOne --service_id 06fd6b176e084964b02b6c081bd5a78b --publicurl 'http://129.127.10.133:8774/v2/$(tenant_id)s' --adminurl 'http://129.127.10.133:8774/v2/$(tenant_id)s' --internalurl 'http://129.127.10.133:8774/v2/$(tenant_id)s'
2013-07-25 00:54:16 +-------------+---------------------------------------------+
2013-07-25 00:54:16 |   Property  |                    Value                    |
2013-07-25 00:54:16 +-------------+---------------------------------------------+
2013-07-25 00:54:16 |   adminurl  | http://129.127.10.133:8774/v2/$(tenant_id)s |
2013-07-25 00:54:16 |      id     |       011c29e4c7654d42b88df2e749fcb39a      |
2013-07-25 00:54:16 | internalurl | http://129.127.10.133:8774/v2/$(tenant_id)s |
2013-07-25 00:54:16 |  publicurl  | http://129.127.10.133:8774/v2/$(tenant_id)s |
2013-07-25 00:54:16 |    region   |                  RegionOne                  |
2013-07-25 00:54:16 |  service_id |       06fd6b176e084964b02b6c081bd5a78b      |
2013-07-25 00:54:16 +-------------+---------------------------------------------+
2013-07-25 00:54:16 + create_cinder_accounts
2013-07-25 00:54:16 ++ awk '/ service / { print $2 }'
2013-07-25 00:54:16 ++ keystone tenant-list
2013-07-25 00:54:17 + SERVICE_TENANT=f645d2fb7794486fbe8af9232bf99c3d
2013-07-25 00:54:17 ++ keystone role-list
2013-07-25 00:54:17 ++ awk '/ admin / { print $2 }'
2013-07-25 00:54:17 + ADMIN_ROLE=453eae8b63524e0591cb04ed2268c78c
2013-07-25 00:54:17 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ c-api ]]
2013-07-25 00:54:17 ++ keystone user-create --name=cinder --pass=b00cc1bf202ef80abbe0 --tenant_id f645d2fb7794486fbe8af9232bf99c3d --email=cinder@example.com
2013-07-25 00:54:17 ++ grep ' id '
2013-07-25 00:54:17 ++ get_field 2
2013-07-25 00:54:17 ++ read data
2013-07-25 00:54:18 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:18 ++ field='$3'
2013-07-25 00:54:18 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:18 ++ echo '|    id    | 89dd758e18e545cca70af5915d3b1649 |'
2013-07-25 00:54:18 ++ read data
2013-07-25 00:54:18 + CINDER_USER=89dd758e18e545cca70af5915d3b1649
2013-07-25 00:54:18 + keystone user-role-add --tenant_id f645d2fb7794486fbe8af9232bf99c3d --user_id 89dd758e18e545cca70af5915d3b1649 --role_id 453eae8b63524e0591cb04ed2268c78c
2013-07-25 00:54:18 + [[ sql = \s\q\l ]]
2013-07-25 00:54:18 ++ grep ' id '
2013-07-25 00:54:18 ++ get_field 2
2013-07-25 00:54:18 ++ read data
2013-07-25 00:54:18 ++ keystone service-create --name=cinder --type=volume '--description=Cinder Volume Service'
2013-07-25 00:54:18 ++ '[' 2 -lt 0 ']'
2013-07-25 00:54:18 ++ field='$3'
2013-07-25 00:54:18 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 00:54:18 ++ echo '|      id     | 630abaebb83d483ca46d35ac88aa5eef |'
2013-07-25 00:54:18 ++ read data
2013-07-25 00:54:18 + CINDER_SERVICE=630abaebb83d483ca46d35ac88aa5eef
2013-07-25 00:54:18 + keystone endpoint-create --region RegionOne --service_id 630abaebb83d483ca46d35ac88aa5eef --publicurl 'http://129.127.10.133:8776/v1/$(tenant_id)s' --adminurl 'http://129.127.10.133:8776/v1/$(tenant_id)s' --internalurl 'http://129.127.10.133:8776/v1/$(tenant_id)s'
2013-07-25 00:54:19 +-------------+---------------------------------------------+
2013-07-25 00:54:19 |   Property  |                    Value                    |
2013-07-25 00:54:19 +-------------+---------------------------------------------+
2013-07-25 00:54:19 |   adminurl  | http://129.127.10.133:8776/v1/$(tenant_id)s |
2013-07-25 00:54:19 |      id     |       72f0a6039aa4432b81a0c7db081960dc      |
2013-07-25 00:54:19 | internalurl | http://129.127.10.133:8776/v1/$(tenant_id)s |
2013-07-25 00:54:19 |  publicurl  | http://129.127.10.133:8776/v1/$(tenant_id)s |
2013-07-25 00:54:19 |    region   |                  RegionOne                  |
2013-07-25 00:54:19 |  service_id |       630abaebb83d483ca46d35ac88aa5eef      |
2013-07-25 00:54:19 +-------------+---------------------------------------------+
2013-07-25 00:54:19 + create_quantum_accounts
2013-07-25 00:54:19 ++ keystone tenant-list
2013-07-25 00:54:19 ++ awk '/ service / { print $2 }'
2013-07-25 00:54:19 + SERVICE_TENANT=f645d2fb7794486fbe8af9232bf99c3d
2013-07-25 00:54:19 ++ keystone role-list
2013-07-25 00:54:19 ++ awk '/ admin / { print $2 }'
2013-07-25 00:54:20 + ADMIN_ROLE=453eae8b63524e0591cb04ed2268c78c
2013-07-25 00:54:20 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q-svc ]]
2013-07-25 00:54:20 + ADMIN_PASSWORD=2061d55c35f999042112
2013-07-25 00:54:20 + SERVICE_TENANT_NAME=service
2013-07-25 00:54:20 + SERVICE_PASSWORD=b00cc1bf202ef80abbe0
2013-07-25 00:54:20 + SERVICE_TOKEN=d3b5be7c95e4c660c01a
2013-07-25 00:54:20 + SERVICE_ENDPOINT=http://129.127.10.133:35357/v2.0
2013-07-25 00:54:20 + SERVICE_HOST=129.127.10.133
2013-07-25 00:54:20 + S3_SERVICE_PORT=3333
2013-07-25 00:54:20 + KEYSTONE_CATALOG_BACKEND=sql
2013-07-25 00:54:20 + DEVSTACK_DIR=/home/stack/devstack
2013-07-25 00:54:20 + ENABLED_SERVICES=g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql
2013-07-25 00:54:20 + HEAT_API_CFN_PORT=
2013-07-25 00:54:20 + HEAT_API_PORT=
2013-07-25 00:54:20 + bash -x /home/stack/devstack/files/keystone_data.sh
2013-07-25 00:54:20 + ADMIN_PASSWORD=2061d55c35f999042112
2013-07-25 00:54:20 + SERVICE_PASSWORD=b00cc1bf202ef80abbe0
2013-07-25 00:54:20 + export SERVICE_TOKEN=d3b5be7c95e4c660c01a
2013-07-25 00:54:20 + SERVICE_TOKEN=d3b5be7c95e4c660c01a
2013-07-25 00:54:20 + export SERVICE_ENDPOINT=http://129.127.10.133:35357/v2.0
2013-07-25 00:54:20 + SERVICE_ENDPOINT=http://129.127.10.133:35357/v2.0
2013-07-25 00:54:20 + SERVICE_TENANT_NAME=service
2013-07-25 00:54:20 ++ keystone tenant-list
2013-07-25 00:54:20 ++ awk '/ service / { print $2 }'
2013-07-25 00:54:20 + SERVICE_TENANT=f645d2fb7794486fbe8af9232bf99c3d
2013-07-25 00:54:20 ++ keystone role-list
2013-07-25 00:54:20 ++ awk '/ admin / { print $2 }'
2013-07-25 00:54:20 + ADMIN_ROLE=453eae8b63524e0591cb04ed2268c78c
2013-07-25 00:54:20 ++ keystone role-list
2013-07-25 00:54:20 ++ awk '/ Member / { print $2 }'
2013-07-25 00:54:21 + MEMBER_ROLE=3a214992c4db4667989d1cd3ee4231d6
2013-07-25 00:54:21 ++ get_id keystone role-create --name=ResellerAdmin
2013-07-25 00:54:21 +++ keystone role-create --name=ResellerAdmin
2013-07-25 00:54:21 +++ awk '/ id / { print $4 }'
2013-07-25 00:54:21 ++ echo 0a1aa95e14e74103b5cbe657df64cb29
2013-07-25 00:54:21 + RESELLER_ROLE=0a1aa95e14e74103b5cbe657df64cb29
2013-07-25 00:54:21 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n-api ]]
2013-07-25 00:54:21 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ swift ]]
2013-07-25 00:54:21 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ heat ]]
2013-07-25 00:54:21 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ g-api ]]
2013-07-25 00:54:21 ++ get_id keystone user-create --name=glance --pass=b00cc1bf202ef80abbe0 --tenant_id f645d2fb7794486fbe8af9232bf99c3d --email=glance@example.com
2013-07-25 00:54:21 +++ keystone user-create --name=glance --pass=b00cc1bf202ef80abbe0 --tenant_id f645d2fb7794486fbe8af9232bf99c3d --email=glance@example.com
2013-07-25 00:54:21 +++ awk '/ id / { print $4 }'
2013-07-25 00:54:22 ++ echo 9e3a6826cc8f43dc8d0af415f768147d
2013-07-25 00:54:22 + GLANCE_USER=9e3a6826cc8f43dc8d0af415f768147d
2013-07-25 00:54:22 + keystone user-role-add --tenant_id f645d2fb7794486fbe8af9232bf99c3d --user_id 9e3a6826cc8f43dc8d0af415f768147d --role_id 453eae8b63524e0591cb04ed2268c78c
2013-07-25 00:54:22 + [[ sql = \s\q\l ]]
2013-07-25 00:54:22 ++ get_id keystone service-create --name=glance --type=image '--description=Glance Image Service'
2013-07-25 00:54:22 +++ awk '/ id / { print $4 }'
2013-07-25 00:54:22 +++ keystone service-create --name=glance --type=image '--description=Glance Image Service'
2013-07-25 00:54:23 ++ echo 633b77ccd9804794b486ddb1b19a0e7a
2013-07-25 00:54:23 + GLANCE_SERVICE=633b77ccd9804794b486ddb1b19a0e7a
2013-07-25 00:54:23 + keystone endpoint-create --region RegionOne --service_id 633b77ccd9804794b486ddb1b19a0e7a --publicurl http://129.127.10.133:9292 --adminurl http://129.127.10.133:9292 --internalurl http://129.127.10.133:9292
2013-07-25 00:54:23 +-------------+----------------------------------+
2013-07-25 00:54:23 |   Property  |              Value               |
2013-07-25 00:54:23 +-------------+----------------------------------+
2013-07-25 00:54:23 |   adminurl  |    http://129.127.10.133:9292    |
2013-07-25 00:54:23 |      id     | 131b318ce02041378e13519e89518ceb |
2013-07-25 00:54:23 | internalurl |    http://129.127.10.133:9292    |
2013-07-25 00:54:23 |  publicurl  |    http://129.127.10.133:9292    |
2013-07-25 00:54:23 |    region   |            RegionOne             |
2013-07-25 00:54:23 |  service_id | 633b77ccd9804794b486ddb1b19a0e7a |
2013-07-25 00:54:23 +-------------+----------------------------------+
2013-07-25 00:54:23 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ swift ]]
2013-07-25 00:54:23 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ ceilometer ]]
2013-07-25 00:54:23 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n-api ]]
2013-07-25 00:54:23 + [[ sql = \s\q\l ]]
2013-07-25 00:54:23 ++ get_id keystone service-create --name=ec2 --type=ec2 '--description=EC2 Compatibility Layer'
2013-07-25 00:54:23 +++ awk '/ id / { print $4 }'
2013-07-25 00:54:23 +++ keystone service-create --name=ec2 --type=ec2 '--description=EC2 Compatibility Layer'
2013-07-25 00:54:23 ++ echo 04fa48b5b7b44105b80f0bec07facf5d
2013-07-25 00:54:23 + EC2_SERVICE=04fa48b5b7b44105b80f0bec07facf5d
2013-07-25 00:54:23 + keystone endpoint-create --region RegionOne --service_id 04fa48b5b7b44105b80f0bec07facf5d --publicurl http://129.127.10.133:8773/services/Cloud --adminurl http://129.127.10.133:8773/services/Admin --internalurl http://129.127.10.133:8773/services/Cloud
2013-07-25 00:54:24 +-------------+-------------------------------------------+
2013-07-25 00:54:24 |   Property  |                   Value                   |
2013-07-25 00:54:24 +-------------+-------------------------------------------+
2013-07-25 00:54:24 |   adminurl  | http://129.127.10.133:8773/services/Admin |
2013-07-25 00:54:24 |      id     |      bb679c45e4804cf4aec0b282af66aacf     |
2013-07-25 00:54:24 | internalurl | http://129.127.10.133:8773/services/Cloud |
2013-07-25 00:54:24 |  publicurl  | http://129.127.10.133:8773/services/Cloud |
2013-07-25 00:54:24 |    region   |                 RegionOne                 |
2013-07-25 00:54:24 |  service_id |      04fa48b5b7b44105b80f0bec07facf5d     |
2013-07-25 00:54:24 +-------------+-------------------------------------------+
2013-07-25 00:54:24 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n-obj ]]
2013-07-25 00:54:24 + [[ sql = \s\q\l ]]
2013-07-25 00:54:24 ++ get_id keystone service-create --name=s3 --type=s3 --description=S3
2013-07-25 00:54:24 +++ awk '/ id / { print $4 }'
2013-07-25 00:54:24 +++ keystone service-create --name=s3 --type=s3 --description=S3
2013-07-25 00:54:24 ++ echo 2519eae77da844ec9d87e4dbf7cb5986
2013-07-25 00:54:24 + S3_SERVICE=2519eae77da844ec9d87e4dbf7cb5986
2013-07-25 00:54:24 + keystone endpoint-create --region RegionOne --service_id 2519eae77da844ec9d87e4dbf7cb5986 --publicurl http://129.127.10.133:3333 --adminurl http://129.127.10.133:3333 --internalurl http://129.127.10.133:3333
2013-07-25 00:54:25 +-------------+----------------------------------+
2013-07-25 00:54:25 |   Property  |              Value               |
2013-07-25 00:54:25 +-------------+----------------------------------+
2013-07-25 00:54:25 |   adminurl  |    http://129.127.10.133:3333    |
2013-07-25 00:54:25 |      id     | 3d9f71b6fec0415dbe34974962ad8221 |
2013-07-25 00:54:25 | internalurl |    http://129.127.10.133:3333    |
2013-07-25 00:54:25 |  publicurl  |    http://129.127.10.133:3333    |
2013-07-25 00:54:25 |    region   |            RegionOne             |
2013-07-25 00:54:25 |  service_id | 2519eae77da844ec9d87e4dbf7cb5986 |
2013-07-25 00:54:25 +-------------+----------------------------------+
2013-07-25 00:54:25 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ tempest ]]
2013-07-25 00:54:25 ++ get_id keystone tenant-create --name=alt_demo
2013-07-25 00:54:25 +++ keystone tenant-create --name=alt_demo
2013-07-25 00:54:25 +++ awk '/ id / { print $4 }'
2013-07-25 00:54:25 ++ echo e52c51bc719145e8a6d3d8e52df1d00d
2013-07-25 00:54:25 + ALT_DEMO_TENANT=e52c51bc719145e8a6d3d8e52df1d00d
2013-07-25 00:54:25 ++ get_id keystone user-create --name=alt_demo --pass=2061d55c35f999042112 --email=alt_demo@example.com
2013-07-25 00:54:25 +++ awk '/ id / { print $4 }'
2013-07-25 00:54:25 +++ keystone user-create --name=alt_demo --pass=2061d55c35f999042112 --email=alt_demo@example.com
2013-07-25 00:54:26 ++ echo 52535f8ec6454ebeae5b973eb99d8f0c
2013-07-25 00:54:26 + ALT_DEMO_USER=52535f8ec6454ebeae5b973eb99d8f0c
2013-07-25 00:54:26 + keystone user-role-add --tenant_id e52c51bc719145e8a6d3d8e52df1d00d --user_id 52535f8ec6454ebeae5b973eb99d8f0c --role_id 3a214992c4db4667989d1cd3ee4231d6
2013-07-25 00:54:26 + export OS_AUTH_URL=http://129.127.10.133:35357/v2.0
2013-07-25 00:54:26 + OS_AUTH_URL=http://129.127.10.133:35357/v2.0
2013-07-25 00:54:26 + export OS_TENANT_NAME=admin
2013-07-25 00:54:26 + OS_TENANT_NAME=admin
2013-07-25 00:54:26 + export OS_USERNAME=admin
2013-07-25 00:54:26 + OS_USERNAME=admin
2013-07-25 00:54:26 + export OS_PASSWORD=2061d55c35f999042112
2013-07-25 00:54:26 + OS_PASSWORD=2061d55c35f999042112
2013-07-25 00:54:26 + unset OS_SERVICE_TOKEN OS_SERVICE_ENDPOINT
2013-07-25 00:54:26 + is_service_enabled horizon
2013-07-25 00:54:26 + services=horizon
2013-07-25 00:54:26 + for service in '${services}'
2013-07-25 00:54:26 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,horizon, ]]
2013-07-25 00:54:26 + return 0
2013-07-25 00:54:26 + echo_summary 'Configuring and starting Horizon'
2013-07-25 00:54:26 + [[ -t 3 ]]
2013-07-25 00:54:26 + [[ True != \T\r\u\e ]]
2013-07-25 00:54:26 + echo -e Configuring and starting Horizon
2013-07-25 00:54:26 + init_horizon
2013-07-25 00:54:26 + rm -f /opt/stack/horizon/openstack_dashboard/local/dashboard_openstack.sqlite3
2013-07-25 00:54:26 Configuring and starting Horizon
2013-07-25 00:54:26 + local_settings=/opt/stack/horizon/openstack_dashboard/local/local_settings.py
2013-07-25 00:54:26 + cp /home/stack/devstack/files/horizon_settings.py /opt/stack/horizon/openstack_dashboard/local/local_settings.py
2013-07-25 00:54:26 + cd /opt/stack/horizon
2013-07-25 00:54:26 + python manage.py syncdb --noinput
2013-07-25 00:54:27 DEBUG:django.db.backends:(0.000) 
2013-07-25 00:54:27             SELECT name FROM sqlite_master
2013-07-25 00:54:27             WHERE type='table' AND NOT name='sqlite_sequence'
2013-07-25 00:54:27             ORDER BY name; args=()
2013-07-25 00:54:27 DEBUG:django.db.backends:(0.153) CREATE TABLE "django_content_type" (
2013-07-25 00:54:27     "id" integer NOT NULL PRIMARY KEY,
2013-07-25 00:54:27     "name" varchar(100) NOT NULL,
2013-07-25 00:54:27     "app_label" varchar(100) NOT NULL,
2013-07-25 00:54:27     "model" varchar(100) NOT NULL,
2013-07-25 00:54:27     UNIQUE ("app_label", "model")
2013-07-25 00:54:27 )
2013-07-25 00:54:27 ;; args=()
2013-07-25 00:54:27 DEBUG:django.db.backends:(0.176) CREATE TABLE "auth_permission" (
2013-07-25 00:54:27     "id" integer NOT NULL PRIMARY KEY,
2013-07-25 00:54:27     "name" varchar(50) NOT NULL,
2013-07-25 00:54:27     "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id"),
2013-07-25 00:54:27     "codename" varchar(100) NOT NULL,
2013-07-25 00:54:27     UNIQUE ("content_type_id", "codename")
2013-07-25 00:54:27 )
2013-07-25 00:54:27 ;; args=()
2013-07-25 00:54:27 DEBUG:django.db.backends:(0.309) CREATE TABLE "auth_group_permissions" (
2013-07-25 00:54:27     "id" integer NOT NULL PRIMARY KEY,
2013-07-25 00:54:27     "group_id" integer NOT NULL,
2013-07-25 00:54:27     "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id"),
2013-07-25 00:54:27     UNIQUE ("group_id", "permission_id")
2013-07-25 00:54:27 )
2013-07-25 00:54:27 ;; args=()
2013-07-25 00:54:27 DEBUG:django.db.backends:(0.126) CREATE TABLE "auth_group" (
2013-07-25 00:54:27     "id" integer NOT NULL PRIMARY KEY,
2013-07-25 00:54:27     "name" varchar(80) NOT NULL UNIQUE
2013-07-25 00:54:27 )
2013-07-25 00:54:27 ;; args=()
2013-07-25 00:54:27 DEBUG:django.db.backends:(0.142) CREATE TABLE "auth_user_user_permissions" (
2013-07-25 00:54:27     "id" integer NOT NULL PRIMARY KEY,
2013-07-25 00:54:27     "user_id" integer NOT NULL,
2013-07-25 00:54:27     "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id"),
2013-07-25 00:54:27     UNIQUE ("user_id", "permission_id")
2013-07-25 00:54:27 )
2013-07-25 00:54:27 ;; args=()
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.143) CREATE TABLE "auth_user_groups" (
2013-07-25 00:54:28     "id" integer NOT NULL PRIMARY KEY,
2013-07-25 00:54:28     "user_id" integer NOT NULL,
2013-07-25 00:54:28     "group_id" integer NOT NULL REFERENCES "auth_group" ("id"),
2013-07-25 00:54:28     UNIQUE ("user_id", "group_id")
2013-07-25 00:54:28 )
2013-07-25 00:54:28 ;; args=()
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.151) CREATE TABLE "auth_user" (
2013-07-25 00:54:28     "id" integer NOT NULL PRIMARY KEY,
2013-07-25 00:54:28     "username" varchar(30) NOT NULL UNIQUE,
2013-07-25 00:54:28     "first_name" varchar(30) NOT NULL,
2013-07-25 00:54:28     "last_name" varchar(30) NOT NULL,
2013-07-25 00:54:28     "email" varchar(75) NOT NULL,
2013-07-25 00:54:28     "password" varchar(128) NOT NULL,
2013-07-25 00:54:28     "is_staff" bool NOT NULL,
2013-07-25 00:54:28     "is_active" bool NOT NULL,
2013-07-25 00:54:28     "is_superuser" bool NOT NULL,
2013-07-25 00:54:28     "last_login" datetime NOT NULL,
2013-07-25 00:54:28     "date_joined" datetime NOT NULL
2013-07-25 00:54:28 )
2013-07-25 00:54:28 ;; args=()
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.159) CREATE TABLE "django_session" (
2013-07-25 00:54:28     "session_key" varchar(40) NOT NULL PRIMARY KEY,
2013-07-25 00:54:28     "session_data" text NOT NULL,
2013-07-25 00:54:28     "expire_date" datetime NOT NULL
2013-07-25 00:54:28 )
2013-07-25 00:54:28 ;; args=()
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) SELECT "django_content_type"."id", "django_content_type"."name", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = contenttypes  ORDER BY "django_content_type"."name" ASC; args=('contenttypes',)
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) INSERT INTO "django_content_type" ("name", "app_label", "model") SELECT content type AS "name", contenttypes AS "app_label", contenttype AS "model"; args=(u'content type', 'contenttypes', 'contenttype')
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) SELECT "django_content_type"."id", "django_content_type"."name", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."model" = contenttype  AND "django_content_type"."app_label" = contenttypes ); args=('contenttype', 'contenttypes')
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (1) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(1,)
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) INSERT INTO "auth_permission" ("name", "content_type_id", "codename") SELECT Can add content type AS "name", 1 AS "content_type_id", add_contenttype AS "codename" UNION ALL SELECT Can change content type, 1, change_contenttype UNION ALL SELECT Can delete content type, 1, delete_contenttype; args=(u'Can add content type', 1, u'add_contenttype', u'Can change content type', 1, u'change_contenttype', u'Can delete content type', 1, u'delete_contenttype')
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) SELECT "django_content_type"."id", "django_content_type"."name", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = auth  ORDER BY "django_content_type"."name" ASC; args=('auth',)
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) INSERT INTO "django_content_type" ("name", "app_label", "model") SELECT group AS "name", auth AS "app_label", group AS "model" UNION ALL SELECT user, auth, user UNION ALL SELECT permission, auth, permission; args=(u'group', 'auth', 'group', u'user', 'auth', 'user', u'permission', 'auth', 'permission')
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) SELECT "django_content_type"."id", "django_content_type"."name", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."model" = permission  AND "django_content_type"."app_label" = auth ); args=('permission', 'auth')
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) SELECT "django_content_type"."id", "django_content_type"."name", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."model" = group  AND "django_content_type"."app_label" = auth ); args=('group', 'auth')
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) SELECT "django_content_type"."id", "django_content_type"."name", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."model" = user  AND "django_content_type"."app_label" = auth ); args=('user', 'auth')
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (2, 3, 4) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(2, 3, 4)
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) INSERT INTO "auth_permission" ("name", "content_type_id", "codename") SELECT Can add permission AS "name", 4 AS "content_type_id", add_permission AS "codename" UNION ALL SELECT Can change permission, 4, change_permission UNION ALL SELECT Can delete permission, 4, delete_permission UNION ALL SELECT Can add group, 2, add_group UNION ALL SELECT Can change group, 2, change_group UNION ALL SELECT Can delete group, 2, delete_group UNION ALL SELECT Can add user, 3, add_user UNION ALL SELECT Can change user, 3, change_user UNION ALL SELECT Can delete user, 3, delete_user; args=(u'Can add permission', 4, u'add_permission', u'Can change permission', 4, u'change_permission', u'Can delete permission', 4, u'delete_permission', u'Can add group', 2, u'add_group', u'Can change group', 2, u'change_group', u'Can delete group', 2, u'delete_group', u'Can add user', 3, u'add_user', u'Can change user', 3, u'change_user', u'Can delete user', 3, u'delete_user')
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) SELECT "django_content_type"."id", "django_content_type"."name", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = sessions  ORDER BY "django_content_type"."name" ASC; args=('sessions',)
2013-07-25 00:54:28 DEBUG:django.db.backends:(0.000) INSERT INTO "django_content_type" ("name", "app_label", "model") SELECT session AS "name", sessions AS "app_label", session AS "model"; args=(u'session', 'sessions', 'session')
2013-07-25 00:54:29 DEBUG:django.db.backends:(0.000) SELECT "django_content_type"."id", "django_content_type"."name", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."model" = session  AND "django_content_type"."app_label" = sessions ); args=('session', 'sessions')
2013-07-25 00:54:29 DEBUG:django.db.backends:(0.000) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (5) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(5,)
2013-07-25 00:54:29 DEBUG:django.db.backends:(0.000) INSERT INTO "auth_permission" ("name", "content_type_id", "codename") SELECT Can add session AS "name", 5 AS "content_type_id", add_session AS "codename" UNION ALL SELECT Can change session, 5, change_session UNION ALL SELECT Can delete session, 5, delete_session; args=(u'Can add session', 5, u'add_session', u'Can change session', 5, u'change_session', u'Can delete session', 5, u'delete_session')
2013-07-25 00:54:29 DEBUG:django.db.backends:(0.114) CREATE INDEX "auth_permission_1bb8f392" ON "auth_permission" ("content_type_id");; args=()
2013-07-25 00:54:29 DEBUG:django.db.backends:(0.142) CREATE INDEX "auth_group_permissions_425ae3c4" ON "auth_group_permissions" ("group_id");; args=()
2013-07-25 00:54:29 DEBUG:django.db.backends:(0.126) CREATE INDEX "auth_group_permissions_1e014c8f" ON "auth_group_permissions" ("permission_id");; args=()
2013-07-25 00:54:29 DEBUG:django.db.backends:(0.126) CREATE INDEX "auth_user_user_permissions_403f60f" ON "auth_user_user_permissions" ("user_id");; args=()
2013-07-25 00:54:29 DEBUG:django.db.backends:(0.134) CREATE INDEX "auth_user_user_permissions_1e014c8f" ON "auth_user_user_permissions" ("permission_id");; args=()
2013-07-25 00:54:29 DEBUG:django.db.backends:(0.117) CREATE INDEX "auth_user_groups_403f60f" ON "auth_user_groups" ("user_id");; args=()
2013-07-25 00:54:30 DEBUG:django.db.backends:(0.127) CREATE INDEX "auth_user_groups_425ae3c4" ON "auth_user_groups" ("group_id");; args=()
2013-07-25 00:54:30 DEBUG:django.db.backends:(0.126) CREATE INDEX "django_session_3da3d3d8" ON "django_session" ("expire_date");; args=()
2013-07-25 00:54:30 Creating tables ...
2013-07-25 00:54:30 Creating table django_content_type
2013-07-25 00:54:30 Creating table auth_permission
2013-07-25 00:54:30 Creating table auth_group_permissions
2013-07-25 00:54:30 Creating table auth_group
2013-07-25 00:54:30 Creating table auth_user_user_permissions
2013-07-25 00:54:30 Creating table auth_user_groups
2013-07-25 00:54:30 Creating table auth_user
2013-07-25 00:54:30 Creating table django_session
2013-07-25 00:54:30 Installing custom SQL ...
2013-07-25 00:54:30 Installing indexes ...
2013-07-25 00:54:30 Installed 0 object(s) from 0 fixture(s)
2013-07-25 00:54:30 + cd /home/stack/devstack
2013-07-25 00:54:30 + sudo mkdir -p /opt/stack/horizon/.blackhole
2013-07-25 00:54:30 + is_ubuntu
2013-07-25 00:54:30 + [[ -z deb ]]
2013-07-25 00:54:30 + '[' deb = deb ']'
2013-07-25 00:54:30 + APACHE_NAME=apache2
2013-07-25 00:54:30 + APACHE_CONF=sites-available/horizon
2013-07-25 00:54:30 + sudo rm -f /etc/apache2/sites-enabled/000-default
2013-07-25 00:54:30 + sudo touch /etc/apache2/sites-available/horizon
2013-07-25 00:54:30 + sudo a2ensite horizon
2013-07-25 00:54:30 Site horizon already enabled
2013-07-25 00:54:30 + sudo a2enmod wsgi
2013-07-25 00:54:30 Module wsgi already enabled
2013-07-25 00:54:30 + sudo sh -c 'sed -e "
2013-07-25 00:54:30         s,%USER%,stack,g;
2013-07-25 00:54:30         s,%GROUP%,stack,g;
2013-07-25 00:54:30         s,%HORIZON_DIR%,/opt/stack/horizon,g;
2013-07-25 00:54:30         s,%APACHE_NAME%,apache2,g;
2013-07-25 00:54:30         s,%DEST%,/opt/stack,g;
2013-07-25 00:54:30     " /home/stack/devstack/files/apache-horizon.template >/etc/apache2/sites-available/horizon'
2013-07-25 00:54:30 + start_horizon
2013-07-25 00:54:30 + restart_service apache2
2013-07-25 00:54:30 + is_ubuntu
2013-07-25 00:54:30 + [[ -z deb ]]
2013-07-25 00:54:30 + '[' deb = deb ']'
2013-07-25 00:54:30 + sudo /usr/sbin/service apache2 restart
2013-07-25 00:54:30  * Restarting web server apache2
2013-07-25 00:54:30    ...done.
2013-07-25 00:54:30 + screen_it horizon 'cd /opt/stack/horizon && sudo tail -f /var/log/apache2/horizon_error.log'
2013-07-25 00:54:30 + SCREEN_NAME=stack
2013-07-25 00:54:30 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:54:30 ++ trueorfalse True True
2013-07-25 00:54:30 ++ local default=True
2013-07-25 00:54:30 ++ local testval=True
2013-07-25 00:54:30 ++ [[ -z True ]]
2013-07-25 00:54:30 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:54:30 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:54:30 ++ echo True
2013-07-25 00:54:30 ++ return
2013-07-25 00:54:30 + SCREEN_DEV=True
2013-07-25 00:54:30 + is_service_enabled horizon
2013-07-25 00:54:30 + services=horizon
2013-07-25 00:54:30 + for service in '${services}'
2013-07-25 00:54:30 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,horizon, ]]
2013-07-25 00:54:30 + return 0
2013-07-25 00:54:30 + screen_rc horizon 'cd /opt/stack/horizon && sudo tail -f /var/log/apache2/horizon_error.log'
2013-07-25 00:54:30 + SCREEN_NAME=stack
2013-07-25 00:54:30 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:54:30 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:54:30 + grep horizon /home/stack/devstack/stack-screenrc
2013-07-25 00:54:30 ++ echo -ne '\015'
2013-07-25 00:54:30 + NL=$'\r'
2013-07-25 00:54:30 + echo 'screen -t horizon bash'
2013-07-25 00:54:30 + echo 'stuff "cd /opt/stack/horizon && sudo tail -f /var/log/apache2/horizon_error.log"'
2013-07-25 00:54:30 + screen -S stack -X screen -t horizon
2013-07-25 00:54:30 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:54:30 + screen -S stack -p horizon -X logfile /home/stack/devstack/log/screen-horizon.2013-07-25-005335.log
2013-07-25 00:54:30 + screen -S stack -p horizon -X log on
2013-07-25 00:54:30 + ln -sf /home/stack/devstack/log/screen-horizon.2013-07-25-005335.log /home/stack/devstack/log/screen-horizon.log
2013-07-25 00:54:30 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:54:30 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:54:30 + echo /home/stack/devstack/log
2013-07-25 00:54:30 /home/stack/devstack/log
2013-07-25 00:54:30 + [[ True = \T\r\u\e ]]
2013-07-25 00:54:30 + sleep 1.5
2013-07-25 00:54:32 ++ echo -ne '\015'
2013-07-25 00:54:32 + NL=$'\r'
2013-07-25 00:54:32 + screen -S stack -p horizon -X stuff 'cd /opt/stack/horizon && sudo tail -f /var/log/apache2/horizon_error.log || touch "/opt/stack/status/stack/horizon.failure"'
2013-07-25 00:54:32 + echo 'Getting out screen_it function. '
2013-07-25 00:54:32 Getting out screen_it function. 
2013-07-25 00:54:32 + is_service_enabled g-reg
2013-07-25 00:54:32 + services=g-reg
2013-07-25 00:54:32 + for service in '${services}'
2013-07-25 00:54:32 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-reg, ]]
2013-07-25 00:54:32 + return 0
2013-07-25 00:54:32 + echo_summary 'Configuring Glance'
2013-07-25 00:54:32 + [[ -t 3 ]]
2013-07-25 00:54:32 + [[ True != \T\r\u\e ]]
2013-07-25 00:54:32 + echo -e Configuring Glance
2013-07-25 00:54:32 Configuring Glance
2013-07-25 00:54:32 + init_glance
2013-07-25 00:54:32 + rm -rf /opt/stack/data/glance/images
2013-07-25 00:54:32 + mkdir -p /opt/stack/data/glance/images
2013-07-25 00:54:32 + rm -rf /opt/stack/data/glance/cache
2013-07-25 00:54:32 + mkdir -p /opt/stack/data/glance/cache
2013-07-25 00:54:32 + recreate_database glance utf8
2013-07-25 00:54:32 + local db=glance
2013-07-25 00:54:32 + local charset=utf8
2013-07-25 00:54:32 + recreate_database_mysql glance utf8
2013-07-25 00:54:32 + local db=glance
2013-07-25 00:54:32 + local charset=utf8
2013-07-25 00:54:32 + mysql -uroot -pf37ccdd1ded5c0dd33c9 -e 'DROP DATABASE IF EXISTS glance;'
2013-07-25 00:54:32 + mysql -uroot -pf37ccdd1ded5c0dd33c9 -e 'CREATE DATABASE glance CHARACTER SET utf8;'
2013-07-25 00:54:32 + /opt/stack/glance/bin/glance-manage db_sync
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.util] Constructing engine
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.repository] Loading repository /opt/stack/glance/glance/db/sqlalchemy/migrate_repo...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/001_add_images_table.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/001_add_images_table.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/002_add_image_properties_table.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/002_add_image_properties_table.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_upgrade.sql...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_upgrade.sql loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_downgrade.sql...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_add_disk_format.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_add_disk_format.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/004_add_checksum.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/004_add_checksum.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/005_size_big_integer.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/005_size_big_integer.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_upgrade.sql...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_upgrade.sql loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_upgrade.sql...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_upgrade.sql loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_downgrade.sql...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_downgrade.sql loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_key_to_name.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_key_to_name.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_downgrade.sql...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/007_add_owner.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/007_add_owner.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/008_add_image_members_table.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/008_add_image_members_table.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/009_add_mindisk_and_minram.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/009_add_mindisk_and_minram.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/010_default_update_at.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/010_default_update_at.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_upgrade.sql...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_upgrade.sql loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_make_mindisk_and_minram_notnull.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_make_mindisk_and_minram_notnull.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_downgrade.sql...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/012_id_to_uuid.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/012_id_to_uuid.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_sqlite_downgrade.sql...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_add_protected.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_add_protected.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/014_add_image_tags_table.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/014_add_image_tags_table.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/015_quote_swift_credentials.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/015_quote_swift_credentials.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_sqlite_downgrade.sql...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_add_status_image_member.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_add_status_image_member.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/018_add_image_locations_table.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/018_add_image_locations_table.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/019_migrate_image_locations.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/019_migrate_image_locations.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/020_drop_images_table_location.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/020_drop_images_table_location.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/021_set_engine_mysql_innodb.py...
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/021_set_engine_mysql_innodb.py loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.repository] Repository /opt/stack/glance/glance/db/sqlalchemy/migrate_repo loaded successfully
2013-07-25 00:54:32 2013-07-25 00:54:32    DEBUG [migrate.versioning.repository] Config: OrderedDict([('db_settings', OrderedDict([('__name__', 'db_settings'), ('repository_id', 'Glance Migrations'), ('version_table', 'migrate_version'), ('required_dbs', '[]')]))])
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.util] Disposing SQLAlchemy engine Engine(mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8)
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.util] Constructing engine
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.repository] Loading repository /opt/stack/glance/glance/db/sqlalchemy/migrate_repo...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/001_add_images_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/001_add_images_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/002_add_image_properties_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/002_add_image_properties_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_upgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_upgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_add_disk_format.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_add_disk_format.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/004_add_checksum.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/004_add_checksum.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/005_size_big_integer.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/005_size_big_integer.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_upgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_upgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_upgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_upgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_key_to_name.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_key_to_name.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/007_add_owner.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/007_add_owner.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/008_add_image_members_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/008_add_image_members_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/009_add_mindisk_and_minram.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/009_add_mindisk_and_minram.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/010_default_update_at.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/010_default_update_at.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_upgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_upgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_make_mindisk_and_minram_notnull.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_make_mindisk_and_minram_notnull.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/012_id_to_uuid.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/012_id_to_uuid.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_add_protected.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_add_protected.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/014_add_image_tags_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/014_add_image_tags_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/015_quote_swift_credentials.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/015_quote_swift_credentials.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_add_status_image_member.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_add_status_image_member.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/018_add_image_locations_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/018_add_image_locations_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/019_migrate_image_locations.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/019_migrate_image_locations.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/020_drop_images_table_location.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/020_drop_images_table_location.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/021_set_engine_mysql_innodb.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/021_set_engine_mysql_innodb.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.repository] Repository /opt/stack/glance/glance/db/sqlalchemy/migrate_repo loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.repository] Config: OrderedDict([('db_settings', OrderedDict([('__name__', 'db_settings'), ('repository_id', 'Glance Migrations'), ('version_table', 'migrate_version'), ('required_dbs', '[]')]))])
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.util] Disposing SQLAlchemy engine Engine(mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8)
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.util] Constructing engine
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.repository] Loading repository /opt/stack/glance/glance/db/sqlalchemy/migrate_repo...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/001_add_images_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/001_add_images_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/002_add_image_properties_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/002_add_image_properties_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_upgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_upgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_add_disk_format.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_add_disk_format.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/004_add_checksum.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/004_add_checksum.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/005_size_big_integer.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/005_size_big_integer.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_upgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_upgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_upgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_upgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_key_to_name.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_key_to_name.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/007_add_owner.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/007_add_owner.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/008_add_image_members_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/008_add_image_members_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/009_add_mindisk_and_minram.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/009_add_mindisk_and_minram.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/010_default_update_at.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/010_default_update_at.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_upgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_upgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_make_mindisk_and_minram_notnull.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_make_mindisk_and_minram_notnull.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/012_id_to_uuid.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/012_id_to_uuid.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_add_protected.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_add_protected.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/014_add_image_tags_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/014_add_image_tags_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/015_quote_swift_credentials.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/015_quote_swift_credentials.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_add_status_image_member.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_add_status_image_member.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/018_add_image_locations_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/018_add_image_locations_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/019_migrate_image_locations.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/019_migrate_image_locations.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/020_drop_images_table_location.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/020_drop_images_table_location.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/021_set_engine_mysql_innodb.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/021_set_engine_mysql_innodb.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.repository] Repository /opt/stack/glance/glance/db/sqlalchemy/migrate_repo loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.repository] Config: OrderedDict([('db_settings', OrderedDict([('__name__', 'db_settings'), ('repository_id', 'Glance Migrations'), ('version_table', 'migrate_version'), ('required_dbs', '[]')]))])
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.util] Disposing SQLAlchemy engine Engine(mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8)
2013-07-25 00:54:33 2013-07-25 00:54:33     INFO [glance.db.sqlalchemy.migration] Upgrading mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8 to version latest
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.util] Constructing engine
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.repository] Loading repository /opt/stack/glance/glance/db/sqlalchemy/migrate_repo...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/001_add_images_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/001_add_images_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/002_add_image_properties_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/002_add_image_properties_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_upgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_upgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_add_disk_format.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/003_add_disk_format.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/004_add_checksum.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/004_add_checksum.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/005_size_big_integer.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/005_size_big_integer.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_upgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_upgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_upgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_upgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_mysql_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_key_to_name.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_key_to_name.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/006_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/007_add_owner.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/007_add_owner.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/008_add_image_members_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/008_add_image_members_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/009_add_mindisk_and_minram.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/009_add_mindisk_and_minram.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/010_default_update_at.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/010_default_update_at.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_upgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_upgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_make_mindisk_and_minram_notnull.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_make_mindisk_and_minram_notnull.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/011_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/012_id_to_uuid.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/012_id_to_uuid.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_add_protected.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/013_add_protected.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/014_add_image_tags_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/014_add_image_tags_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/015_quote_swift_credentials.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/015_quote_swift_credentials.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_sqlite_downgrade.sql...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_sqlite_downgrade.sql loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_add_status_image_member.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/016_add_status_image_member.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/018_add_image_locations_table.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/018_add_image_locations_table.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/019_migrate_image_locations.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/019_migrate_image_locations.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/020_drop_images_table_location.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/020_drop_images_table_location.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/021_set_engine_mysql_innodb.py...
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.script.base] Script /opt/stack/glance/glance/db/sqlalchemy/migrate_repo/versions/021_set_engine_mysql_innodb.py loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.repository] Repository /opt/stack/glance/glance/db/sqlalchemy/migrate_repo loaded successfully
2013-07-25 00:54:33 2013-07-25 00:54:33    DEBUG [migrate.versioning.repository] Config: OrderedDict([('db_settings', OrderedDict([('__name__', 'db_settings'), ('repository_id', 'Glance Migrations'), ('version_table', 'migrate_version'), ('required_dbs', '[]')]))])
2013-07-25 00:54:33 2013-07-25 00:54:33     INFO [migrate.versioning.api] 0 -> 1... 
2013-07-25 00:54:33 2013-07-25 00:54:33     INFO [glance.db.sqlalchemy.migrate_repo.schema] creating table images
2013-07-25 00:54:33 2013-07-25 00:54:33     INFO [migrate.versioning.api] done
2013-07-25 00:54:33 2013-07-25 00:54:33     INFO [migrate.versioning.api] 1 -> 2... 
2013-07-25 00:54:33 2013-07-25 00:54:33     INFO [glance.db.sqlalchemy.migrate_repo.schema] creating table image_properties
2013-07-25 00:54:34 2013-07-25 00:54:34     INFO [migrate.versioning.api] done
2013-07-25 00:54:34 2013-07-25 00:54:34     INFO [migrate.versioning.api] 2 -> 3... 
2013-07-25 00:54:34 2013-07-25 00:54:34     INFO [migrate.versioning.api] done
2013-07-25 00:54:34 2013-07-25 00:54:34     INFO [migrate.versioning.api] 3 -> 4... 
2013-07-25 00:54:35 2013-07-25 00:54:35     INFO [migrate.versioning.api] done
2013-07-25 00:54:35 2013-07-25 00:54:35     INFO [migrate.versioning.api] 4 -> 5... 
2013-07-25 00:54:35 2013-07-25 00:54:35     INFO [migrate.versioning.api] done
2013-07-25 00:54:35 2013-07-25 00:54:35     INFO [migrate.versioning.api] 5 -> 6... 
2013-07-25 00:54:35 2013-07-25 00:54:35     INFO [migrate.versioning.api] done
2013-07-25 00:54:35 2013-07-25 00:54:35     INFO [migrate.versioning.api] 6 -> 7... 
2013-07-25 00:54:36 2013-07-25 00:54:36     INFO [migrate.versioning.api] done
2013-07-25 00:54:36 2013-07-25 00:54:36     INFO [migrate.versioning.api] 7 -> 8... 
2013-07-25 00:54:36 2013-07-25 00:54:36     INFO [glance.db.sqlalchemy.migrate_repo.schema] creating table image_members
2013-07-25 00:54:36 2013-07-25 00:54:36     INFO [migrate.versioning.api] done
2013-07-25 00:54:36 2013-07-25 00:54:36     INFO [migrate.versioning.api] 8 -> 9... 
2013-07-25 00:54:37 2013-07-25 00:54:37     INFO [migrate.versioning.api] done
2013-07-25 00:54:37 2013-07-25 00:54:37     INFO [migrate.versioning.api] 9 -> 10... 
2013-07-25 00:54:37 2013-07-25 00:54:37     INFO [migrate.versioning.api] done
2013-07-25 00:54:37 2013-07-25 00:54:37     INFO [migrate.versioning.api] 10 -> 11... 
2013-07-25 00:54:37 2013-07-25 00:54:37     INFO [migrate.versioning.api] done
2013-07-25 00:54:37 2013-07-25 00:54:37     INFO [migrate.versioning.api] 11 -> 12... 
2013-07-25 00:54:39 2013-07-25 00:54:39     INFO [migrate.versioning.api] done
2013-07-25 00:54:39 2013-07-25 00:54:39     INFO [migrate.versioning.api] 12 -> 13... 
2013-07-25 00:54:39 2013-07-25 00:54:39     INFO [migrate.versioning.api] done
2013-07-25 00:54:39 2013-07-25 00:54:39     INFO [migrate.versioning.api] 13 -> 14... 
2013-07-25 00:54:39 2013-07-25 00:54:39     INFO [glance.db.sqlalchemy.migrate_repo.schema] creating table image_tags
2013-07-25 00:54:40 2013-07-25 00:54:40     INFO [migrate.versioning.api] done
2013-07-25 00:54:40 2013-07-25 00:54:40     INFO [migrate.versioning.api] 14 -> 15... 
2013-07-25 00:54:40 2013-07-25 00:54:40     INFO [migrate.versioning.api] done
2013-07-25 00:54:40 2013-07-25 00:54:40     INFO [migrate.versioning.api] 15 -> 16... 
2013-07-25 00:54:40 2013-07-25 00:54:40     INFO [migrate.versioning.api] done
2013-07-25 00:54:40 2013-07-25 00:54:40     INFO [migrate.versioning.api] 16 -> 17... 
2013-07-25 00:54:40 2013-07-25 00:54:40     INFO [017_quote_encrypted_swift_credentials] 'metadata_encryption_key' was not specified in the config file or a config file was not specified. This means that this migration is a NOOP.
2013-07-25 00:54:40 2013-07-25 00:54:40     INFO [migrate.versioning.api] done
2013-07-25 00:54:40 2013-07-25 00:54:40     INFO [migrate.versioning.api] 17 -> 18... 
2013-07-25 00:54:40 2013-07-25 00:54:40     INFO [glance.db.sqlalchemy.migrate_repo.schema] creating table image_locations
2013-07-25 00:54:41 2013-07-25 00:54:41     INFO [migrate.versioning.api] done
2013-07-25 00:54:41 2013-07-25 00:54:41     INFO [migrate.versioning.api] 18 -> 19... 
2013-07-25 00:54:41 2013-07-25 00:54:41     INFO [migrate.versioning.api] done
2013-07-25 00:54:41 2013-07-25 00:54:41     INFO [migrate.versioning.api] 19 -> 20... 
2013-07-25 00:54:41 2013-07-25 00:54:41     INFO [migrate.versioning.api] done
2013-07-25 00:54:41 2013-07-25 00:54:41     INFO [migrate.versioning.api] 20 -> 21... 
2013-07-25 00:54:41 2013-07-25 00:54:41     INFO [migrate.versioning.api] done
2013-07-25 00:54:41 2013-07-25 00:54:41    DEBUG [migrate.versioning.util] Disposing SQLAlchemy engine Engine(mysql://root:f37ccdd1ded5c0dd33c9@localhost/glance?charset=utf8)
2013-07-25 00:54:41 + create_glance_cache_dir
2013-07-25 00:54:41 + sudo mkdir -p /var/cache/glance/api
2013-07-25 00:54:41 + sudo chown stack /var/cache/glance/api
2013-07-25 00:54:41 + rm -f /var/cache/glance/api/cacert.pem /var/cache/glance/api/revoked.pem /var/cache/glance/api/signing_cert.pem
2013-07-25 00:54:41 + sudo mkdir -p /var/cache/glance/registry
2013-07-25 00:54:41 + sudo chown stack /var/cache/glance/registry
2013-07-25 00:54:41 + rm -f /var/cache/glance/registry/cacert.pem /var/cache/glance/registry/revoked.pem /var/cache/glance/registry/signing_cert.pem
2013-07-25 00:54:41 + is_service_enabled swift
2013-07-25 00:54:41 + services=swift
2013-07-25 00:54:41 + for service in '${services}'
2013-07-25 00:54:41 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,swift, ]]
2013-07-25 00:54:41 + [[ swift == \n\o\v\a ]]
2013-07-25 00:54:41 + [[ swift == \c\i\n\d\e\r ]]
2013-07-25 00:54:41 + [[ swift == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:54:41 + [[ swift == \g\l\a\n\c\e ]]
2013-07-25 00:54:41 + [[ swift == \q\u\a\n\t\u\m ]]
2013-07-25 00:54:41 + return 1
2013-07-25 00:54:41 + is_service_enabled quantum
2013-07-25 00:54:41 + services=quantum
2013-07-25 00:54:41 + for service in '${services}'
2013-07-25 00:54:41 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-25 00:54:41 + [[ quantum == \n\o\v\a ]]
2013-07-25 00:54:41 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-25 00:54:41 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:54:41 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-25 00:54:41 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-25 00:54:41 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-25 00:54:41 + return 1
2013-07-25 00:54:41 + is_service_enabled quantum
2013-07-25 00:54:41 + services=quantum
2013-07-25 00:54:41 + for service in '${services}'
2013-07-25 00:54:41 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-25 00:54:41 + [[ quantum == \n\o\v\a ]]
2013-07-25 00:54:41 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-25 00:54:41 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:54:41 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-25 00:54:41 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-25 00:54:41 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-25 00:54:41 + return 1
2013-07-25 00:54:41 + is_service_enabled nova
2013-07-25 00:54:41 + services=nova
2013-07-25 00:54:41 + for service in '${services}'
2013-07-25 00:54:41 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-25 00:54:41 + [[ nova == \n\o\v\a ]]
2013-07-25 00:54:41 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-25 00:54:41 + return 0
2013-07-25 00:54:41 + echo_summary 'Configuring Nova'
2013-07-25 00:54:41 + [[ -t 3 ]]
2013-07-25 00:54:41 + [[ True != \T\r\u\e ]]
2013-07-25 00:54:41 + echo -e Configuring Nova
2013-07-25 00:54:41 + configure_nova
2013-07-25 00:54:41 + setup_develop /opt/stack/nova
2013-07-25 00:54:41 + [[ False = True ]]
2013-07-25 00:54:41 Configuring Nova
2013-07-25 00:54:41 + SUDO_CMD=sudo
2013-07-25 00:54:41 + cd /opt/stack/nova
2013-07-25 00:54:41 + python setup.py egg_info
2013-07-25 00:54:42 running egg_info
2013-07-25 00:54:42 writing requirements to nova.egg-info/requires.txt
2013-07-25 00:54:42 writing nova.egg-info/PKG-INFO
2013-07-25 00:54:42 writing top-level names to nova.egg-info/top_level.txt
2013-07-25 00:54:42 writing dependency_links to nova.egg-info/dependency_links.txt
2013-07-25 00:54:42 reading manifest template 'MANIFEST.in'
2013-07-25 00:54:42 warning: no files found matching 'AUTHORS'
2013-07-25 00:54:42 warning: no files found matching 'ChangeLog'
2013-07-25 00:54:42 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-25 00:54:42 writing manifest file 'nova.egg-info/SOURCES.txt'
2013-07-25 00:54:42 ++ awk '/^.+/ {print "-f " $1}' nova.egg-info/dependency_links.txt
2013-07-25 00:54:42 + raw_links='-f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config'
2013-07-25 00:54:42 ++ xargs
2013-07-25 00:54:42 ++ echo -f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config
2013-07-25 00:54:42 + depend_links='-f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config'
2013-07-25 00:54:42 ++ '[' '!' -r nova.egg-info/requires.txt ']'
2013-07-25 00:54:42 ++ echo '-r *-info/requires.txt'
2013-07-25 00:54:42 + require_file='-r *-info/requires.txt'
2013-07-25 00:54:42 + pip_install -r nova.egg-info/requires.txt -f http://tarballs.openstack.org/oslo-config/oslo-config-2013.1b4.tar.gz#egg=oslo-config
2013-07-25 00:54:42 + [[ True = \T\r\u\e ]]
2013-07-25 00:54:42 + return
2013-07-25 00:54:42 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-25 00:54:43 running develop
2013-07-25 00:54:43 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-25 00:54:43 /usr/bin/python -E -c pass
2013-07-25 00:54:43 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-25 00:54:43 running egg_info
2013-07-25 00:54:43 writing requirements to nova.egg-info/requires.txt
2013-07-25 00:54:43 writing nova.egg-info/PKG-INFO
2013-07-25 00:54:43 writing top-level names to nova.egg-info/top_level.txt
2013-07-25 00:54:43 writing dependency_links to nova.egg-info/dependency_links.txt
2013-07-25 00:54:43 reading manifest template 'MANIFEST.in'
2013-07-25 00:54:43 warning: no files found matching 'AUTHORS'
2013-07-25 00:54:43 warning: no files found matching 'ChangeLog'
2013-07-25 00:54:43 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-25 00:54:43 writing manifest file 'nova.egg-info/SOURCES.txt'
2013-07-25 00:54:43 running build_ext
2013-07-25 00:54:43 Creating /usr/local/lib/python2.7/dist-packages/nova.egg-link (link to .)
2013-07-25 00:54:43 nova 2013.1.a4746.ga9fdb38 is already the active version in easy-install.pth
2013-07-25 00:54:43 Installing nova-all script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-api script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-api-ec2 script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-api-metadata script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-api-os-compute script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-baremetal-deploy-helper script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-baremetal-manage script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-rpc-zmq-receiver script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-cells script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-cert script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-clear-rabbit-queues script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-compute script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-conductor script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-console script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-consoleauth script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-dhcpbridge script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-manage script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-network script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-novncproxy script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-objectstore script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-rootwrap script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-scheduler script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-spicehtml5proxy script to /usr/local/bin
2013-07-25 00:54:43 Installing nova-xvpvncproxy script to /usr/local/bin
2013-07-25 00:54:43 
2013-07-25 00:54:43 Installed /opt/stack/nova
2013-07-25 00:54:43 Processing dependencies for nova==2013.1.a4746.ga9fdb38
2013-07-25 00:54:43 Searching for oslo-config==2013.1b4
2013-07-25 00:54:43 Best match: oslo-config 2013.1b4
2013-07-25 00:54:43 oslo-config 2013.1b4 is already the active version in easy-install.pth
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:43 Searching for websockify==0.3.0
2013-07-25 00:54:43 Best match: websockify 0.3.0
2013-07-25 00:54:43 websockify 0.3.0 is already the active version in easy-install.pth
2013-07-25 00:54:43 Installing websockify script to /usr/local/bin
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:43 Searching for stevedore==0.8
2013-07-25 00:54:43 Best match: stevedore 0.8
2013-07-25 00:54:43 stevedore 0.8 is already the active version in easy-install.pth
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:43 Searching for python-keystoneclient==0.2.2.56.g3ce3fe8
2013-07-25 00:54:43 Best match: python-keystoneclient 0.2.2.56.g3ce3fe8
2013-07-25 00:54:43 python-keystoneclient 0.2.2.56.g3ce3fe8 is already the active version in easy-install.pth
2013-07-25 00:54:43 Installing keystone script to /usr/local/bin
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /opt/stack/python-keystoneclient
2013-07-25 00:54:43 Searching for python-glanceclient==0.8.0.5.g0ca43be
2013-07-25 00:54:43 Best match: python-glanceclient 0.8.0.5.g0ca43be
2013-07-25 00:54:43 Removing python-glanceclient 0.8.0 from easy-install.pth file
2013-07-25 00:54:43 python-glanceclient 0.8.0.5.g0ca43be is already the active version in easy-install.pth
2013-07-25 00:54:43 Installing glance script to /usr/local/bin
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /opt/stack/python-glanceclient
2013-07-25 00:54:43 Searching for python-quantumclient==2.1.2
2013-07-25 00:54:43 Best match: python-quantumclient 2.1.2
2013-07-25 00:54:43 Adding python-quantumclient 2.1.2 to easy-install.pth file
2013-07-25 00:54:43 Installing quantum script to /usr/local/bin
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:43 Searching for python-cinderclient==1.0.2.26.g458ff24
2013-07-25 00:54:43 Best match: python-cinderclient 1.0.2.26.g458ff24
2013-07-25 00:54:43 Removing python-cinderclient 1.0.2 from easy-install.pth file
2013-07-25 00:54:43 python-cinderclient 1.0.2.26.g458ff24 is already the active version in easy-install.pth
2013-07-25 00:54:43 Installing cinder script to /usr/local/bin
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /opt/stack/python-cinderclient
2013-07-25 00:54:43 Searching for setuptools-git==1.0b1
2013-07-25 00:54:43 Best match: setuptools-git 1.0b1
2013-07-25 00:54:43 Processing setuptools_git-1.0b1-py2.7.egg
2013-07-25 00:54:43 setuptools-git 1.0b1 is already the active version in easy-install.pth
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /opt/stack/python-glanceclient/setuptools_git-1.0b1-py2.7.egg
2013-07-25 00:54:43 Searching for httplib2==0.7.2
2013-07-25 00:54:43 Best match: httplib2 0.7.2
2013-07-25 00:54:43 Adding httplib2 0.7.2 to easy-install.pth file
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:43 Searching for iso8601==0.1.4
2013-07-25 00:54:43 Best match: iso8601 0.1.4
2013-07-25 00:54:43 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:43 Searching for Babel==0.9.6
2013-07-25 00:54:43 Best match: Babel 0.9.6
2013-07-25 00:54:43 Adding Babel 0.9.6 to easy-install.pth file
2013-07-25 00:54:43 Installing pybabel script to /usr/local/bin
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:43 Searching for pyasn1==0.1.6
2013-07-25 00:54:43 Best match: pyasn1 0.1.6
2013-07-25 00:54:43 pyasn1 0.1.6 is already the active version in easy-install.pth
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:43 Searching for paramiko==1.7.7.1
2013-07-25 00:54:43 Best match: paramiko 1.7.7.1
2013-07-25 00:54:43 Adding paramiko 1.7.7.1 to easy-install.pth file
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:43 Searching for suds==0.4.1
2013-07-25 00:54:43 Best match: suds 0.4.1
2013-07-25 00:54:43 Adding suds 0.4.1 to easy-install.pth file
2013-07-25 00:54:43 
2013-07-25 00:54:43 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:43 Searching for netaddr==0.7.5
2013-07-25 00:54:43 Best match: netaddr 0.7.5
2013-07-25 00:54:43 Adding netaddr 0.7.5 to easy-install.pth file
2013-07-25 00:54:43 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for sqlalchemy-migrate==0.7.2
2013-07-25 00:54:44 Best match: sqlalchemy-migrate 0.7.2
2013-07-25 00:54:44 Adding sqlalchemy-migrate 0.7.2 to easy-install.pth file
2013-07-25 00:54:44 Installing migrate script to /usr/local/bin
2013-07-25 00:54:44 Installing migrate-repository script to /usr/local/bin
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for Paste==1.7.5.1
2013-07-25 00:54:44 Best match: Paste 1.7.5.1
2013-07-25 00:54:44 Adding Paste 1.7.5.1 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for PasteDeploy==1.5.0
2013-07-25 00:54:44 Best match: PasteDeploy 1.5.0
2013-07-25 00:54:44 Adding PasteDeploy 1.5.0 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for greenlet==0.3.1
2013-07-25 00:54:44 Best match: greenlet 0.3.1
2013-07-25 00:54:44 Adding greenlet 0.3.1 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for WebOb==1.2.3
2013-07-25 00:54:44 Best match: WebOb 1.2.3
2013-07-25 00:54:44 WebOb 1.2.3 is already the active version in easy-install.pth
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for Routes==1.12.3
2013-07-25 00:54:44 Best match: Routes 1.12.3
2013-07-25 00:54:44 Adding Routes 1.12.3 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for lxml==2.3.2
2013-07-25 00:54:44 Best match: lxml 2.3.2
2013-07-25 00:54:44 Adding lxml 2.3.2 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for kombu==1.4.3
2013-07-25 00:54:44 Best match: kombu 1.4.3
2013-07-25 00:54:44 Adding kombu 1.4.3 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for eventlet==0.12.1
2013-07-25 00:54:44 Best match: eventlet 0.12.1
2013-07-25 00:54:44 eventlet 0.12.1 is already the active version in easy-install.pth
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for boto==2.2.2
2013-07-25 00:54:44 Best match: boto 2.2.2
2013-07-25 00:54:44 Adding boto 2.2.2 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for anyjson==0.3.1
2013-07-25 00:54:44 Best match: anyjson 0.3.1
2013-07-25 00:54:44 Adding anyjson 0.3.1 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for amqplib==1.0.0
2013-07-25 00:54:44 Best match: amqplib 1.0.0
2013-07-25 00:54:44 Adding amqplib 1.0.0 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for Cheetah==2.4.4
2013-07-25 00:54:44 Best match: Cheetah 2.4.4
2013-07-25 00:54:44 Adding Cheetah 2.4.4 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for SQLAlchemy==0.7.9
2013-07-25 00:54:44 Best match: SQLAlchemy 0.7.9
2013-07-25 00:54:44 SQLAlchemy 0.7.9 is already the active version in easy-install.pth
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for numpy==1.6.1
2013-07-25 00:54:44 Best match: numpy 1.6.1
2013-07-25 00:54:44 Adding numpy 1.6.1 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for distribute==0.6.24dev-r0
2013-07-25 00:54:44 Best match: distribute 0.6.24dev-r0
2013-07-25 00:54:44 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-25 00:54:44 Installing easy_install script to /usr/local/bin
2013-07-25 00:54:44 Installing easy_install-2.7 script to /usr/local/bin
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for simplejson==2.3.2
2013-07-25 00:54:44 Best match: simplejson 2.3.2
2013-07-25 00:54:44 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for requests==0.14.2
2013-07-25 00:54:44 Best match: requests 0.14.2
2013-07-25 00:54:44 Processing requests-0.14.2-py2.7.egg
2013-07-25 00:54:44 Removing requests 0.14.2 from easy-install.pth file
2013-07-25 00:54:44 requests 0.14.2 is already the active version in easy-install.pth
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg
2013-07-25 00:54:44 Searching for prettytable==0.6.1
2013-07-25 00:54:44 Best match: prettytable 0.6.1
2013-07-25 00:54:44 Adding prettytable 0.6.1 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for warlock==0.8.1
2013-07-25 00:54:44 Best match: warlock 0.8.1
2013-07-25 00:54:44 warlock 0.8.1 is already the active version in easy-install.pth
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for pyOpenSSL==0.12
2013-07-25 00:54:44 Best match: pyOpenSSL 0.12
2013-07-25 00:54:44 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for pyparsing==1.5.7
2013-07-25 00:54:44 Best match: pyparsing 1.5.7
2013-07-25 00:54:44 pyparsing 1.5.7 is already the active version in easy-install.pth
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for cliff==1.3.1
2013-07-25 00:54:44 Best match: cliff 1.3.1
2013-07-25 00:54:44 cliff 1.3.1 is already the active version in easy-install.pth
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for Tempita==0.5.1
2013-07-25 00:54:44 Best match: Tempita 0.5.1
2013-07-25 00:54:44 Adding Tempita 0.5.1 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for decorator==3.3.2
2013-07-25 00:54:44 Best match: decorator 3.3.2
2013-07-25 00:54:44 Adding decorator 3.3.2 to easy-install.pth file
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for Markdown==2.2.1
2013-07-25 00:54:44 Best match: Markdown 2.2.1
2013-07-25 00:54:44 Markdown 2.2.1 is already the active version in easy-install.pth
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for jsonpatch==0.12
2013-07-25 00:54:44 Best match: jsonpatch 0.12
2013-07-25 00:54:44 jsonpatch 0.12 is already the active version in easy-install.pth
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for jsonschema==0.8.0
2013-07-25 00:54:44 Best match: jsonschema 0.8.0
2013-07-25 00:54:44 jsonschema 0.8.0 is already the active version in easy-install.pth
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for cmd2==0.6.4
2013-07-25 00:54:44 Best match: cmd2 0.6.4
2013-07-25 00:54:44 cmd2 0.6.4 is already the active version in easy-install.pth
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:44 Searching for jsonpointer==0.7
2013-07-25 00:54:44 Best match: jsonpointer 0.7
2013-07-25 00:54:44 jsonpointer 0.7 is already the active version in easy-install.pth
2013-07-25 00:54:44 
2013-07-25 00:54:44 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 00:54:44 Finished processing dependencies for nova==2013.1.a4746.ga9fdb38
2013-07-25 00:54:44 + [[ ! -d /etc/nova ]]
2013-07-25 00:54:44 + sudo chown stack /etc/nova
2013-07-25 00:54:44 + cp -p /opt/stack/nova/etc/nova/policy.json /etc/nova
2013-07-25 00:54:44 + configure_nova_rootwrap
2013-07-25 00:54:44 + [[ -d /etc/nova/rootwrap.d ]]
2013-07-25 00:54:44 + sudo rm -rf /etc/nova/rootwrap.d
2013-07-25 00:54:44 + sudo mkdir -m 755 /etc/nova/rootwrap.d
2013-07-25 00:54:44 + sudo cp /opt/stack/nova/etc/nova/rootwrap.d/api-metadata.filters /opt/stack/nova/etc/nova/rootwrap.d/baremetal-compute-ipmi.filters /opt/stack/nova/etc/nova/rootwrap.d/baremetal-deploy-helper.filters /opt/stack/nova/etc/nova/rootwrap.d/compute.filters /opt/stack/nova/etc/nova/rootwrap.d/network.filters /etc/nova/rootwrap.d
2013-07-25 00:54:44 + sudo chown -R root:root /etc/nova/rootwrap.d
2013-07-25 00:54:44 + sudo chmod 644 /etc/nova/rootwrap.d/api-metadata.filters /etc/nova/rootwrap.d/baremetal-compute-ipmi.filters /etc/nova/rootwrap.d/baremetal-deploy-helper.filters /etc/nova/rootwrap.d/compute.filters /etc/nova/rootwrap.d/network.filters
2013-07-25 00:54:44 + sudo cp /opt/stack/nova/etc/nova/rootwrap.conf /etc/nova/
2013-07-25 00:54:44 + sudo sed -e 's:^filters_path=.*$:filters_path=/etc/nova/rootwrap.d:' -i /etc/nova/rootwrap.conf
2013-07-25 00:54:44 + sudo chown root:root /etc/nova/rootwrap.conf
2013-07-25 00:54:44 + sudo chmod 0644 /etc/nova/rootwrap.conf
2013-07-25 00:54:44 + ROOTWRAP_SUDOER_CMD='/usr/local/bin/nova-rootwrap /etc/nova/rootwrap.conf *'
2013-07-25 00:54:44 ++ mktemp
2013-07-25 00:54:44 + TEMPFILE=/tmp/tmp.x3FnEZOVMh
2013-07-25 00:54:44 + echo 'stack ALL=(root) NOPASSWD: /usr/local/bin/nova-rootwrap /etc/nova/rootwrap.conf *'
2013-07-25 00:54:44 + chmod 0440 /tmp/tmp.x3FnEZOVMh
2013-07-25 00:54:44 + sudo chown root:root /tmp/tmp.x3FnEZOVMh
2013-07-25 00:54:44 + sudo mv /tmp/tmp.x3FnEZOVMh /etc/sudoers.d/nova-rootwrap
2013-07-25 00:54:44 + is_service_enabled n-api
2013-07-25 00:54:44 + services=n-api
2013-07-25 00:54:44 + for service in '${services}'
2013-07-25 00:54:44 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-api, ]]
2013-07-25 00:54:44 + return 0
2013-07-25 00:54:44 + rm -f /opt/stack/nova/bin/nova-api-paste.ini
2013-07-25 00:54:44 + cp /opt/stack/nova/etc/nova/api-paste.ini /etc/nova
2013-07-25 00:54:44 + iniset /etc/nova/api-paste.ini filter:authtoken auth_host 129.127.10.133
2013-07-25 00:54:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:54:44 + local section=filter:authtoken
2013-07-25 00:54:44 + local option=auth_host
2013-07-25 00:54:44 + local value=129.127.10.133
2013-07-25 00:54:44 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + ini_has_option /etc/nova/api-paste.ini filter:authtoken auth_host
2013-07-25 00:54:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:54:44 + local section=filter:authtoken
2013-07-25 00:54:44 + local option=auth_host
2013-07-25 00:54:44 + local line
2013-07-25 00:54:44 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^auth_host[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + line='auth_host = 127.0.0.1'
2013-07-25 00:54:44 + '[' -n 'auth_host = 127.0.0.1' ']'
2013-07-25 00:54:44 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(auth_host[ \t]*=[ \t]*\).*$|\1129.127.10.133|' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + is_service_enabled tls-proxy
2013-07-25 00:54:44 + services=tls-proxy
2013-07-25 00:54:44 + for service in '${services}'
2013-07-25 00:54:44 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-25 00:54:44 + [[ tls-proxy == \n\o\v\a ]]
2013-07-25 00:54:44 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-25 00:54:44 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:54:44 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-25 00:54:44 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-25 00:54:44 + return 1
2013-07-25 00:54:44 + iniset /etc/nova/api-paste.ini filter:authtoken admin_tenant_name service
2013-07-25 00:54:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:54:44 + local section=filter:authtoken
2013-07-25 00:54:44 + local option=admin_tenant_name
2013-07-25 00:54:44 + local value=service
2013-07-25 00:54:44 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + ini_has_option /etc/nova/api-paste.ini filter:authtoken admin_tenant_name
2013-07-25 00:54:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:54:44 + local section=filter:authtoken
2013-07-25 00:54:44 + local option=admin_tenant_name
2013-07-25 00:54:44 + local line
2013-07-25 00:54:44 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_tenant_name[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + line='admin_tenant_name = %SERVICE_TENANT_NAME%'
2013-07-25 00:54:44 + '[' -n 'admin_tenant_name = %SERVICE_TENANT_NAME%' ']'
2013-07-25 00:54:44 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_tenant_name[ \t]*=[ \t]*\).*$|\1service|' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + iniset /etc/nova/api-paste.ini filter:authtoken admin_user nova
2013-07-25 00:54:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:54:44 + local section=filter:authtoken
2013-07-25 00:54:44 + local option=admin_user
2013-07-25 00:54:44 + local value=nova
2013-07-25 00:54:44 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + ini_has_option /etc/nova/api-paste.ini filter:authtoken admin_user
2013-07-25 00:54:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:54:44 + local section=filter:authtoken
2013-07-25 00:54:44 + local option=admin_user
2013-07-25 00:54:44 + local line
2013-07-25 00:54:44 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_user[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + line='admin_user = %SERVICE_USER%'
2013-07-25 00:54:44 + '[' -n 'admin_user = %SERVICE_USER%' ']'
2013-07-25 00:54:44 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_user[ \t]*=[ \t]*\).*$|\1nova|' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + iniset /etc/nova/api-paste.ini filter:authtoken admin_password b00cc1bf202ef80abbe0
2013-07-25 00:54:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:54:44 + local section=filter:authtoken
2013-07-25 00:54:44 + local option=admin_password
2013-07-25 00:54:44 + local value=b00cc1bf202ef80abbe0
2013-07-25 00:54:44 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + ini_has_option /etc/nova/api-paste.ini filter:authtoken admin_password
2013-07-25 00:54:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:54:44 + local section=filter:authtoken
2013-07-25 00:54:44 + local option=admin_password
2013-07-25 00:54:44 + local line
2013-07-25 00:54:44 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + line='admin_password = %SERVICE_PASSWORD%'
2013-07-25 00:54:44 + '[' -n 'admin_password = %SERVICE_PASSWORD%' ']'
2013-07-25 00:54:44 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_password[ \t]*=[ \t]*\).*$|\1b00cc1bf202ef80abbe0|' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + iniset /etc/nova/api-paste.ini filter:authtoken signing_dir /var/cache/nova
2013-07-25 00:54:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:54:44 + local section=filter:authtoken
2013-07-25 00:54:44 + local option=signing_dir
2013-07-25 00:54:44 + local value=/var/cache/nova
2013-07-25 00:54:44 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + ini_has_option /etc/nova/api-paste.ini filter:authtoken signing_dir
2013-07-25 00:54:44 + local file=/etc/nova/api-paste.ini
2013-07-25 00:54:44 + local section=filter:authtoken
2013-07-25 00:54:44 + local option=signing_dir
2013-07-25 00:54:44 + local line
2013-07-25 00:54:44 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^signing_dir[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + line='signing_dir = /tmp/keystone-signing-nova'
2013-07-25 00:54:44 + '[' -n 'signing_dir = /tmp/keystone-signing-nova' ']'
2013-07-25 00:54:44 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(signing_dir[ \t]*=[ \t]*\).*$|\1/var/cache/nova|' /etc/nova/api-paste.ini
2013-07-25 00:54:44 + is_service_enabled n-cpu
2013-07-25 00:54:44 + services=n-cpu
2013-07-25 00:54:44 + for service in '${services}'
2013-07-25 00:54:44 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-25 00:54:44 + return 0
2013-07-25 00:54:44 + sudo sysctl -w net.ipv4.ip_forward=1
2013-07-25 00:54:44 net.ipv4.ip_forward = 1
2013-07-25 00:54:44 + sudo modprobe nbd
2013-07-25 00:54:44 + [[ kvm == \k\v\m ]]
2013-07-25 00:54:44 + sudo modprobe kvm
2013-07-25 00:54:44 + '[' '!' -e /dev/kvm ']'
2013-07-25 00:54:44 + [[ kvm == \l\x\c ]]
2013-07-25 00:54:44 + is_baremetal
2013-07-25 00:54:44 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-25 00:54:44 + return 1
2013-07-25 00:54:44 + is_service_enabled quantum
2013-07-25 00:54:44 + services=quantum
2013-07-25 00:54:44 + for service in '${services}'
2013-07-25 00:54:44 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-25 00:54:44 + [[ quantum == \n\o\v\a ]]
2013-07-25 00:54:44 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-25 00:54:44 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:54:44 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-25 00:54:44 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-25 00:54:44 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-25 00:54:44 + return 1
2013-07-25 00:54:44 + is_ubuntu
2013-07-25 00:54:44 + [[ -z deb ]]
2013-07-25 00:54:44 + '[' deb = deb ']'
2013-07-25 00:54:44 + LIBVIRT_DAEMON=libvirt-bin
2013-07-25 00:54:44 + is_fedora
2013-07-25 00:54:44 + [[ -z Ubuntu ]]
2013-07-25 00:54:44 + '[' Ubuntu = Fedora ']'
2013-07-25 00:54:44 + '[' Ubuntu = 'Red Hat' ']'
2013-07-25 00:54:44 + '[' Ubuntu = CentOS ']'
2013-07-25 00:54:44 + is_suse
2013-07-25 00:54:44 + [[ -z Ubuntu ]]
2013-07-25 00:54:44 + '[' Ubuntu = openSUSE ']'
2013-07-25 00:54:44 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-25 00:54:44 + getent group libvirtd
2013-07-25 00:54:44 + add_user_to_group stack libvirtd
2013-07-25 00:54:44 + local user=stack
2013-07-25 00:54:44 + local group=libvirtd
2013-07-25 00:54:44 + [[ -z Ubuntu ]]
2013-07-25 00:54:44 + is_suse
2013-07-25 00:54:44 + [[ -z Ubuntu ]]
2013-07-25 00:54:44 + '[' Ubuntu = openSUSE ']'
2013-07-25 00:54:44 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-25 00:54:44 + sudo usermod -a -G libvirtd stack
2013-07-25 00:54:44 + restart_service libvirt-bin
2013-07-25 00:54:44 + is_ubuntu
2013-07-25 00:54:44 + [[ -z deb ]]
2013-07-25 00:54:44 + '[' deb = deb ']'
2013-07-25 00:54:44 + sudo /usr/sbin/service libvirt-bin restart
2013-07-25 00:54:44 libvirt-bin stop/waiting
2013-07-25 00:54:44 libvirt-bin start/running, process 23102
2013-07-25 00:54:44 + mkdir -p /opt/stack/data/nova/instances
2013-07-25 00:54:44 + '[' -L /dev/disk/by-label/nova-instances ']'
2013-07-25 00:54:44 + cleanup_nova
2013-07-25 00:54:44 + is_service_enabled n-cpu
2013-07-25 00:54:44 + services=n-cpu
2013-07-25 00:54:44 + for service in '${services}'
2013-07-25 00:54:44 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-25 00:54:44 + return 0
2013-07-25 00:54:44 + clean_iptables
2013-07-25 00:54:44 + bash
2013-07-25 00:54:44 + awk '{print "sudo iptables",$0}'
2013-07-25 00:54:44 + sed s/-A/-D/g
2013-07-25 00:54:44 + grep '\-A'
2013-07-25 00:54:44 + grep nova
2013-07-25 00:54:44 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-25 00:54:44 + sudo iptables -S -v
2013-07-25 00:54:44 + awk '{print "sudo iptables -t nat",$0}'
2013-07-25 00:54:44 + bash
2013-07-25 00:54:44 + sed s/-A/-D/g
2013-07-25 00:54:44 + grep '\-A'
2013-07-25 00:54:44 + grep nova
2013-07-25 00:54:44 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-25 00:54:44 + sudo iptables -S -v -t nat
2013-07-25 00:54:44 + bash
2013-07-25 00:54:44 + awk '{print "sudo iptables",$0}'
2013-07-25 00:54:44 + sed s/-N/-X/g
2013-07-25 00:54:44 + grep '\-N'
2013-07-25 00:54:44 + grep nova
2013-07-25 00:54:44 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-25 00:54:44 + sudo iptables -S -v
2013-07-25 00:54:44 + awk '{print "sudo iptables -t nat",$0}'
2013-07-25 00:54:44 + bash
2013-07-25 00:54:44 + sed s/-N/-X/g
2013-07-25 00:54:44 + grep '\-N'
2013-07-25 00:54:44 + grep nova
2013-07-25 00:54:44 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-25 00:54:44 + sudo iptables -S -v -t nat
2013-07-25 00:54:44 ++ sed 's/.*\(instance-[0-9a-fA-F]*\).*/\1/g'
2013-07-25 00:54:44 ++ grep instance-
2013-07-25 00:54:44 ++ sudo virsh list --all
2013-07-25 00:54:45 + instances=
2013-07-25 00:54:45 + '[' '!' '' = '' ']'
2013-07-25 00:54:45 + grep volume-
2013-07-25 00:54:45 + xargs sudo iscsiadm --mode node --logout
2013-07-25 00:54:45 + sudo iscsiadm --mode node
2013-07-25 00:54:45 + cut -d ' ' -f2
2013-07-25 00:54:45 iscsiadm: no records found!
2013-07-25 00:54:45 + cut -d ' ' -f2
2013-07-25 00:54:45 + sudo iscsiadm --mode node --op delete
2013-07-25 00:54:45 + grep volume-
2013-07-25 00:54:45 + sudo iscsiadm --mode node
2013-07-25 00:54:45 iscsiadm: no records found!
2013-07-25 00:54:45 iscsiadm: no records found!
2013-07-25 00:54:45 + true
2013-07-25 00:54:45 + sudo rm -rf '/opt/stack/data/nova/instances/*'
2013-07-25 00:54:45 + is_service_enabled n-net q-dhcp
2013-07-25 00:54:45 + services='n-net q-dhcp'
2013-07-25 00:54:45 + for service in '${services}'
2013-07-25 00:54:45 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-net, ]]
2013-07-25 00:54:45 + return 0
2013-07-25 00:54:45 ++ pidof NetworkManager
2013-07-25 00:54:45 ++ true
2013-07-25 00:54:45 + netman_pid=
2013-07-25 00:54:45 + '[' -z '' ']'
2013-07-25 00:54:45 + sudo killall dnsmasq
2013-07-25 00:54:45 dnsmasq: no process found
2013-07-25 00:54:45 + true
2013-07-25 00:54:45 + clean_iptables
2013-07-25 00:54:45 + grep nova
2013-07-25 00:54:45 + awk '{print "sudo iptables",$0}'
2013-07-25 00:54:45 + grep '\-A'
2013-07-25 00:54:45 + sed s/-A/-D/g
2013-07-25 00:54:45 + bash
2013-07-25 00:54:45 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-25 00:54:45 + sudo iptables -S -v
2013-07-25 00:54:45 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-25 00:54:45 + awk '{print "sudo iptables -t nat",$0}'
2013-07-25 00:54:45 + bash
2013-07-25 00:54:45 + sed s/-A/-D/g
2013-07-25 00:54:45 + grep '\-A'
2013-07-25 00:54:45 + grep nova
2013-07-25 00:54:45 + sudo iptables -S -v -t nat
2013-07-25 00:54:45 + sudo iptables -S -v
2013-07-25 00:54:45 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-25 00:54:45 + awk '{print "sudo iptables",$0}'
2013-07-25 00:54:45 + sed s/-N/-X/g
2013-07-25 00:54:45 + bash
2013-07-25 00:54:45 + grep nova
2013-07-25 00:54:45 + grep '\-N'
2013-07-25 00:54:45 + sudo iptables -S -v -t nat
2013-07-25 00:54:45 + awk '{print "sudo iptables -t nat",$0}'
2013-07-25 00:54:45 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-25 00:54:45 + sed s/-N/-X/g
2013-07-25 00:54:45 + bash
2013-07-25 00:54:45 + grep nova
2013-07-25 00:54:45 + grep '\-N'
2013-07-25 00:54:45 + rm -rf /opt/stack/data/nova/networks
2013-07-25 00:54:45 + sudo mkdir -p /opt/stack/data/nova/networks
2013-07-25 00:54:45 + sudo chown -R stack /opt/stack/data/nova/networks
2013-07-25 00:54:45 + sudo sysctl -w net.ipv4.ip_forward=1
2013-07-25 00:54:45 net.ipv4.ip_forward = 1
2013-07-25 00:54:45 + is_service_enabled swift
2013-07-25 00:54:45 + services=swift
2013-07-25 00:54:45 + for service in '${services}'
2013-07-25 00:54:45 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,swift, ]]
2013-07-25 00:54:45 + [[ swift == \n\o\v\a ]]
2013-07-25 00:54:45 + [[ swift == \c\i\n\d\e\r ]]
2013-07-25 00:54:45 + [[ swift == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:54:45 + [[ swift == \g\l\a\n\c\e ]]
2013-07-25 00:54:45 + [[ swift == \q\u\a\n\t\u\m ]]
2013-07-25 00:54:45 + return 1
2013-07-25 00:54:45 + is_service_enabled cinder
2013-07-25 00:54:45 + services=cinder
2013-07-25 00:54:45 + for service in '${services}'
2013-07-25 00:54:45 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,cinder, ]]
2013-07-25 00:54:45 + return 0
2013-07-25 00:54:45 + echo_summary 'Configuring Cinder'
2013-07-25 00:54:45 + [[ -t 3 ]]
2013-07-25 00:54:45 + [[ True != \T\r\u\e ]]
2013-07-25 00:54:45 + echo -e Configuring Cinder
2013-07-25 00:54:45 + init_cinder
2013-07-25 00:54:45 Configuring Cinder
2013-07-25 00:54:45 ++ echo ec2,osapi_compute,metadata
2013-07-25 00:54:45 ++ sed s/osapi_volume,//
2013-07-25 00:54:45 + NOVA_ENABLED_APIS=ec2,osapi_compute,metadata
2013-07-25 00:54:45 + is_service_enabled mysql postgresql
2013-07-25 00:54:45 + services='mysql postgresql'
2013-07-25 00:54:45 + for service in '${services}'
2013-07-25 00:54:45 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,mysql, ]]
2013-07-25 00:54:45 + return 0
2013-07-25 00:54:45 + recreate_database cinder utf8
2013-07-25 00:54:45 + local db=cinder
2013-07-25 00:54:45 + local charset=utf8
2013-07-25 00:54:45 + recreate_database_mysql cinder utf8
2013-07-25 00:54:45 + local db=cinder
2013-07-25 00:54:45 + local charset=utf8
2013-07-25 00:54:45 + mysql -uroot -pf37ccdd1ded5c0dd33c9 -e 'DROP DATABASE IF EXISTS cinder;'
2013-07-25 00:54:46 + mysql -uroot -pf37ccdd1ded5c0dd33c9 -e 'CREATE DATABASE cinder CHARACTER SET utf8;'
2013-07-25 00:54:46 + /opt/stack/cinder/bin/cinder-manage db sync
2013-07-25 00:54:54 + is_service_enabled c-vol
2013-07-25 00:54:54 + services=c-vol
2013-07-25 00:54:54 + for service in '${services}'
2013-07-25 00:54:54 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-vol, ]]
2013-07-25 00:54:54 + return 0
2013-07-25 00:54:54 + create_cinder_volume_group
2013-07-25 00:54:54 + sudo vgs stack-volumes
2013-07-25 00:54:54   VG            #PV #LV #SN Attr   VSize VFree
2013-07-25 00:54:54   stack-volumes   1   0   0 wz--n- 5.01g 5.01g
2013-07-25 00:54:54 + '[' False = True ']'
2013-07-25 00:54:54 + mkdir -p /opt/stack/data/cinder/volumes
2013-07-25 00:54:54 + sudo vgs stack-volumes
2013-07-25 00:54:54   VG            #PV #LV #SN Attr   VSize VFree
2013-07-25 00:54:54   stack-volumes   1   0   0 wz--n- 5.01g 5.01g
2013-07-25 00:54:54 + is_fedora
2013-07-25 00:54:54 + [[ -z Ubuntu ]]
2013-07-25 00:54:54 + '[' Ubuntu = Fedora ']'
2013-07-25 00:54:54 + '[' Ubuntu = 'Red Hat' ']'
2013-07-25 00:54:54 + '[' Ubuntu = CentOS ']'
2013-07-25 00:54:54 + is_suse
2013-07-25 00:54:54 + [[ -z Ubuntu ]]
2013-07-25 00:54:54 + '[' Ubuntu = openSUSE ']'
2013-07-25 00:54:54 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-25 00:54:54 + grep Target
2013-07-25 00:54:54 + cut -f3 -d ' '
2013-07-25 00:54:54 + grep volume-
2013-07-25 00:54:54 + sudo tgtadm --op show --mode target
2013-07-25 00:54:54 + sudo xargs -n1 tgt-admin --delete
2013-07-25 00:54:54 tgtadm: can't send the request to the tgt daemon, Transport endpoint is not connected
2013-07-25 00:54:54 Option delete requires an argument
2013-07-25 00:54:54 No action specified.
2013-07-25 00:54:54 + _clean_volume_group stack-volumes volume-
2013-07-25 00:54:54 + local vg=stack-volumes
2013-07-25 00:54:54 + local vg_prefix=volume-
2013-07-25 00:54:54 ++ sudo lvs --noheadings -o lv_name stack-volumes
2013-07-25 00:54:54 + '[' False = True ']'
2013-07-25 00:54:54 + create_cinder_cache_dir
2013-07-25 00:54:54 + sudo mkdir -p /var/cache/cinder
2013-07-25 00:54:54 + sudo chown stack /var/cache/cinder
2013-07-25 00:54:54 + rm -f '/var/cache/cinder/*'
2013-07-25 00:54:54 + is_service_enabled nova
2013-07-25 00:54:54 + services=nova
2013-07-25 00:54:54 + for service in '${services}'
2013-07-25 00:54:54 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-25 00:54:54 + [[ nova == \n\o\v\a ]]
2013-07-25 00:54:54 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-25 00:54:54 + return 0
2013-07-25 00:54:54 + echo_summary 'Configuring Nova'
2013-07-25 00:54:54 + [[ -t 3 ]]
2013-07-25 00:54:54 + [[ True != \T\r\u\e ]]
2013-07-25 00:54:54 + echo -e Configuring Nova
2013-07-25 00:54:54 + create_nova_conf
2013-07-25 00:54:54 Configuring Nova
2013-07-25 00:54:54 + rm -f /opt/stack/nova/bin/nova.conf
2013-07-25 00:54:54 + rm -f /etc/nova/nova.conf
2013-07-25 00:54:54 + add_nova_opt '[DEFAULT]'
2013-07-25 00:54:54 + echo '[DEFAULT]'
2013-07-25 00:54:54 + iniset /etc/nova/nova.conf DEFAULT verbose True
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=verbose
2013-07-25 00:54:54 + local value=True
2013-07-25 00:54:54 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:54 + ini_has_option /etc/nova/nova.conf DEFAULT verbose
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=verbose
2013-07-25 00:54:54 + local line
2013-07-25 00:54:54 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^verbose[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:54 + line=
2013-07-25 00:54:54 + '[' -n '' ']'
2013-07-25 00:54:54 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:54 verbose = True
2013-07-25 00:54:54 ' /etc/nova/nova.conf
2013-07-25 00:54:54 + iniset /etc/nova/nova.conf DEFAULT debug True
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=debug
2013-07-25 00:54:54 + local value=True
2013-07-25 00:54:54 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:54 + ini_has_option /etc/nova/nova.conf DEFAULT debug
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=debug
2013-07-25 00:54:54 + local line
2013-07-25 00:54:54 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^debug[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:54 + line=
2013-07-25 00:54:54 + '[' -n '' ']'
2013-07-25 00:54:54 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:54 debug = True
2013-07-25 00:54:54 ' /etc/nova/nova.conf
2013-07-25 00:54:54 + iniset /etc/nova/nova.conf DEFAULT auth_strategy keystone
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=auth_strategy
2013-07-25 00:54:54 + local value=keystone
2013-07-25 00:54:54 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:54 + ini_has_option /etc/nova/nova.conf DEFAULT auth_strategy
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=auth_strategy
2013-07-25 00:54:54 + local line
2013-07-25 00:54:54 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^auth_strategy[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:54 + line=
2013-07-25 00:54:54 + '[' -n '' ']'
2013-07-25 00:54:54 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:54 auth_strategy = keystone
2013-07-25 00:54:54 ' /etc/nova/nova.conf
2013-07-25 00:54:54 + iniset /etc/nova/nova.conf DEFAULT allow_resize_to_same_host True
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=allow_resize_to_same_host
2013-07-25 00:54:54 + local value=True
2013-07-25 00:54:54 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:54 + ini_has_option /etc/nova/nova.conf DEFAULT allow_resize_to_same_host
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=allow_resize_to_same_host
2013-07-25 00:54:54 + local line
2013-07-25 00:54:54 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^allow_resize_to_same_host[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:54 + line=
2013-07-25 00:54:54 + '[' -n '' ']'
2013-07-25 00:54:54 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:54 allow_resize_to_same_host = True
2013-07-25 00:54:54 ' /etc/nova/nova.conf
2013-07-25 00:54:54 + iniset /etc/nova/nova.conf DEFAULT api_paste_config /etc/nova/api-paste.ini
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=api_paste_config
2013-07-25 00:54:54 + local value=/etc/nova/api-paste.ini
2013-07-25 00:54:54 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:54 + ini_has_option /etc/nova/nova.conf DEFAULT api_paste_config
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=api_paste_config
2013-07-25 00:54:54 + local line
2013-07-25 00:54:54 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^api_paste_config[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:54 + line=
2013-07-25 00:54:54 + '[' -n '' ']'
2013-07-25 00:54:54 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:54 api_paste_config = /etc/nova/api-paste.ini
2013-07-25 00:54:54 ' /etc/nova/nova.conf
2013-07-25 00:54:54 + iniset /etc/nova/nova.conf DEFAULT rootwrap_config /etc/nova/rootwrap.conf
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=rootwrap_config
2013-07-25 00:54:54 + local value=/etc/nova/rootwrap.conf
2013-07-25 00:54:54 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:54 + ini_has_option /etc/nova/nova.conf DEFAULT rootwrap_config
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=rootwrap_config
2013-07-25 00:54:54 + local line
2013-07-25 00:54:54 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rootwrap_config[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:54 + line=
2013-07-25 00:54:54 + '[' -n '' ']'
2013-07-25 00:54:54 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:54 rootwrap_config = /etc/nova/rootwrap.conf
2013-07-25 00:54:54 ' /etc/nova/nova.conf
2013-07-25 00:54:54 + iniset /etc/nova/nova.conf DEFAULT compute_scheduler_driver nova.scheduler.filter_scheduler.FilterScheduler
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=compute_scheduler_driver
2013-07-25 00:54:54 + local value=nova.scheduler.filter_scheduler.FilterScheduler
2013-07-25 00:54:54 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:54 + ini_has_option /etc/nova/nova.conf DEFAULT compute_scheduler_driver
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=compute_scheduler_driver
2013-07-25 00:54:54 + local line
2013-07-25 00:54:54 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^compute_scheduler_driver[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:54 + line=
2013-07-25 00:54:54 + '[' -n '' ']'
2013-07-25 00:54:54 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:54 compute_scheduler_driver = nova.scheduler.filter_scheduler.FilterScheduler
2013-07-25 00:54:54 ' /etc/nova/nova.conf
2013-07-25 00:54:54 + iniset /etc/nova/nova.conf DEFAULT dhcpbridge_flagfile /etc/nova/nova.conf
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=dhcpbridge_flagfile
2013-07-25 00:54:54 + local value=/etc/nova/nova.conf
2013-07-25 00:54:54 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:54 + ini_has_option /etc/nova/nova.conf DEFAULT dhcpbridge_flagfile
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=dhcpbridge_flagfile
2013-07-25 00:54:54 + local line
2013-07-25 00:54:54 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^dhcpbridge_flagfile[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:54 + line=
2013-07-25 00:54:54 + '[' -n '' ']'
2013-07-25 00:54:54 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:54 dhcpbridge_flagfile = /etc/nova/nova.conf
2013-07-25 00:54:54 ' /etc/nova/nova.conf
2013-07-25 00:54:54 + iniset /etc/nova/nova.conf DEFAULT force_dhcp_release True
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=force_dhcp_release
2013-07-25 00:54:54 + local value=True
2013-07-25 00:54:54 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:54 + ini_has_option /etc/nova/nova.conf DEFAULT force_dhcp_release
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:54 + local section=DEFAULT
2013-07-25 00:54:54 + local option=force_dhcp_release
2013-07-25 00:54:54 + local line
2013-07-25 00:54:54 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^force_dhcp_release[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:54 + line=
2013-07-25 00:54:54 + '[' -n '' ']'
2013-07-25 00:54:54 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:54 force_dhcp_release = True
2013-07-25 00:54:54 ' /etc/nova/nova.conf
2013-07-25 00:54:54 + iniset /etc/nova/nova.conf DEFAULT fixed_range 10.0.0.0/24
2013-07-25 00:54:54 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=fixed_range
2013-07-25 00:54:55 + local value=10.0.0.0/24
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT fixed_range
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=fixed_range
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^fixed_range[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 fixed_range = 10.0.0.0/24
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT default_floating_pool nova
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=default_floating_pool
2013-07-25 00:54:55 + local value=nova
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT default_floating_pool
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=default_floating_pool
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^default_floating_pool[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 default_floating_pool = nova
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT s3_host 129.127.10.133
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=s3_host
2013-07-25 00:54:55 + local value=129.127.10.133
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT s3_host
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=s3_host
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^s3_host[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 s3_host = 129.127.10.133
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT s3_port 3333
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=s3_port
2013-07-25 00:54:55 + local value=3333
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT s3_port
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=s3_port
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^s3_port[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 s3_port = 3333
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT osapi_compute_extension nova.api.openstack.compute.contrib.standard_extensions
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=osapi_compute_extension
2013-07-25 00:54:55 + local value=nova.api.openstack.compute.contrib.standard_extensions
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT osapi_compute_extension
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=osapi_compute_extension
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^osapi_compute_extension[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 osapi_compute_extension = nova.api.openstack.compute.contrib.standard_extensions
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT my_ip 129.127.10.133
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=my_ip
2013-07-25 00:54:55 + local value=129.127.10.133
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT my_ip
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=my_ip
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^my_ip[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 my_ip = 129.127.10.133
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + local dburl
2013-07-25 00:54:55 + database_connection_url dburl nova
2013-07-25 00:54:55 + local var=dburl
2013-07-25 00:54:55 + local db=nova
2013-07-25 00:54:55 + database_connection_url_mysql dburl nova
2013-07-25 00:54:55 + local output=dburl
2013-07-25 00:54:55 + local db=nova
2013-07-25 00:54:55 + eval 'dburl=mysql://root:f37ccdd1ded5c0dd33c9@localhost/nova?charset=utf8'
2013-07-25 00:54:55 ++ dburl='mysql://root:f37ccdd1ded5c0dd33c9@localhost/nova?charset=utf8'
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT sql_connection 'mysql://root:f37ccdd1ded5c0dd33c9@localhost/nova?charset=utf8'
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=sql_connection
2013-07-25 00:54:55 + local 'value=mysql://root:f37ccdd1ded5c0dd33c9@localhost/nova?charset=utf8'
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT sql_connection
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=sql_connection
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^sql_connection[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 sql_connection = mysql://root:f37ccdd1ded5c0dd33c9@localhost/nova?charset=utf8
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + is_baremetal
2013-07-25 00:54:55 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-25 00:54:55 + return 1
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT libvirt_type kvm
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=libvirt_type
2013-07-25 00:54:55 + local value=kvm
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT libvirt_type
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=libvirt_type
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^libvirt_type[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 libvirt_type = kvm
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT libvirt_cpu_mode none
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=libvirt_cpu_mode
2013-07-25 00:54:55 + local value=none
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT libvirt_cpu_mode
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=libvirt_cpu_mode
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^libvirt_cpu_mode[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 libvirt_cpu_mode = none
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT instance_name_template instance-%08x
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=instance_name_template
2013-07-25 00:54:55 + local value=instance-%08x
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT instance_name_template
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=instance_name_template
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^instance_name_template[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 instance_name_template = instance-%08x
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + is_service_enabled n-api
2013-07-25 00:54:55 + services=n-api
2013-07-25 00:54:55 + for service in '${services}'
2013-07-25 00:54:55 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-api, ]]
2013-07-25 00:54:55 + return 0
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT enabled_apis ec2,osapi_compute,metadata
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=enabled_apis
2013-07-25 00:54:55 + local value=ec2,osapi_compute,metadata
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT enabled_apis
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=enabled_apis
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^enabled_apis[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 enabled_apis = ec2,osapi_compute,metadata
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + is_service_enabled tls-proxy
2013-07-25 00:54:55 + services=tls-proxy
2013-07-25 00:54:55 + for service in '${services}'
2013-07-25 00:54:55 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-25 00:54:55 + [[ tls-proxy == \n\o\v\a ]]
2013-07-25 00:54:55 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-25 00:54:55 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:54:55 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-25 00:54:55 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-25 00:54:55 + return 1
2013-07-25 00:54:55 + is_service_enabled cinder
2013-07-25 00:54:55 + services=cinder
2013-07-25 00:54:55 + for service in '${services}'
2013-07-25 00:54:55 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,cinder, ]]
2013-07-25 00:54:55 + return 0
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT volume_api_class nova.volume.cinder.API
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=volume_api_class
2013-07-25 00:54:55 + local value=nova.volume.cinder.API
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT volume_api_class
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=volume_api_class
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^volume_api_class[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 volume_api_class = nova.volume.cinder.API
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + '[' -n /opt/stack/data/nova ']'
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT state_path /opt/stack/data/nova
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=state_path
2013-07-25 00:54:55 + local value=/opt/stack/data/nova
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT state_path
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=state_path
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^state_path[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 state_path = /opt/stack/data/nova
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT lock_path /opt/stack/data/nova
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=lock_path
2013-07-25 00:54:55 + local value=/opt/stack/data/nova
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT lock_path
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=lock_path
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^lock_path[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 lock_path = /opt/stack/data/nova
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + '[' -n /opt/stack/data/nova/instances ']'
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT instances_path /opt/stack/data/nova/instances
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=instances_path
2013-07-25 00:54:55 + local value=/opt/stack/data/nova/instances
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT instances_path
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=instances_path
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^instances_path[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 instances_path = /opt/stack/data/nova/instances
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + '[' False '!=' False ']'
2013-07-25 00:54:55 + '[' False '!=' False ']'
2013-07-25 00:54:55 + '[' True '!=' True ']'
2013-07-25 00:54:55 + '[' True == True ']'
2013-07-25 00:54:55 + '[' False == False ']'
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT logging_context_format_string '%(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[01;36m%(request_id)s [00;36m%(user_name)s %(project_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=logging_context_format_string
2013-07-25 00:54:55 + local 'value=%(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[01;36m%(request_id)s [00;36m%(user_name)s %(project_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT logging_context_format_string
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=logging_context_format_string
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^logging_context_format_string[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 logging_context_format_string = %(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[01;36m%(request_id)s [00;36m%(user_name)s %(project_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT logging_default_format_string '%(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=logging_default_format_string
2013-07-25 00:54:55 + local 'value=%(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m'
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT logging_default_format_string
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=logging_default_format_string
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^logging_default_format_string[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 logging_default_format_string = %(asctime)s.%(msecs)03d %(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT logging_debug_format_suffix '[00;33mfrom (pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d[00m'
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=logging_debug_format_suffix
2013-07-25 00:54:55 + local 'value=[00;33mfrom (pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d[00m'
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT logging_debug_format_suffix
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=logging_debug_format_suffix
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^logging_debug_format_suffix[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 logging_debug_format_suffix = [00;33mfrom (pid=%(process)d) %(funcName)s %(pathname)s:%(lineno)d[00m
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + iniset /etc/nova/nova.conf DEFAULT logging_exception_prefix '%(color)s%(asctime)s.%(msecs)03d TRACE %(name)s [01;35m%(instance)s[00m'
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=logging_exception_prefix
2013-07-25 00:54:55 + local 'value=%(color)s%(asctime)s.%(msecs)03d TRACE %(name)s [01;35m%(instance)s[00m'
2013-07-25 00:54:55 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:54:55 + ini_has_option /etc/nova/nova.conf DEFAULT logging_exception_prefix
2013-07-25 00:54:55 + local file=/etc/nova/nova.conf
2013-07-25 00:54:55 + local section=DEFAULT
2013-07-25 00:54:55 + local option=logging_exception_prefix
2013-07-25 00:54:55 + local line
2013-07-25 00:54:55 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^logging_exception_prefix[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:54:55 + line=
2013-07-25 00:54:55 + '[' -n '' ']'
2013-07-25 00:54:55 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:54:55 logging_exception_prefix = %(color)s%(asctime)s.%(msecs)03d TRACE %(name)s [01;35m%(instance)s[00m
2013-07-25 00:54:55 ' /etc/nova/nova.conf
2013-07-25 00:54:55 + is_service_enabled ceilometer
2013-07-25 00:54:55 + services=ceilometer
2013-07-25 00:54:55 + for service in '${services}'
2013-07-25 00:54:55 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,ceilometer, ]]
2013-07-25 00:54:55 + [[ ceilometer == \n\o\v\a ]]
2013-07-25 00:54:55 + [[ ceilometer == \c\i\n\d\e\r ]]
2013-07-25 00:54:55 + [[ ceilometer == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:54:55 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ ceilometer- ]]
2013-07-25 00:54:55 + [[ ceilometer == \g\l\a\n\c\e ]]
2013-07-25 00:54:55 + [[ ceilometer == \q\u\a\n\t\u\m ]]
2013-07-25 00:54:55 + return 1
2013-07-25 00:54:55 + [[ -z '' ]]
2013-07-25 00:54:55 + [[ -n '' ]]
2013-07-25 00:54:55 + init_nova
2013-07-25 00:54:55 + is_service_enabled mysql postgresql
2013-07-25 00:54:55 + services='mysql postgresql'
2013-07-25 00:54:55 + for service in '${services}'
2013-07-25 00:54:55 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,mysql, ]]
2013-07-25 00:54:55 + return 0
2013-07-25 00:54:55 + is_service_enabled n-api
2013-07-25 00:54:55 + services=n-api
2013-07-25 00:54:55 + for service in '${services}'
2013-07-25 00:54:55 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-api, ]]
2013-07-25 00:54:55 + return 0
2013-07-25 00:54:55 + recreate_database nova latin1
2013-07-25 00:54:55 + local db=nova
2013-07-25 00:54:55 + local charset=latin1
2013-07-25 00:54:55 + recreate_database_mysql nova latin1
2013-07-25 00:54:55 + local db=nova
2013-07-25 00:54:55 + local charset=latin1
2013-07-25 00:54:55 + mysql -uroot -pf37ccdd1ded5c0dd33c9 -e 'DROP DATABASE IF EXISTS nova;'
2013-07-25 00:55:00 + mysql -uroot -pf37ccdd1ded5c0dd33c9 -e 'CREATE DATABASE nova CHARACTER SET latin1;'
2013-07-25 00:55:00 + /opt/stack/nova/bin/nova-manage db sync
2013-07-25 00:56:11 2013-07-25 00:56:11.947 [00;32mDEBUG nova.openstack.common.rpc [[00;36m-[00;32m] [01;35m[00;32mFROM CONF.rpc_backend (check file /etc/nova/nova.conf ==> rpc_backend) [00m [00;33mfrom (pid=25382) _get_impl /opt/stack/nova/nova/openstack/common/rpc/__init__.py:303[00m
2013-07-25 00:56:12 + is_baremetal
2013-07-25 00:56:12 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-25 00:56:12 + return 1
2013-07-25 00:56:12 + create_nova_cache_dir
2013-07-25 00:56:12 + sudo mkdir -p /var/cache/nova
2013-07-25 00:56:12 + sudo chown stack /var/cache/nova
2013-07-25 00:56:12 + rm -f /var/cache/nova/cacert.pem /var/cache/nova/revoked.pem /var/cache/nova/signing_cert.pem
2013-07-25 00:56:12 + create_nova_keys_dir
2013-07-25 00:56:12 + sudo mkdir -p /opt/stack/data/nova/keys
2013-07-25 00:56:12 + sudo chown -R stack /opt/stack/data/nova
2013-07-25 00:56:12 + is_service_enabled quantum
2013-07-25 00:56:12 + services=quantum
2013-07-25 00:56:12 + for service in '${services}'
2013-07-25 00:56:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-25 00:56:12 + [[ quantum == \n\o\v\a ]]
2013-07-25 00:56:12 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-25 00:56:12 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:12 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-25 00:56:12 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:12 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-25 00:56:12 + return 1
2013-07-25 00:56:12 + is_service_enabled n-net
2013-07-25 00:56:12 + services=n-net
2013-07-25 00:56:12 + for service in '${services}'
2013-07-25 00:56:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-net, ]]
2013-07-25 00:56:12 + return 0
2013-07-25 00:56:12 + create_nova_conf_nova_network
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT network_manager nova.network.manager.FlatDHCPManager
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=network_manager
2013-07-25 00:56:12 + local value=nova.network.manager.FlatDHCPManager
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT network_manager
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=network_manager
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^network_manager[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 network_manager = nova.network.manager.FlatDHCPManager
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT public_interface br100
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=public_interface
2013-07-25 00:56:12 + local value=br100
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT public_interface
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=public_interface
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^public_interface[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 public_interface = br100
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT vlan_interface eth0
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=vlan_interface
2013-07-25 00:56:12 + local value=eth0
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT vlan_interface
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=vlan_interface
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^vlan_interface[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 vlan_interface = eth0
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT flat_network_bridge br100
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=flat_network_bridge
2013-07-25 00:56:12 + local value=br100
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT flat_network_bridge
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=flat_network_bridge
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^flat_network_bridge[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 flat_network_bridge = br100
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + '[' -n eth0 ']'
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT flat_interface eth0
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=flat_interface
2013-07-25 00:56:12 + local value=eth0
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT flat_interface
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=flat_interface
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^flat_interface[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 flat_interface = eth0
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + is_service_enabled n-cpu
2013-07-25 00:56:12 + services=n-cpu
2013-07-25 00:56:12 + for service in '${services}'
2013-07-25 00:56:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-25 00:56:12 + return 0
2013-07-25 00:56:12 + NOVNCPROXY_URL=http://129.127.10.133:6080/vnc_auto.html
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT novncproxy_base_url http://129.127.10.133:6080/vnc_auto.html
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=novncproxy_base_url
2013-07-25 00:56:12 + local value=http://129.127.10.133:6080/vnc_auto.html
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT novncproxy_base_url
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=novncproxy_base_url
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^novncproxy_base_url[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 novncproxy_base_url = http://129.127.10.133:6080/vnc_auto.html
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + XVPVNCPROXY_URL=http://129.127.10.133:6081/console
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT xvpvncproxy_base_url http://129.127.10.133:6081/console
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=xvpvncproxy_base_url
2013-07-25 00:56:12 + local value=http://129.127.10.133:6081/console
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT xvpvncproxy_base_url
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=xvpvncproxy_base_url
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^xvpvncproxy_base_url[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 xvpvncproxy_base_url = http://129.127.10.133:6081/console
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + SPICEHTML5PROXY_URL=http://129.127.10.133:6082/spice_auto.html
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf spice html5proxy_base_url http://129.127.10.133:6082/spice_auto.html
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=spice
2013-07-25 00:56:12 + local option=html5proxy_base_url
2013-07-25 00:56:12 + local value=http://129.127.10.133:6082/spice_auto.html
2013-07-25 00:56:12 + grep -q '^\[spice\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + echo -e '\n[spice]'
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf spice html5proxy_base_url
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=spice
2013-07-25 00:56:12 + local option=html5proxy_base_url
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[spice\]/,/^\[.*\]/ { /^html5proxy_base_url[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[spice\]/ a\
2013-07-25 00:56:12 html5proxy_base_url = http://129.127.10.133:6082/spice_auto.html
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + '[' libvirt = xenserver ']'
2013-07-25 00:56:12 + VNCSERVER_PROXYCLIENT_ADDRESS=127.0.0.1
2013-07-25 00:56:12 + is_service_enabled n-novnc
2013-07-25 00:56:12 + services=n-novnc
2013-07-25 00:56:12 + for service in '${services}'
2013-07-25 00:56:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-novnc, ]]
2013-07-25 00:56:12 + return 0
2013-07-25 00:56:12 + VNCSERVER_LISTEN=127.0.0.1
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT vnc_enabled true
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=vnc_enabled
2013-07-25 00:56:12 + local value=true
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT vnc_enabled
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=vnc_enabled
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^vnc_enabled[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 vnc_enabled = true
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT vncserver_listen 127.0.0.1
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=vncserver_listen
2013-07-25 00:56:12 + local value=127.0.0.1
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT vncserver_listen
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=vncserver_listen
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^vncserver_listen[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 vncserver_listen = 127.0.0.1
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT vncserver_proxyclient_address 127.0.0.1
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=vncserver_proxyclient_address
2013-07-25 00:56:12 + local value=127.0.0.1
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT vncserver_proxyclient_address
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=vncserver_proxyclient_address
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^vncserver_proxyclient_address[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 vncserver_proxyclient_address = 127.0.0.1
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + is_service_enabled n-spice
2013-07-25 00:56:12 + services=n-spice
2013-07-25 00:56:12 + for service in '${services}'
2013-07-25 00:56:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-spice, ]]
2013-07-25 00:56:12 + [[ n-spice == \n\o\v\a ]]
2013-07-25 00:56:12 + [[ n-spice == \c\i\n\d\e\r ]]
2013-07-25 00:56:12 + [[ n-spice == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:12 + [[ n-spice == \g\l\a\n\c\e ]]
2013-07-25 00:56:12 + [[ n-spice == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:12 + return 1
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf spice enabled false
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=spice
2013-07-25 00:56:12 + local option=enabled
2013-07-25 00:56:12 + local value=false
2013-07-25 00:56:12 + grep -q '^\[spice\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf spice enabled
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=spice
2013-07-25 00:56:12 + local option=enabled
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[spice\]/,/^\[.*\]/ { /^enabled[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[spice\]/ a\
2013-07-25 00:56:12 enabled = false
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT ec2_dmz_host 129.127.10.133
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=ec2_dmz_host
2013-07-25 00:56:12 + local value=129.127.10.133
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT ec2_dmz_host
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=ec2_dmz_host
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^ec2_dmz_host[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 ec2_dmz_host = 129.127.10.133
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + iniset_rpc_backend nova /etc/nova/nova.conf DEFAULT
2013-07-25 00:56:12 + local package=nova
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + is_service_enabled zeromq
2013-07-25 00:56:12 + services=zeromq
2013-07-25 00:56:12 + for service in '${services}'
2013-07-25 00:56:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,zeromq, ]]
2013-07-25 00:56:12 + [[ zeromq == \n\o\v\a ]]
2013-07-25 00:56:12 + [[ zeromq == \c\i\n\d\e\r ]]
2013-07-25 00:56:12 + [[ zeromq == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:12 + [[ zeromq == \g\l\a\n\c\e ]]
2013-07-25 00:56:12 + [[ zeromq == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:12 + return 1
2013-07-25 00:56:12 + is_service_enabled qpid
2013-07-25 00:56:12 + services=qpid
2013-07-25 00:56:12 + for service in '${services}'
2013-07-25 00:56:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,qpid, ]]
2013-07-25 00:56:12 + [[ qpid == \n\o\v\a ]]
2013-07-25 00:56:12 + [[ qpid == \c\i\n\d\e\r ]]
2013-07-25 00:56:12 + [[ qpid == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:12 + [[ qpid == \g\l\a\n\c\e ]]
2013-07-25 00:56:12 + [[ qpid == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:12 + return 1
2013-07-25 00:56:12 + is_service_enabled rabbit
2013-07-25 00:56:12 + services=rabbit
2013-07-25 00:56:12 + for service in '${services}'
2013-07-25 00:56:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,rabbit, ]]
2013-07-25 00:56:12 + return 0
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT rpc_backend nova.openstack.common.rpc.impl_kombu
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=rpc_backend
2013-07-25 00:56:12 + local value=nova.openstack.common.rpc.impl_kombu
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT rpc_backend
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=rpc_backend
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rpc_backend[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 rpc_backend = nova.openstack.common.rpc.impl_kombu
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT rabbit_host localhost
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=rabbit_host
2013-07-25 00:56:12 + local value=localhost
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT rabbit_host
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=rabbit_host
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rabbit_host[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 rabbit_host = localhost
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT rabbit_password 25be6bc02b307784e519
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=rabbit_password
2013-07-25 00:56:12 + local value=25be6bc02b307784e519
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT rabbit_password
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=rabbit_password
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rabbit_password[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 rabbit_password = 25be6bc02b307784e519
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT glance_api_servers 129.127.10.133:9292
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=glance_api_servers
2013-07-25 00:56:12 + local value=129.127.10.133:9292
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT glance_api_servers
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=glance_api_servers
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^glance_api_servers[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 glance_api_servers = 129.127.10.133:9292
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + '[' libvirt = xenserver ']'
2013-07-25 00:56:12 + '[' libvirt = openvz ']'
2013-07-25 00:56:12 + '[' libvirt = baremetal ']'
2013-07-25 00:56:12 + echo_summary 'Using libvirt virtualization driver'
2013-07-25 00:56:12 + [[ -t 3 ]]
2013-07-25 00:56:12 + [[ True != \T\r\u\e ]]
2013-07-25 00:56:12 + echo -e Using libvirt virtualization driver
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT compute_driver libvirt.LibvirtDriver
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=compute_driver
2013-07-25 00:56:12 + local value=libvirt.LibvirtDriver
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 Using libvirt virtualization driver
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT compute_driver
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=compute_driver
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^compute_driver[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 compute_driver = libvirt.LibvirtDriver
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + LIBVIRT_FIREWALL_DRIVER=nova.virt.libvirt.firewall.IptablesFirewallDriver
2013-07-25 00:56:12 + iniset /etc/nova/nova.conf DEFAULT firewall_driver nova.virt.libvirt.firewall.IptablesFirewallDriver
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=firewall_driver
2013-07-25 00:56:12 + local value=nova.virt.libvirt.firewall.IptablesFirewallDriver
2013-07-25 00:56:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-25 00:56:12 + ini_has_option /etc/nova/nova.conf DEFAULT firewall_driver
2013-07-25 00:56:12 + local file=/etc/nova/nova.conf
2013-07-25 00:56:12 + local section=DEFAULT
2013-07-25 00:56:12 + local option=firewall_driver
2013-07-25 00:56:12 + local line
2013-07-25 00:56:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^firewall_driver[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-25 00:56:12 + line=
2013-07-25 00:56:12 + '[' -n '' ']'
2013-07-25 00:56:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-25 00:56:12 firewall_driver = nova.virt.libvirt.firewall.IptablesFirewallDriver
2013-07-25 00:56:12 ' /etc/nova/nova.conf
2013-07-25 00:56:12 + is_service_enabled nova
2013-07-25 00:56:12 + services=nova
2013-07-25 00:56:12 + for service in '${services}'
2013-07-25 00:56:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-25 00:56:12 + [[ nova == \n\o\v\a ]]
2013-07-25 00:56:12 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-25 00:56:12 + return 0
2013-07-25 00:56:12 + is_baremetal
2013-07-25 00:56:12 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-25 00:56:12 + return 1
2013-07-25 00:56:12 + is_service_enabled swift
2013-07-25 00:56:12 + services=swift
2013-07-25 00:56:12 + for service in '${services}'
2013-07-25 00:56:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,swift, ]]
2013-07-25 00:56:12 + [[ swift == \n\o\v\a ]]
2013-07-25 00:56:12 + [[ swift == \c\i\n\d\e\r ]]
2013-07-25 00:56:12 + [[ swift == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:12 + [[ swift == \g\l\a\n\c\e ]]
2013-07-25 00:56:12 + [[ swift == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:12 + return 1
2013-07-25 00:56:12 + is_service_enabled g-api g-reg
2013-07-25 00:56:12 + services='g-api g-reg'
2013-07-25 00:56:12 + for service in '${services}'
2013-07-25 00:56:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-api, ]]
2013-07-25 00:56:12 + return 0
2013-07-25 00:56:12 + echo_summary 'Starting Glance'
2013-07-25 00:56:12 + [[ -t 3 ]]
2013-07-25 00:56:12 + [[ True != \T\r\u\e ]]
2013-07-25 00:56:12 + echo -e Starting Glance
2013-07-25 00:56:12 + start_glance
2013-07-25 00:56:12 + screen_it g-reg 'cd /opt/stack/glance; /opt/stack/glance/bin/glance-registry --config-file=/etc/glance/glance-registry.conf'
2013-07-25 00:56:12 + SCREEN_NAME=stack
2013-07-25 00:56:12 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:12 Starting Glance
2013-07-25 00:56:12 ++ trueorfalse True True
2013-07-25 00:56:12 ++ local default=True
2013-07-25 00:56:12 ++ local testval=True
2013-07-25 00:56:12 ++ [[ -z True ]]
2013-07-25 00:56:12 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:12 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:12 ++ echo True
2013-07-25 00:56:12 ++ return
2013-07-25 00:56:12 + SCREEN_DEV=True
2013-07-25 00:56:12 + is_service_enabled g-reg
2013-07-25 00:56:12 + services=g-reg
2013-07-25 00:56:12 + for service in '${services}'
2013-07-25 00:56:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-reg, ]]
2013-07-25 00:56:12 + return 0
2013-07-25 00:56:12 + screen_rc g-reg 'cd /opt/stack/glance; /opt/stack/glance/bin/glance-registry --config-file=/etc/glance/glance-registry.conf'
2013-07-25 00:56:12 + SCREEN_NAME=stack
2013-07-25 00:56:12 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:12 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:12 + grep g-reg /home/stack/devstack/stack-screenrc
2013-07-25 00:56:12 ++ echo -ne '\015'
2013-07-25 00:56:12 + NL=$'\r'
2013-07-25 00:56:12 + echo 'screen -t g-reg bash'
2013-07-25 00:56:12 + echo 'stuff "cd /opt/stack/glance; /opt/stack/glance/bin/glance-registry --config-file=/etc/glance/glance-registry.conf"'
2013-07-25 00:56:12 + screen -S stack -X screen -t g-reg
2013-07-25 00:56:12 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:13 + screen -S stack -p g-reg -X logfile /home/stack/devstack/log/screen-g-reg.2013-07-25-005335.log
2013-07-25 00:56:13 + screen -S stack -p g-reg -X log on
2013-07-25 00:56:13 + ln -sf /home/stack/devstack/log/screen-g-reg.2013-07-25-005335.log /home/stack/devstack/log/screen-g-reg.log
2013-07-25 00:56:13 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:13 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:13 + echo /home/stack/devstack/log
2013-07-25 00:56:13 /home/stack/devstack/log
2013-07-25 00:56:13 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:13 + sleep 1.5
2013-07-25 00:56:13 ++ echo -ne '\015'
2013-07-25 00:56:13 + NL=$'\r'
2013-07-25 00:56:13 + screen -S stack -p g-reg -X stuff 'cd /opt/stack/glance; /opt/stack/glance/bin/glance-registry --config-file=/etc/glance/glance-registry.conf || touch "/opt/stack/status/stack/g-reg.failure"'
2013-07-25 00:56:13 + echo 'Getting out screen_it function. '
2013-07-25 00:56:13 Getting out screen_it function. 
2013-07-25 00:56:13 + screen_it g-api 'cd /opt/stack/glance; /opt/stack/glance/bin/glance-api --config-file=/etc/glance/glance-api.conf'
2013-07-25 00:56:13 + SCREEN_NAME=stack
2013-07-25 00:56:13 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:13 ++ trueorfalse True True
2013-07-25 00:56:13 ++ local default=True
2013-07-25 00:56:13 ++ local testval=True
2013-07-25 00:56:13 ++ [[ -z True ]]
2013-07-25 00:56:13 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:13 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:13 ++ echo True
2013-07-25 00:56:13 ++ return
2013-07-25 00:56:13 + SCREEN_DEV=True
2013-07-25 00:56:13 + is_service_enabled g-api
2013-07-25 00:56:13 + services=g-api
2013-07-25 00:56:13 + for service in '${services}'
2013-07-25 00:56:13 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-api, ]]
2013-07-25 00:56:13 + return 0
2013-07-25 00:56:13 + screen_rc g-api 'cd /opt/stack/glance; /opt/stack/glance/bin/glance-api --config-file=/etc/glance/glance-api.conf'
2013-07-25 00:56:13 + SCREEN_NAME=stack
2013-07-25 00:56:13 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:13 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:13 + grep g-api /home/stack/devstack/stack-screenrc
2013-07-25 00:56:13 ++ echo -ne '\015'
2013-07-25 00:56:13 + NL=$'\r'
2013-07-25 00:56:13 + echo 'screen -t g-api bash'
2013-07-25 00:56:13 + echo 'stuff "cd /opt/stack/glance; /opt/stack/glance/bin/glance-api --config-file=/etc/glance/glance-api.conf"'
2013-07-25 00:56:13 + screen -S stack -X screen -t g-api
2013-07-25 00:56:13 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:13 + screen -S stack -p g-api -X logfile /home/stack/devstack/log/screen-g-api.2013-07-25-005335.log
2013-07-25 00:56:13 + screen -S stack -p g-api -X log on
2013-07-25 00:56:13 + ln -sf /home/stack/devstack/log/screen-g-api.2013-07-25-005335.log /home/stack/devstack/log/screen-g-api.log
2013-07-25 00:56:13 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:13 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:13 + echo /home/stack/devstack/log
2013-07-25 00:56:13 /home/stack/devstack/log
2013-07-25 00:56:13 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:13 + sleep 1.5
2013-07-25 00:56:15 ++ echo -ne '\015'
2013-07-25 00:56:15 + NL=$'\r'
2013-07-25 00:56:15 + screen -S stack -p g-api -X stuff 'cd /opt/stack/glance; /opt/stack/glance/bin/glance-api --config-file=/etc/glance/glance-api.conf || touch "/opt/stack/status/stack/g-api.failure"'
2013-07-25 00:56:15 + echo 'Getting out screen_it function. '
2013-07-25 00:56:15 Getting out screen_it function. 
2013-07-25 00:56:15 + echo 'Waiting for g-api (129.127.10.133:9292) to start...'
2013-07-25 00:56:15 Waiting for g-api (129.127.10.133:9292) to start...
2013-07-25 00:56:15 + timeout 60 sh -c 'while ! http_proxy= wget -q -O- http://129.127.10.133:9292; do sleep 1; done'
2013-07-25 00:56:17 {"versions": [{"status": "CURRENT", "id": "v2.0", "links": [{"href": "http://129.127.10.133:9292/v2/", "rel": "self"}]}, {"status": "CURRENT", "id": "v1.1", "links": [{"href": "http://129.127.10.133:9292/v1/", "rel": "self"}]}, {"status": "SUPPORTED", "id": "v1.0", "links": [{"href": "http://129.127.10.133:9292/v1/", "rel": "self"}]}]}+ is_service_enabled key
2013-07-25 00:56:17 + services=key
2013-07-25 00:56:17 + for service in '${services}'
2013-07-25 00:56:17 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,key, ]]
2013-07-25 00:56:17 + return 0
2013-07-25 00:56:17 + is_service_enabled swift3
2013-07-25 00:56:17 + services=swift3
2013-07-25 00:56:17 + for service in '${services}'
2013-07-25 00:56:17 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,swift3, ]]
2013-07-25 00:56:17 + [[ swift3 == \n\o\v\a ]]
2013-07-25 00:56:17 + [[ swift3 == \c\i\n\d\e\r ]]
2013-07-25 00:56:17 + [[ swift3 == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:17 + [[ swift3 == \g\l\a\n\c\e ]]
2013-07-25 00:56:17 + [[ swift3 == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:17 + return 1
2013-07-25 00:56:17 + screen_it zeromq 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-rpc-zmq-receiver'
2013-07-25 00:56:17 + SCREEN_NAME=stack
2013-07-25 00:56:17 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:17 ++ trueorfalse True True
2013-07-25 00:56:17 ++ local default=True
2013-07-25 00:56:17 ++ local testval=True
2013-07-25 00:56:17 ++ [[ -z True ]]
2013-07-25 00:56:17 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:17 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:17 ++ echo True
2013-07-25 00:56:17 ++ return
2013-07-25 00:56:17 + SCREEN_DEV=True
2013-07-25 00:56:17 + is_service_enabled zeromq
2013-07-25 00:56:17 + services=zeromq
2013-07-25 00:56:17 + for service in '${services}'
2013-07-25 00:56:17 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,zeromq, ]]
2013-07-25 00:56:17 + [[ zeromq == \n\o\v\a ]]
2013-07-25 00:56:17 + [[ zeromq == \c\i\n\d\e\r ]]
2013-07-25 00:56:17 + [[ zeromq == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:17 + [[ zeromq == \g\l\a\n\c\e ]]
2013-07-25 00:56:17 + [[ zeromq == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:17 + return 1
2013-07-25 00:56:17 + echo 'Getting out screen_it function. '
2013-07-25 00:56:17 Getting out screen_it function. 
2013-07-25 00:56:17 + is_service_enabled n-api
2013-07-25 00:56:17 + services=n-api
2013-07-25 00:56:17 + for service in '${services}'
2013-07-25 00:56:17 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-api, ]]
2013-07-25 00:56:17 + return 0
2013-07-25 00:56:17 + echo_summary 'Starting Nova API'
2013-07-25 00:56:17 + [[ -t 3 ]]
2013-07-25 00:56:17 + [[ True != \T\r\u\e ]]
2013-07-25 00:56:17 + echo -e Starting Nova API
2013-07-25 00:56:17 + start_nova_api
2013-07-25 00:56:17 + local service_port=8774
2013-07-25 00:56:17 + is_service_enabled tls-proxy
2013-07-25 00:56:17 + services=tls-proxy
2013-07-25 00:56:17 + for service in '${services}'
2013-07-25 00:56:17 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-25 00:56:17 + [[ tls-proxy == \n\o\v\a ]]
2013-07-25 00:56:17 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-25 00:56:17 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:17 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-25 00:56:17 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:17 + return 1
2013-07-25 00:56:17 + screen_it n-api 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-api'
2013-07-25 00:56:17 + SCREEN_NAME=stack
2013-07-25 00:56:17 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:17 Starting Nova API
2013-07-25 00:56:17 ++ trueorfalse True True
2013-07-25 00:56:17 ++ local default=True
2013-07-25 00:56:17 ++ local testval=True
2013-07-25 00:56:17 ++ [[ -z True ]]
2013-07-25 00:56:17 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:17 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:17 ++ echo True
2013-07-25 00:56:17 ++ return
2013-07-25 00:56:17 + SCREEN_DEV=True
2013-07-25 00:56:17 + is_service_enabled n-api
2013-07-25 00:56:17 + services=n-api
2013-07-25 00:56:17 + for service in '${services}'
2013-07-25 00:56:17 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-api, ]]
2013-07-25 00:56:17 + return 0
2013-07-25 00:56:17 + screen_rc n-api 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-api'
2013-07-25 00:56:17 + SCREEN_NAME=stack
2013-07-25 00:56:17 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:17 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:17 + grep n-api /home/stack/devstack/stack-screenrc
2013-07-25 00:56:17 ++ echo -ne '\015'
2013-07-25 00:56:17 + NL=$'\r'
2013-07-25 00:56:17 + echo 'screen -t n-api bash'
2013-07-25 00:56:17 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-api"'
2013-07-25 00:56:17 + screen -S stack -X screen -t n-api
2013-07-25 00:56:17 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:17 + screen -S stack -p n-api -X logfile /home/stack/devstack/log/screen-n-api.2013-07-25-005335.log
2013-07-25 00:56:17 + screen -S stack -p n-api -X log on
2013-07-25 00:56:17 + ln -sf /home/stack/devstack/log/screen-n-api.2013-07-25-005335.log /home/stack/devstack/log/screen-n-api.log
2013-07-25 00:56:17 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:17 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:17 + echo /home/stack/devstack/log
2013-07-25 00:56:17 /home/stack/devstack/log
2013-07-25 00:56:17 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:17 + sleep 1.5
2013-07-25 00:56:18 ++ echo -ne '\015'
2013-07-25 00:56:18 + NL=$'\r'
2013-07-25 00:56:18 + screen -S stack -p n-api -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-api || touch "/opt/stack/status/stack/n-api.failure"'
2013-07-25 00:56:18 + echo 'Getting out screen_it function. '
2013-07-25 00:56:18 Getting out screen_it function. 
2013-07-25 00:56:18 + echo 'Waiting for nova-api to start...'
2013-07-25 00:56:18 Waiting for nova-api to start...
2013-07-25 00:56:18 + wait_for_service 60 http://129.127.10.133:8774
2013-07-25 00:56:18 + local timeout=60
2013-07-25 00:56:18 + local url=http://129.127.10.133:8774
2013-07-25 00:56:18 + timeout 60 sh -c 'while ! http_proxy= https_proxy= curl -s http://129.127.10.133:8774 >/dev/null; do sleep 1; done'
2013-07-25 00:56:20 + is_service_enabled tls-proxy
2013-07-25 00:56:20 + services=tls-proxy
2013-07-25 00:56:20 + for service in '${services}'
2013-07-25 00:56:20 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-25 00:56:20 + [[ tls-proxy == \n\o\v\a ]]
2013-07-25 00:56:20 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-25 00:56:20 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:20 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-25 00:56:20 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:20 + return 1
2013-07-25 00:56:20 + is_service_enabled q-svc
2013-07-25 00:56:20 + services=q-svc
2013-07-25 00:56:20 + for service in '${services}'
2013-07-25 00:56:20 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,q-svc, ]]
2013-07-25 00:56:20 + [[ q-svc == \n\o\v\a ]]
2013-07-25 00:56:20 + [[ q-svc == \c\i\n\d\e\r ]]
2013-07-25 00:56:20 + [[ q-svc == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:20 + [[ q-svc == \g\l\a\n\c\e ]]
2013-07-25 00:56:20 + [[ q-svc == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:20 + return 1
2013-07-25 00:56:20 + is_service_enabled mysql postgresql
2013-07-25 00:56:20 + services='mysql postgresql'
2013-07-25 00:56:20 + for service in '${services}'
2013-07-25 00:56:20 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,mysql, ]]
2013-07-25 00:56:20 + return 0
2013-07-25 00:56:20 + is_service_enabled n-net
2013-07-25 00:56:20 + services=n-net
2013-07-25 00:56:20 + for service in '${services}'
2013-07-25 00:56:20 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-net, ]]
2013-07-25 00:56:20 + return 0
2013-07-25 00:56:20 + /opt/stack/nova/bin/nova-manage network create private 10.0.0.0/24 1 256
2013-07-25 00:56:21 2013-07-25 00:56:21.393 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mIn importutils file import_class method  to import module::nova.network.manager.[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:31[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.394 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mExisting importutil file import_class method[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:33[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.394 [00;36mINFO nova.network.driver [[00;36m-[00;36m] [01;35m[00;36mDZ TestingLoading network driver 'nova.network.linux_net'[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.394 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mIn importutils file import_class method  to import module::nova.network.noop_dns_driver.[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:31[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.394 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mExisting importutil file import_class method[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:33[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.395 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mIn importutils file import_class method  to import module::nova.network.noop_dns_driver.[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:31[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.395 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mExisting importutil file import_class method[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:33[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.395 [00;32mDEBUG nova.network.api [[00;36m-[00;32m] [01;35m[00;32mWITHIN network/api.py class API __init__ method:: to initialize network_rpcapi.NetworkAPI().[00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/network/api.py:112[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.395 [00;32mDEBUG nova.network.api [[00;36m-[00;32m] [01;35m[00;32mFINISHED Create self.network_rpcapi within network/api.py class API __init__ method[00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/network/api.py:114[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.395 [00;32mDEBUG nova.db.base [[00;36m-[00;32m] [01;35m[00;32mWITHIN db.base.Base class __init__ to iport module db_driver::nova.db. JUST SET IN THIS CLASS. [00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/db/base.py:40[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.395 [00;32mDEBUG nova.servicegroup.api [[00;36m-[00;32m] [01;35m[00;32mServiceGroup driver defined as an instance of db[00m [00;33mfrom (pid=27253) __new__ /opt/stack/nova/nova/servicegroup/api.py:62[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.396 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mIn importutils file import_class method  to import module::nova.servicegroup.drivers.db.[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:31[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.396 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mExisting importutil file import_class method[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:33[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.397 [00;32mDEBUG nova.conductor [[00;36m-[00;32m] [01;35m[00;32min conductor.__init__py API method using LOCALAPI[00m [00;33mfrom (pid=27253) API /opt/stack/nova/nova/conductor/__init__.py:24[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.397 [00;32mDEBUG nova.openstack.common.plugin.pluginmanager [[00;36m-[00;32m] [01;35m[00;32min openstack.common.plugin.pluginmanager.__init__ method[00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/openstack/common/plugin/pluginmanager.py:52[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.397 [00;32mDEBUG nova.openstack.common.plugin.pluginmanager [[00;36m-[00;32m] [01;35m[00;32min pluginmanager.PluginManager.load_plugin method()[00m [00;33mfrom (pid=27253) load_plugins /opt/stack/nova/nova/openstack/common/plugin/pluginmanager.py:59[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.416 [00;32mDEBUG nova.openstack.common.plugin.pluginmanager [[00;36m-[00;32m] [01;35m[00;32mTO EXIT pluginmanager.PluginManager.load_plugin method()[00m [00;33mfrom (pid=27253) load_plugins /opt/stack/nova/nova/openstack/common/plugin/pluginmanager.py:75[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.416 [00;32mDEBUG nova.manager [[00;36m-[00;32m] [01;35m[00;32min nova.manager __init__ method  to call super(Manager,self).__init__(db_driver::name:: None)[00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/manager.py:203[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.416 [00;32mDEBUG nova.db.base [[00;36m-[00;32m] [01;35m[00;32mWITHIN db.base.Base class __init__ to iport module db_driver::nova.db. JUST SET IN THIS CLASS. [00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/db/base.py:40[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.416 [00;32mDEBUG nova.manager [[00;36m-[00;32m] [01;35m[00;32mExisting nova.manager __init__ method  to call super(Manager,self).__init__(db_driver)[00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/manager.py:205[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.416 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mIn importutils file import_class method  to import module::nova.api.openstack.compute.contrib.security_groups.[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:31[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.474 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mExisting importutil file import_class method[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:33[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.474 [00;32mDEBUG nova.db.base [[00;36m-[00;32m] [01;35m[00;32mWITHIN db.base.Base class __init__ to iport module db_driver::nova.db. JUST SET IN THIS CLASS. [00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/db/base.py:40[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.475 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mIn importutils file import_class method  to import module::nova.network.sg.[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:31[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.475 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mExisting importutil file import_class method[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:33[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.475 [00;32mDEBUG nova.servicegroup.api [[00;36m-[00;32m] [01;35m[00;32min servicgroup.api class API __new__ after import driver_class[00m [00;33mfrom (pid=27253) __new__ /opt/stack/nova/nova/servicegroup/api.py:70[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.476 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mIn importutils file import_class method  to import module::nova.network.noop_dns_driver.[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:31[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.476 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mExisting importutil file import_class method[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:33[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.476 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mIn importutils file import_class method  to import module::nova.network.noop_dns_driver.[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:31[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.476 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mExisting importutil file import_class method[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:33[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.476 [00;32mDEBUG nova.network.api [[00;36m-[00;32m] [01;35m[00;32mTO CAll super(API, self).__init__() method. [00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/network/api.py:119[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.477 [00;32mDEBUG nova.db.base [[00;36m-[00;32m] [01;35m[00;32mWITHIN db.base.Base class __init__ to iport module db_driver::nova.db. JUST SET IN THIS CLASS. [00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/db/base.py:40[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.477 [00;32mDEBUG nova.network.api [[00;36m-[00;32m] [01;35m[00;32mFINISHED CALLING super(API, self).__init__() method. [00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/network/api.py:121[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.477 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mIn importutils file import_class method  to import module::nova.api.openstack.compute.contrib.security_groups.[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:31[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.477 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mExisting importutil file import_class method[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:33[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.477 [00;32mDEBUG nova.db.base [[00;36m-[00;32m] [01;35m[00;32mWITHIN db.base.Base class __init__ to iport module db_driver::nova.db. JUST SET IN THIS CLASS. [00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/db/base.py:40[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.478 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mIn importutils file import_class method  to import module::nova.network.sg.[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:31[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.478 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mExisting importutil file import_class method[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:33[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.478 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mIn importutils file import_class method  to import module::nova.network.l3.[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:31[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.479 [00;32mDEBUG nova.openstack.common.importutils [[00;36m-[00;32m] [01;35m[00;32mExisting importutil file import_class method[00m [00;33mfrom (pid=27253) import_class /opt/stack/nova/nova/openstack/common/importutils.py:33[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.479 [00;32mDEBUG nova.openstack.common.plugin.pluginmanager [[00;36m-[00;32m] [01;35m[00;32min openstack.common.plugin.pluginmanager.__init__ method[00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/openstack/common/plugin/pluginmanager.py:52[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.479 [00;32mDEBUG nova.openstack.common.plugin.pluginmanager [[00;36m-[00;32m] [01;35m[00;32min pluginmanager.PluginManager.load_plugin method()[00m [00;33mfrom (pid=27253) load_plugins /opt/stack/nova/nova/openstack/common/plugin/pluginmanager.py:59[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.480 [00;32mDEBUG nova.openstack.common.plugin.pluginmanager [[00;36m-[00;32m] [01;35m[00;32mTO EXIT pluginmanager.PluginManager.load_plugin method()[00m [00;33mfrom (pid=27253) load_plugins /opt/stack/nova/nova/openstack/common/plugin/pluginmanager.py:75[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.480 [00;32mDEBUG nova.manager [[00;36m-[00;32m] [01;35m[00;32min nova.manager __init__ method  to call super(Manager,self).__init__(db_driver::name:: None)[00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/manager.py:203[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.480 [00;32mDEBUG nova.db.base [[00;36m-[00;32m] [01;35m[00;32mWITHIN db.base.Base class __init__ to iport module db_driver::nova.db. JUST SET IN THIS CLASS. [00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/db/base.py:40[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.480 [00;32mDEBUG nova.manager [[00;36m-[00;32m] [01;35m[00;32mExisting nova.manager __init__ method  to call super(Manager,self).__init__(db_driver)[00m [00;33mfrom (pid=27253) __init__ /opt/stack/nova/nova/manager.py:205[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.480 [01;33mWARNING nova.context [[00;36m-[01;33m] [01;35m[01;33mIn nova.context module get_admin_context method: to return RequestContext object. [00m
2013-07-25 00:56:21 2013-07-25 00:56:21.480 [01;33mWARNING nova.context [[00;36m-[01;33m] [01;35m[01;33mIn the RequestContext class __init__ method[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.481 [01;33mWARNING nova.context [[01;36mreq-b0ba81db-bebf-4aae-afc7-017e46a2d246 [00;36mNone None[01;33m] [01;35m[01;33mExiting the RequestContext class __init__ method[00m
2013-07-25 00:56:21 2013-07-25 00:56:21.481 [00;32mDEBUG nova.openstack.common.lockutils [[01;36mreq-b0ba81db-bebf-4aae-afc7-017e46a2d246 [00;36mNone None[00;32m] [01;35m[00;32mGot semaphore "dbapi_backend" for method "__get_backend"...[00m [00;33mfrom (pid=27253) inner /opt/stack/nova/nova/openstack/common/lockutils.py:185[00m
2013-07-25 00:56:22 2013-07-25 00:56:22.162 [00;32mDEBUG nova.openstack.common.rpc [[00;36m-[00;32m] [01;35m[00;32mFROM CONF.rpc_backend (check file /etc/nova/nova.conf ==> rpc_backend) [00m [00;33mfrom (pid=27253) _get_impl /opt/stack/nova/nova/openstack/common/rpc/__init__.py:303[00m
2013-07-25 00:56:22 + /opt/stack/nova/bin/nova-manage floating create 172.24.4.224/28 --pool=nova
2013-07-25 00:56:22 2013-07-25 00:56:22.727 [01;33mWARNING nova.context [[00;36m-[01;33m] [01;35m[01;33mIn nova.context module get_admin_context method: to return RequestContext object. [00m
2013-07-25 00:56:22 2013-07-25 00:56:22.728 [01;33mWARNING nova.context [[00;36m-[01;33m] [01;35m[01;33mIn the RequestContext class __init__ method[00m
2013-07-25 00:56:22 2013-07-25 00:56:22.728 [01;33mWARNING nova.context [[01;36mreq-6ad49c10-1a4f-4610-bea7-ba96877cc2a9 [00;36mNone None[01;33m] [01;35m[01;33mExiting the RequestContext class __init__ method[00m
2013-07-25 00:56:22 2013-07-25 00:56:22.728 [00;32mDEBUG nova.openstack.common.lockutils [[01;36mreq-6ad49c10-1a4f-4610-bea7-ba96877cc2a9 [00;36mNone None[00;32m] [01;35m[00;32mGot semaphore "dbapi_backend" for method "__get_backend"...[00m [00;33mfrom (pid=27423) inner /opt/stack/nova/nova/openstack/common/lockutils.py:185[00m
2013-07-25 00:56:23 2013-07-25 00:56:23.104 [00;32mDEBUG nova.openstack.common.rpc [[00;36m-[00;32m] [01;35m[00;32mFROM CONF.rpc_backend (check file /etc/nova/nova.conf ==> rpc_backend) [00m [00;33mfrom (pid=27423) _get_impl /opt/stack/nova/nova/openstack/common/rpc/__init__.py:303[00m
2013-07-25 00:56:23 + /opt/stack/nova/bin/nova-manage floating create --ip_range=192.168.253.0/29 --pool=test
2013-07-25 00:56:23 2013-07-25 00:56:23.746 [01;33mWARNING nova.context [[00;36m-[01;33m] [01;35m[01;33mIn nova.context module get_admin_context method: to return RequestContext object. [00m
2013-07-25 00:56:23 2013-07-25 00:56:23.746 [01;33mWARNING nova.context [[00;36m-[01;33m] [01;35m[01;33mIn the RequestContext class __init__ method[00m
2013-07-25 00:56:23 2013-07-25 00:56:23.746 [01;33mWARNING nova.context [[01;36mreq-a8eca0f6-f67b-46f2-8b43-166903d2651e [00;36mNone None[01;33m] [01;35m[01;33mExiting the RequestContext class __init__ method[00m
2013-07-25 00:56:23 2013-07-25 00:56:23.747 [00;32mDEBUG nova.openstack.common.lockutils [[01;36mreq-a8eca0f6-f67b-46f2-8b43-166903d2651e [00;36mNone None[00;32m] [01;35m[00;32mGot semaphore "dbapi_backend" for method "__get_backend"...[00m [00;33mfrom (pid=27441) inner /opt/stack/nova/nova/openstack/common/lockutils.py:185[00m
2013-07-25 00:56:24 2013-07-25 00:56:24.123 [00;32mDEBUG nova.openstack.common.rpc [[00;36m-[00;32m] [01;35m[00;32mFROM CONF.rpc_backend (check file /etc/nova/nova.conf ==> rpc_backend) [00m [00;33mfrom (pid=27441) _get_impl /opt/stack/nova/nova/openstack/common/rpc/__init__.py:303[00m
2013-07-25 00:56:24 + is_service_enabled quantum
2013-07-25 00:56:24 + services=quantum
2013-07-25 00:56:24 + for service in '${services}'
2013-07-25 00:56:24 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-25 00:56:24 + [[ quantum == \n\o\v\a ]]
2013-07-25 00:56:24 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-25 00:56:24 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:24 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-25 00:56:24 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:24 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-25 00:56:24 + return 1
2013-07-25 00:56:24 + is_service_enabled nova
2013-07-25 00:56:24 + services=nova
2013-07-25 00:56:24 + for service in '${services}'
2013-07-25 00:56:24 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-25 00:56:24 + [[ nova == \n\o\v\a ]]
2013-07-25 00:56:24 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-25 00:56:24 + return 0
2013-07-25 00:56:24 + echo_summary 'Starting Nova'
2013-07-25 00:56:24 + [[ -t 3 ]]
2013-07-25 00:56:24 + [[ True != \T\r\u\e ]]
2013-07-25 00:56:24 + echo -e Starting Nova
2013-07-25 00:56:24 + start_nova
2013-07-25 00:56:24 + screen_it n-cond 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-conductor'
2013-07-25 00:56:24 + SCREEN_NAME=stack
2013-07-25 00:56:24 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:24 Starting Nova
2013-07-25 00:56:24 ++ trueorfalse True True
2013-07-25 00:56:24 ++ local default=True
2013-07-25 00:56:24 ++ local testval=True
2013-07-25 00:56:24 ++ [[ -z True ]]
2013-07-25 00:56:24 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:24 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:24 ++ echo True
2013-07-25 00:56:24 ++ return
2013-07-25 00:56:24 + SCREEN_DEV=True
2013-07-25 00:56:24 + is_service_enabled n-cond
2013-07-25 00:56:24 + services=n-cond
2013-07-25 00:56:24 + for service in '${services}'
2013-07-25 00:56:24 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cond, ]]
2013-07-25 00:56:24 + return 0
2013-07-25 00:56:24 + screen_rc n-cond 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-conductor'
2013-07-25 00:56:24 + SCREEN_NAME=stack
2013-07-25 00:56:24 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:24 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:24 + grep n-cond /home/stack/devstack/stack-screenrc
2013-07-25 00:56:24 ++ echo -ne '\015'
2013-07-25 00:56:24 + NL=$'\r'
2013-07-25 00:56:24 + echo 'screen -t n-cond bash'
2013-07-25 00:56:24 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-conductor"'
2013-07-25 00:56:24 + screen -S stack -X screen -t n-cond
2013-07-25 00:56:24 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:24 + screen -S stack -p n-cond -X logfile /home/stack/devstack/log/screen-n-cond.2013-07-25-005335.log
2013-07-25 00:56:24 + screen -S stack -p n-cond -X log on
2013-07-25 00:56:24 + ln -sf /home/stack/devstack/log/screen-n-cond.2013-07-25-005335.log /home/stack/devstack/log/screen-n-cond.log
2013-07-25 00:56:24 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:24 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:24 + echo /home/stack/devstack/log
2013-07-25 00:56:24 /home/stack/devstack/log
2013-07-25 00:56:24 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:24 + sleep 1.5
2013-07-25 00:56:25 ++ echo -ne '\015'
2013-07-25 00:56:25 + NL=$'\r'
2013-07-25 00:56:25 + screen -S stack -p n-cond -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-conductor || touch "/opt/stack/status/stack/n-cond.failure"'
2013-07-25 00:56:25 + echo 'Getting out screen_it function. '
2013-07-25 00:56:25 Getting out screen_it function. 
2013-07-25 00:56:25 + screen_it n-cpu 'cd /opt/stack/nova && sg libvirtd /opt/stack/nova/bin/nova-compute'
2013-07-25 00:56:25 + SCREEN_NAME=stack
2013-07-25 00:56:25 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:25 ++ trueorfalse True True
2013-07-25 00:56:25 ++ local default=True
2013-07-25 00:56:25 ++ local testval=True
2013-07-25 00:56:25 ++ [[ -z True ]]
2013-07-25 00:56:25 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:25 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:25 ++ echo True
2013-07-25 00:56:25 ++ return
2013-07-25 00:56:25 + SCREEN_DEV=True
2013-07-25 00:56:25 + is_service_enabled n-cpu
2013-07-25 00:56:25 + services=n-cpu
2013-07-25 00:56:25 + for service in '${services}'
2013-07-25 00:56:25 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-25 00:56:25 + return 0
2013-07-25 00:56:25 + screen_rc n-cpu 'cd /opt/stack/nova && sg libvirtd /opt/stack/nova/bin/nova-compute'
2013-07-25 00:56:25 + SCREEN_NAME=stack
2013-07-25 00:56:25 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:25 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:25 + grep n-cpu /home/stack/devstack/stack-screenrc
2013-07-25 00:56:25 ++ echo -ne '\015'
2013-07-25 00:56:25 + NL=$'\r'
2013-07-25 00:56:25 + echo 'screen -t n-cpu bash'
2013-07-25 00:56:25 + echo 'stuff "cd /opt/stack/nova && sg libvirtd /opt/stack/nova/bin/nova-compute"'
2013-07-25 00:56:25 + screen -S stack -X screen -t n-cpu
2013-07-25 00:56:25 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:25 + screen -S stack -p n-cpu -X logfile /home/stack/devstack/log/screen-n-cpu.2013-07-25-005335.log
2013-07-25 00:56:25 + screen -S stack -p n-cpu -X log on
2013-07-25 00:56:25 + ln -sf /home/stack/devstack/log/screen-n-cpu.2013-07-25-005335.log /home/stack/devstack/log/screen-n-cpu.log
2013-07-25 00:56:25 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:25 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:25 + echo /home/stack/devstack/log
2013-07-25 00:56:25 /home/stack/devstack/log
2013-07-25 00:56:25 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:25 + sleep 1.5
2013-07-25 00:56:27 ++ echo -ne '\015'
2013-07-25 00:56:27 + NL=$'\r'
2013-07-25 00:56:27 + screen -S stack -p n-cpu -X stuff 'cd /opt/stack/nova && sg libvirtd /opt/stack/nova/bin/nova-compute || touch "/opt/stack/status/stack/n-cpu.failure"'
2013-07-25 00:56:27 + echo 'Getting out screen_it function. '
2013-07-25 00:56:27 Getting out screen_it function. 
2013-07-25 00:56:27 + screen_it n-crt 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-cert'
2013-07-25 00:56:27 + SCREEN_NAME=stack
2013-07-25 00:56:27 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:27 ++ trueorfalse True True
2013-07-25 00:56:27 ++ local default=True
2013-07-25 00:56:27 ++ local testval=True
2013-07-25 00:56:27 ++ [[ -z True ]]
2013-07-25 00:56:27 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:27 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:27 ++ echo True
2013-07-25 00:56:27 ++ return
2013-07-25 00:56:27 + SCREEN_DEV=True
2013-07-25 00:56:27 + is_service_enabled n-crt
2013-07-25 00:56:27 + services=n-crt
2013-07-25 00:56:27 + for service in '${services}'
2013-07-25 00:56:27 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-crt, ]]
2013-07-25 00:56:27 + return 0
2013-07-25 00:56:27 + screen_rc n-crt 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-cert'
2013-07-25 00:56:27 + SCREEN_NAME=stack
2013-07-25 00:56:27 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:27 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:27 + grep n-crt /home/stack/devstack/stack-screenrc
2013-07-25 00:56:27 ++ echo -ne '\015'
2013-07-25 00:56:27 + NL=$'\r'
2013-07-25 00:56:27 + echo 'screen -t n-crt bash'
2013-07-25 00:56:27 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-cert"'
2013-07-25 00:56:27 + screen -S stack -X screen -t n-crt
2013-07-25 00:56:27 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:27 + screen -S stack -p n-crt -X logfile /home/stack/devstack/log/screen-n-crt.2013-07-25-005335.log
2013-07-25 00:56:27 + screen -S stack -p n-crt -X log on
2013-07-25 00:56:27 + ln -sf /home/stack/devstack/log/screen-n-crt.2013-07-25-005335.log /home/stack/devstack/log/screen-n-crt.log
2013-07-25 00:56:27 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:27 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:27 + echo /home/stack/devstack/log
2013-07-25 00:56:27 /home/stack/devstack/log
2013-07-25 00:56:27 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:27 + sleep 1.5
2013-07-25 00:56:28 ++ echo -ne '\015'
2013-07-25 00:56:28 + NL=$'\r'
2013-07-25 00:56:28 + screen -S stack -p n-crt -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-cert || touch "/opt/stack/status/stack/n-crt.failure"'
2013-07-25 00:56:28 + echo 'Getting out screen_it function. '
2013-07-25 00:56:28 Getting out screen_it function. 
2013-07-25 00:56:28 + screen_it n-net 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-network'
2013-07-25 00:56:28 + SCREEN_NAME=stack
2013-07-25 00:56:28 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:28 ++ trueorfalse True True
2013-07-25 00:56:28 ++ local default=True
2013-07-25 00:56:28 ++ local testval=True
2013-07-25 00:56:28 ++ [[ -z True ]]
2013-07-25 00:56:28 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:28 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:28 ++ echo True
2013-07-25 00:56:28 ++ return
2013-07-25 00:56:28 + SCREEN_DEV=True
2013-07-25 00:56:28 + is_service_enabled n-net
2013-07-25 00:56:28 + services=n-net
2013-07-25 00:56:28 + for service in '${services}'
2013-07-25 00:56:28 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-net, ]]
2013-07-25 00:56:28 + return 0
2013-07-25 00:56:28 + screen_rc n-net 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-network'
2013-07-25 00:56:28 + SCREEN_NAME=stack
2013-07-25 00:56:28 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:28 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:28 + grep n-net /home/stack/devstack/stack-screenrc
2013-07-25 00:56:28 ++ echo -ne '\015'
2013-07-25 00:56:28 + NL=$'\r'
2013-07-25 00:56:28 + echo 'screen -t n-net bash'
2013-07-25 00:56:28 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-network"'
2013-07-25 00:56:28 + screen -S stack -X screen -t n-net
2013-07-25 00:56:28 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:28 + screen -S stack -p n-net -X logfile /home/stack/devstack/log/screen-n-net.2013-07-25-005335.log
2013-07-25 00:56:28 + screen -S stack -p n-net -X log on
2013-07-25 00:56:28 + ln -sf /home/stack/devstack/log/screen-n-net.2013-07-25-005335.log /home/stack/devstack/log/screen-n-net.log
2013-07-25 00:56:28 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:28 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:28 + echo /home/stack/devstack/log
2013-07-25 00:56:28 /home/stack/devstack/log
2013-07-25 00:56:28 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:28 + sleep 1.5
2013-07-25 00:56:30 ++ echo -ne '\015'
2013-07-25 00:56:30 + NL=$'\r'
2013-07-25 00:56:30 + screen -S stack -p n-net -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-network || touch "/opt/stack/status/stack/n-net.failure"'
2013-07-25 00:56:30 + echo 'Getting out screen_it function. '
2013-07-25 00:56:30 Getting out screen_it function. 
2013-07-25 00:56:30 + screen_it n-sch 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-scheduler'
2013-07-25 00:56:30 + SCREEN_NAME=stack
2013-07-25 00:56:30 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:30 ++ trueorfalse True True
2013-07-25 00:56:30 ++ local default=True
2013-07-25 00:56:30 ++ local testval=True
2013-07-25 00:56:30 ++ [[ -z True ]]
2013-07-25 00:56:30 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:30 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:30 ++ echo True
2013-07-25 00:56:30 ++ return
2013-07-25 00:56:30 + SCREEN_DEV=True
2013-07-25 00:56:30 + is_service_enabled n-sch
2013-07-25 00:56:30 + services=n-sch
2013-07-25 00:56:30 + for service in '${services}'
2013-07-25 00:56:30 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-sch, ]]
2013-07-25 00:56:30 + return 0
2013-07-25 00:56:30 + screen_rc n-sch 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-scheduler'
2013-07-25 00:56:30 + SCREEN_NAME=stack
2013-07-25 00:56:30 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:30 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:30 + grep n-sch /home/stack/devstack/stack-screenrc
2013-07-25 00:56:30 ++ echo -ne '\015'
2013-07-25 00:56:30 + NL=$'\r'
2013-07-25 00:56:30 + echo 'screen -t n-sch bash'
2013-07-25 00:56:30 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-scheduler"'
2013-07-25 00:56:30 + screen -S stack -X screen -t n-sch
2013-07-25 00:56:30 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:30 + screen -S stack -p n-sch -X logfile /home/stack/devstack/log/screen-n-sch.2013-07-25-005335.log
2013-07-25 00:56:30 + screen -S stack -p n-sch -X log on
2013-07-25 00:56:30 + ln -sf /home/stack/devstack/log/screen-n-sch.2013-07-25-005335.log /home/stack/devstack/log/screen-n-sch.log
2013-07-25 00:56:30 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:30 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:30 + echo /home/stack/devstack/log
2013-07-25 00:56:30 /home/stack/devstack/log
2013-07-25 00:56:30 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:30 + sleep 1.5
2013-07-25 00:56:31 ++ echo -ne '\015'
2013-07-25 00:56:31 + NL=$'\r'
2013-07-25 00:56:31 + screen -S stack -p n-sch -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-scheduler || touch "/opt/stack/status/stack/n-sch.failure"'
2013-07-25 00:56:31 + echo 'Getting out screen_it function. '
2013-07-25 00:56:31 Getting out screen_it function. 
2013-07-25 00:56:31 + screen_it n-novnc 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-novncproxy --config-file /etc/nova/nova.conf --web /opt/stack/noVNC'
2013-07-25 00:56:31 + SCREEN_NAME=stack
2013-07-25 00:56:31 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:31 ++ trueorfalse True True
2013-07-25 00:56:31 ++ local default=True
2013-07-25 00:56:31 ++ local testval=True
2013-07-25 00:56:31 ++ [[ -z True ]]
2013-07-25 00:56:31 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:31 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:31 ++ echo True
2013-07-25 00:56:31 ++ return
2013-07-25 00:56:31 + SCREEN_DEV=True
2013-07-25 00:56:31 + is_service_enabled n-novnc
2013-07-25 00:56:31 + services=n-novnc
2013-07-25 00:56:31 + for service in '${services}'
2013-07-25 00:56:31 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-novnc, ]]
2013-07-25 00:56:31 + return 0
2013-07-25 00:56:31 + screen_rc n-novnc 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-novncproxy --config-file /etc/nova/nova.conf --web /opt/stack/noVNC'
2013-07-25 00:56:31 + SCREEN_NAME=stack
2013-07-25 00:56:31 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:31 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:31 + grep n-novnc /home/stack/devstack/stack-screenrc
2013-07-25 00:56:31 ++ echo -ne '\015'
2013-07-25 00:56:31 + NL=$'\r'
2013-07-25 00:56:31 + echo 'screen -t n-novnc bash'
2013-07-25 00:56:31 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-novncproxy --config-file /etc/nova/nova.conf --web /opt/stack/noVNC"'
2013-07-25 00:56:31 + screen -S stack -X screen -t n-novnc
2013-07-25 00:56:31 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:31 + screen -S stack -p n-novnc -X logfile /home/stack/devstack/log/screen-n-novnc.2013-07-25-005335.log
2013-07-25 00:56:32 + screen -S stack -p n-novnc -X log on
2013-07-25 00:56:32 + ln -sf /home/stack/devstack/log/screen-n-novnc.2013-07-25-005335.log /home/stack/devstack/log/screen-n-novnc.log
2013-07-25 00:56:32 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:32 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:32 + echo /home/stack/devstack/log
2013-07-25 00:56:32 /home/stack/devstack/log
2013-07-25 00:56:32 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:32 + sleep 1.5
2013-07-25 00:56:33 ++ echo -ne '\015'
2013-07-25 00:56:33 + NL=$'\r'
2013-07-25 00:56:33 + screen -S stack -p n-novnc -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-novncproxy --config-file /etc/nova/nova.conf --web /opt/stack/noVNC || touch "/opt/stack/status/stack/n-novnc.failure"'
2013-07-25 00:56:33 + echo 'Getting out screen_it function. '
2013-07-25 00:56:33 Getting out screen_it function. 
2013-07-25 00:56:33 + screen_it n-xvnc 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-xvpvncproxy --config-file /etc/nova/nova.conf'
2013-07-25 00:56:33 + SCREEN_NAME=stack
2013-07-25 00:56:33 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:33 ++ trueorfalse True True
2013-07-25 00:56:33 ++ local default=True
2013-07-25 00:56:33 ++ local testval=True
2013-07-25 00:56:33 ++ [[ -z True ]]
2013-07-25 00:56:33 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:33 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:33 ++ echo True
2013-07-25 00:56:33 ++ return
2013-07-25 00:56:33 + SCREEN_DEV=True
2013-07-25 00:56:33 + is_service_enabled n-xvnc
2013-07-25 00:56:33 + services=n-xvnc
2013-07-25 00:56:33 + for service in '${services}'
2013-07-25 00:56:33 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-xvnc, ]]
2013-07-25 00:56:33 + return 0
2013-07-25 00:56:33 + screen_rc n-xvnc 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-xvpvncproxy --config-file /etc/nova/nova.conf'
2013-07-25 00:56:33 + SCREEN_NAME=stack
2013-07-25 00:56:33 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:33 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:33 + grep n-xvnc /home/stack/devstack/stack-screenrc
2013-07-25 00:56:33 ++ echo -ne '\015'
2013-07-25 00:56:33 + NL=$'\r'
2013-07-25 00:56:33 + echo 'screen -t n-xvnc bash'
2013-07-25 00:56:33 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-xvpvncproxy --config-file /etc/nova/nova.conf"'
2013-07-25 00:56:33 + screen -S stack -X screen -t n-xvnc
2013-07-25 00:56:33 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:33 + screen -S stack -p n-xvnc -X logfile /home/stack/devstack/log/screen-n-xvnc.2013-07-25-005335.log
2013-07-25 00:56:33 + screen -S stack -p n-xvnc -X log on
2013-07-25 00:56:33 + ln -sf /home/stack/devstack/log/screen-n-xvnc.2013-07-25-005335.log /home/stack/devstack/log/screen-n-xvnc.log
2013-07-25 00:56:33 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:33 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:33 + echo /home/stack/devstack/log
2013-07-25 00:56:33 /home/stack/devstack/log
2013-07-25 00:56:33 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:33 + sleep 1.5
2013-07-25 00:56:34 ++ echo -ne '\015'
2013-07-25 00:56:34 + NL=$'\r'
2013-07-25 00:56:34 + screen -S stack -p n-xvnc -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-xvpvncproxy --config-file /etc/nova/nova.conf || touch "/opt/stack/status/stack/n-xvnc.failure"'
2013-07-25 00:56:34 + echo 'Getting out screen_it function. '
2013-07-25 00:56:34 Getting out screen_it function. 
2013-07-25 00:56:34 + screen_it n-spice 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-spicehtml5proxy --config-file /etc/nova/nova.conf --web /opt/stack/spice-html5'
2013-07-25 00:56:34 + SCREEN_NAME=stack
2013-07-25 00:56:34 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:34 ++ trueorfalse True True
2013-07-25 00:56:34 ++ local default=True
2013-07-25 00:56:34 ++ local testval=True
2013-07-25 00:56:35 ++ [[ -z True ]]
2013-07-25 00:56:35 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:35 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:35 ++ echo True
2013-07-25 00:56:35 ++ return
2013-07-25 00:56:35 + SCREEN_DEV=True
2013-07-25 00:56:35 + is_service_enabled n-spice
2013-07-25 00:56:35 + services=n-spice
2013-07-25 00:56:35 + for service in '${services}'
2013-07-25 00:56:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-spice, ]]
2013-07-25 00:56:35 + [[ n-spice == \n\o\v\a ]]
2013-07-25 00:56:35 + [[ n-spice == \c\i\n\d\e\r ]]
2013-07-25 00:56:35 + [[ n-spice == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:35 + [[ n-spice == \g\l\a\n\c\e ]]
2013-07-25 00:56:35 + [[ n-spice == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:35 + return 1
2013-07-25 00:56:35 + echo 'Getting out screen_it function. '
2013-07-25 00:56:35 Getting out screen_it function. 
2013-07-25 00:56:35 + screen_it n-cauth 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-consoleauth'
2013-07-25 00:56:35 + SCREEN_NAME=stack
2013-07-25 00:56:35 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:35 ++ trueorfalse True True
2013-07-25 00:56:35 ++ local default=True
2013-07-25 00:56:35 ++ local testval=True
2013-07-25 00:56:35 ++ [[ -z True ]]
2013-07-25 00:56:35 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:35 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:35 ++ echo True
2013-07-25 00:56:35 ++ return
2013-07-25 00:56:35 + SCREEN_DEV=True
2013-07-25 00:56:35 + is_service_enabled n-cauth
2013-07-25 00:56:35 + services=n-cauth
2013-07-25 00:56:35 + for service in '${services}'
2013-07-25 00:56:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cauth, ]]
2013-07-25 00:56:35 + return 0
2013-07-25 00:56:35 + screen_rc n-cauth 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-consoleauth'
2013-07-25 00:56:35 + SCREEN_NAME=stack
2013-07-25 00:56:35 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:35 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:35 + grep n-cauth /home/stack/devstack/stack-screenrc
2013-07-25 00:56:35 ++ echo -ne '\015'
2013-07-25 00:56:35 + NL=$'\r'
2013-07-25 00:56:35 + echo 'screen -t n-cauth bash'
2013-07-25 00:56:35 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-consoleauth"'
2013-07-25 00:56:35 + screen -S stack -X screen -t n-cauth
2013-07-25 00:56:35 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:35 + screen -S stack -p n-cauth -X logfile /home/stack/devstack/log/screen-n-cauth.2013-07-25-005335.log
2013-07-25 00:56:35 + screen -S stack -p n-cauth -X log on
2013-07-25 00:56:35 + ln -sf /home/stack/devstack/log/screen-n-cauth.2013-07-25-005335.log /home/stack/devstack/log/screen-n-cauth.log
2013-07-25 00:56:35 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:35 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:35 + echo /home/stack/devstack/log
2013-07-25 00:56:35 /home/stack/devstack/log
2013-07-25 00:56:35 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:35 + sleep 1.5
2013-07-25 00:56:36 ++ echo -ne '\015'
2013-07-25 00:56:36 + NL=$'\r'
2013-07-25 00:56:36 + screen -S stack -p n-cauth -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-consoleauth || touch "/opt/stack/status/stack/n-cauth.failure"'
2013-07-25 00:56:36 + echo 'Getting out screen_it function. '
2013-07-25 00:56:36 Getting out screen_it function. 
2013-07-25 00:56:36 + is_service_enabled cinder
2013-07-25 00:56:36 + services=cinder
2013-07-25 00:56:36 + for service in '${services}'
2013-07-25 00:56:36 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,cinder, ]]
2013-07-25 00:56:36 + return 0
2013-07-25 00:56:36 + echo_summary 'Starting Cinder'
2013-07-25 00:56:36 + [[ -t 3 ]]
2013-07-25 00:56:36 + [[ True != \T\r\u\e ]]
2013-07-25 00:56:36 + echo -e Starting Cinder
2013-07-25 00:56:36 + start_cinder
2013-07-25 00:56:36 + is_service_enabled c-vol
2013-07-25 00:56:36 + services=c-vol
2013-07-25 00:56:36 + for service in '${services}'
2013-07-25 00:56:36 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-vol, ]]
2013-07-25 00:56:36 + return 0
2013-07-25 00:56:36 + _configure_tgt_for_config_d
2013-07-25 00:56:36 + [[ ! -d /etc/tgt/conf.d/ ]]
2013-07-25 00:56:36 + [[ ! -f /etc/tgt/conf.d/stack.conf ]]
2013-07-25 00:56:36 + is_ubuntu
2013-07-25 00:56:36 + [[ -z deb ]]
2013-07-25 00:56:36 + '[' deb = deb ']'
2013-07-25 00:56:36 + sudo stop tgt
2013-07-25 00:56:36 Starting Cinder
2013-07-25 00:56:36 stop: Unknown instance: 
2013-07-25 00:56:36 + true
2013-07-25 00:56:36 + sudo start tgt
2013-07-25 00:56:36 tgt start/running, process 28806
2013-07-25 00:56:36 + screen_it c-api 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-api --config-file /etc/cinder/cinder.conf'
2013-07-25 00:56:36 + SCREEN_NAME=stack
2013-07-25 00:56:36 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:36 ++ trueorfalse True True
2013-07-25 00:56:36 ++ local default=True
2013-07-25 00:56:36 ++ local testval=True
2013-07-25 00:56:36 ++ [[ -z True ]]
2013-07-25 00:56:36 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:36 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:36 ++ echo True
2013-07-25 00:56:36 ++ return
2013-07-25 00:56:36 + SCREEN_DEV=True
2013-07-25 00:56:36 + is_service_enabled c-api
2013-07-25 00:56:36 + services=c-api
2013-07-25 00:56:36 + for service in '${services}'
2013-07-25 00:56:36 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-api, ]]
2013-07-25 00:56:36 + return 0
2013-07-25 00:56:36 + screen_rc c-api 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-api --config-file /etc/cinder/cinder.conf'
2013-07-25 00:56:36 + SCREEN_NAME=stack
2013-07-25 00:56:36 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:36 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:36 + grep c-api /home/stack/devstack/stack-screenrc
2013-07-25 00:56:36 ++ echo -ne '\015'
2013-07-25 00:56:36 + NL=$'\r'
2013-07-25 00:56:36 + echo 'screen -t c-api bash'
2013-07-25 00:56:36 + echo 'stuff "cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-api --config-file /etc/cinder/cinder.conf"'
2013-07-25 00:56:36 + screen -S stack -X screen -t c-api
2013-07-25 00:56:36 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:36 + screen -S stack -p c-api -X logfile /home/stack/devstack/log/screen-c-api.2013-07-25-005335.log
2013-07-25 00:56:36 + screen -S stack -p c-api -X log on
2013-07-25 00:56:36 + ln -sf /home/stack/devstack/log/screen-c-api.2013-07-25-005335.log /home/stack/devstack/log/screen-c-api.log
2013-07-25 00:56:36 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:36 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:36 + echo /home/stack/devstack/log
2013-07-25 00:56:36 /home/stack/devstack/log
2013-07-25 00:56:36 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:36 + sleep 1.5
2013-07-25 00:56:38 ++ echo -ne '\015'
2013-07-25 00:56:38 + NL=$'\r'
2013-07-25 00:56:38 + screen -S stack -p c-api -X stuff 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-api --config-file /etc/cinder/cinder.conf || touch "/opt/stack/status/stack/c-api.failure"'
2013-07-25 00:56:38 + echo 'Getting out screen_it function. '
2013-07-25 00:56:38 Getting out screen_it function. 
2013-07-25 00:56:38 + screen_it c-vol 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-volume --config-file /etc/cinder/cinder.conf'
2013-07-25 00:56:38 + SCREEN_NAME=stack
2013-07-25 00:56:38 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:38 ++ trueorfalse True True
2013-07-25 00:56:38 ++ local default=True
2013-07-25 00:56:38 ++ local testval=True
2013-07-25 00:56:38 ++ [[ -z True ]]
2013-07-25 00:56:38 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:38 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:38 ++ echo True
2013-07-25 00:56:38 ++ return
2013-07-25 00:56:38 + SCREEN_DEV=True
2013-07-25 00:56:38 + is_service_enabled c-vol
2013-07-25 00:56:38 + services=c-vol
2013-07-25 00:56:38 + for service in '${services}'
2013-07-25 00:56:38 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-vol, ]]
2013-07-25 00:56:38 + return 0
2013-07-25 00:56:38 + screen_rc c-vol 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-volume --config-file /etc/cinder/cinder.conf'
2013-07-25 00:56:38 + SCREEN_NAME=stack
2013-07-25 00:56:38 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:38 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:38 + grep c-vol /home/stack/devstack/stack-screenrc
2013-07-25 00:56:38 ++ echo -ne '\015'
2013-07-25 00:56:38 + NL=$'\r'
2013-07-25 00:56:38 + echo 'screen -t c-vol bash'
2013-07-25 00:56:38 + echo 'stuff "cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-volume --config-file /etc/cinder/cinder.conf"'
2013-07-25 00:56:38 + screen -S stack -X screen -t c-vol
2013-07-25 00:56:38 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:38 + screen -S stack -p c-vol -X logfile /home/stack/devstack/log/screen-c-vol.2013-07-25-005335.log
2013-07-25 00:56:38 + screen -S stack -p c-vol -X log on
2013-07-25 00:56:38 + ln -sf /home/stack/devstack/log/screen-c-vol.2013-07-25-005335.log /home/stack/devstack/log/screen-c-vol.log
2013-07-25 00:56:38 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:38 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:38 + echo /home/stack/devstack/log
2013-07-25 00:56:38 /home/stack/devstack/log
2013-07-25 00:56:38 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:38 + sleep 1.5
2013-07-25 00:56:39 ++ echo -ne '\015'
2013-07-25 00:56:39 + NL=$'\r'
2013-07-25 00:56:39 + screen -S stack -p c-vol -X stuff 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-volume --config-file /etc/cinder/cinder.conf || touch "/opt/stack/status/stack/c-vol.failure"'
2013-07-25 00:56:39 + echo 'Getting out screen_it function. '
2013-07-25 00:56:39 Getting out screen_it function. 
2013-07-25 00:56:39 + screen_it c-sch 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf'
2013-07-25 00:56:39 + SCREEN_NAME=stack
2013-07-25 00:56:39 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:39 ++ trueorfalse True True
2013-07-25 00:56:39 ++ local default=True
2013-07-25 00:56:39 ++ local testval=True
2013-07-25 00:56:39 ++ [[ -z True ]]
2013-07-25 00:56:39 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:39 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:39 ++ echo True
2013-07-25 00:56:39 ++ return
2013-07-25 00:56:39 + SCREEN_DEV=True
2013-07-25 00:56:39 + is_service_enabled c-sch
2013-07-25 00:56:39 + services=c-sch
2013-07-25 00:56:39 + for service in '${services}'
2013-07-25 00:56:39 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-sch, ]]
2013-07-25 00:56:39 + return 0
2013-07-25 00:56:39 + screen_rc c-sch 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf'
2013-07-25 00:56:39 + SCREEN_NAME=stack
2013-07-25 00:56:39 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:39 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:39 + grep c-sch /home/stack/devstack/stack-screenrc
2013-07-25 00:56:39 ++ echo -ne '\015'
2013-07-25 00:56:39 + NL=$'\r'
2013-07-25 00:56:39 + echo 'screen -t c-sch bash'
2013-07-25 00:56:39 + echo 'stuff "cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf"'
2013-07-25 00:56:39 + screen -S stack -X screen -t c-sch
2013-07-25 00:56:39 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:39 + screen -S stack -p c-sch -X logfile /home/stack/devstack/log/screen-c-sch.2013-07-25-005335.log
2013-07-25 00:56:39 + screen -S stack -p c-sch -X log on
2013-07-25 00:56:39 + ln -sf /home/stack/devstack/log/screen-c-sch.2013-07-25-005335.log /home/stack/devstack/log/screen-c-sch.log
2013-07-25 00:56:39 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:39 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:39 + echo /home/stack/devstack/log
2013-07-25 00:56:39 /home/stack/devstack/log
2013-07-25 00:56:39 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:39 + sleep 1.5
2013-07-25 00:56:41 ++ echo -ne '\015'
2013-07-25 00:56:41 + NL=$'\r'
2013-07-25 00:56:41 + screen -S stack -p c-sch -X stuff 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf || touch "/opt/stack/status/stack/c-sch.failure"'
2013-07-25 00:56:41 + echo 'Getting out screen_it function. '
2013-07-25 00:56:41 Getting out screen_it function. 
2013-07-25 00:56:41 + screen_it c-bak 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-backup --config-file /etc/cinder/cinder.conf'
2013-07-25 00:56:41 + SCREEN_NAME=stack
2013-07-25 00:56:41 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:41 ++ trueorfalse True True
2013-07-25 00:56:41 ++ local default=True
2013-07-25 00:56:41 ++ local testval=True
2013-07-25 00:56:41 ++ [[ -z True ]]
2013-07-25 00:56:41 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:41 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:41 ++ echo True
2013-07-25 00:56:41 ++ return
2013-07-25 00:56:41 + SCREEN_DEV=True
2013-07-25 00:56:41 + is_service_enabled c-bak
2013-07-25 00:56:41 + services=c-bak
2013-07-25 00:56:41 + for service in '${services}'
2013-07-25 00:56:41 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-bak, ]]
2013-07-25 00:56:41 + [[ c-bak == \n\o\v\a ]]
2013-07-25 00:56:41 + [[ c-bak == \c\i\n\d\e\r ]]
2013-07-25 00:56:41 + [[ c-bak == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:41 + [[ c-bak == \g\l\a\n\c\e ]]
2013-07-25 00:56:41 + [[ c-bak == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:41 + return 1
2013-07-25 00:56:41 + echo 'Getting out screen_it function. '
2013-07-25 00:56:41 Getting out screen_it function. 
2013-07-25 00:56:41 + is_service_enabled c-api
2013-07-25 00:56:41 + services=c-api
2013-07-25 00:56:41 + for service in '${services}'
2013-07-25 00:56:41 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-api, ]]
2013-07-25 00:56:41 + return 0
2013-07-25 00:56:41 + is_service_enabled tls-proxy
2013-07-25 00:56:41 + services=tls-proxy
2013-07-25 00:56:41 + for service in '${services}'
2013-07-25 00:56:41 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-25 00:56:41 + [[ tls-proxy == \n\o\v\a ]]
2013-07-25 00:56:41 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-25 00:56:41 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:41 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-25 00:56:41 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:41 + return 1
2013-07-25 00:56:41 + is_service_enabled ceilometer
2013-07-25 00:56:41 + services=ceilometer
2013-07-25 00:56:41 + for service in '${services}'
2013-07-25 00:56:41 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,ceilometer, ]]
2013-07-25 00:56:41 + [[ ceilometer == \n\o\v\a ]]
2013-07-25 00:56:41 + [[ ceilometer == \c\i\n\d\e\r ]]
2013-07-25 00:56:41 + [[ ceilometer == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:41 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ ceilometer- ]]
2013-07-25 00:56:41 + [[ ceilometer == \g\l\a\n\c\e ]]
2013-07-25 00:56:41 + [[ ceilometer == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:41 + return 1
2013-07-25 00:56:41 + is_service_enabled swift3
2013-07-25 00:56:41 + services=swift3
2013-07-25 00:56:41 + for service in '${services}'
2013-07-25 00:56:41 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,swift3, ]]
2013-07-25 00:56:41 + [[ swift3 == \n\o\v\a ]]
2013-07-25 00:56:41 + [[ swift3 == \c\i\n\d\e\r ]]
2013-07-25 00:56:41 + [[ swift3 == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:41 + [[ swift3 == \g\l\a\n\c\e ]]
2013-07-25 00:56:41 + [[ swift3 == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:41 + return 1
2013-07-25 00:56:41 + screen_it n-obj 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-objectstore'
2013-07-25 00:56:41 + SCREEN_NAME=stack
2013-07-25 00:56:41 + SERVICE_DIR=/opt/stack/status
2013-07-25 00:56:41 ++ trueorfalse True True
2013-07-25 00:56:41 ++ local default=True
2013-07-25 00:56:41 ++ local testval=True
2013-07-25 00:56:41 ++ [[ -z True ]]
2013-07-25 00:56:41 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-25 00:56:41 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-25 00:56:41 ++ echo True
2013-07-25 00:56:41 ++ return
2013-07-25 00:56:41 + SCREEN_DEV=True
2013-07-25 00:56:41 + is_service_enabled n-obj
2013-07-25 00:56:41 + services=n-obj
2013-07-25 00:56:41 + for service in '${services}'
2013-07-25 00:56:41 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-obj, ]]
2013-07-25 00:56:41 + return 0
2013-07-25 00:56:41 + screen_rc n-obj 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-objectstore'
2013-07-25 00:56:41 + SCREEN_NAME=stack
2013-07-25 00:56:41 + SCREENRC=/home/stack/devstack/stack-screenrc
2013-07-25 00:56:41 + [[ ! -e /home/stack/devstack/stack-screenrc ]]
2013-07-25 00:56:41 + grep n-obj /home/stack/devstack/stack-screenrc
2013-07-25 00:56:41 ++ echo -ne '\015'
2013-07-25 00:56:41 + NL=$'\r'
2013-07-25 00:56:41 + echo 'screen -t n-obj bash'
2013-07-25 00:56:41 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-objectstore"'
2013-07-25 00:56:41 + screen -S stack -X screen -t n-obj
2013-07-25 00:56:41 + [[ -n /home/stack/devstack/log ]]
2013-07-25 00:56:41 + screen -S stack -p n-obj -X logfile /home/stack/devstack/log/screen-n-obj.2013-07-25-005335.log
2013-07-25 00:56:41 + screen -S stack -p n-obj -X log on
2013-07-25 00:56:41 + ln -sf /home/stack/devstack/log/screen-n-obj.2013-07-25-005335.log /home/stack/devstack/log/screen-n-obj.log
2013-07-25 00:56:41 + echo 'WITHIN screen_it, and SCREEN_LOGDIR is: '
2013-07-25 00:56:41 WITHIN screen_it, and SCREEN_LOGDIR is: 
2013-07-25 00:56:41 + echo /home/stack/devstack/log
2013-07-25 00:56:41 /home/stack/devstack/log
2013-07-25 00:56:41 + [[ True = \T\r\u\e ]]
2013-07-25 00:56:41 + sleep 1.5
2013-07-25 00:56:42 ++ echo -ne '\015'
2013-07-25 00:56:42 + NL=$'\r'
2013-07-25 00:56:42 + screen -S stack -p n-obj -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-objectstore || touch "/opt/stack/status/stack/n-obj.failure"'
2013-07-25 00:56:42 + echo 'Getting out screen_it function. '
2013-07-25 00:56:42 Getting out screen_it function. 
2013-07-25 00:56:42 + is_service_enabled heat
2013-07-25 00:56:42 + services=heat
2013-07-25 00:56:42 + for service in '${services}'
2013-07-25 00:56:42 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,heat, ]]
2013-07-25 00:56:42 + [[ heat == \n\o\v\a ]]
2013-07-25 00:56:42 + [[ heat == \c\i\n\d\e\r ]]
2013-07-25 00:56:42 + [[ heat == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 00:56:42 + [[ heat == \g\l\a\n\c\e ]]
2013-07-25 00:56:42 + [[ heat == \q\u\a\n\t\u\m ]]
2013-07-25 00:56:42 + return 1
2013-07-25 00:56:42 + is_service_enabled nova
2013-07-25 00:56:42 + services=nova
2013-07-25 00:56:42 + for service in '${services}'
2013-07-25 00:56:42 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-25 00:56:42 + [[ nova == \n\o\v\a ]]
2013-07-25 00:56:42 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-25 00:56:42 + return 0
2013-07-25 00:56:42 + is_service_enabled key
2013-07-25 00:56:42 + services=key
2013-07-25 00:56:42 + for service in '${services}'
2013-07-25 00:56:42 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,key, ]]
2013-07-25 00:56:42 + return 0
2013-07-25 00:56:42 + /home/stack/devstack/tools/create_userrc.sh -PA --target-dir /home/stack/devstack/accrc
2013-07-25 00:57:46 ERROR: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-9b4d7ec3-971f-43e6-b6c1-6f68e7f93a58)
2013-07-25 00:57:46 Failed to update the root certificate: /home/stack/devstack/accrc/cacert.pem
2013-07-25 00:57:49 +-----------+----------------------------------+
2013-07-25 00:57:49 |  Property |              Value               |
2013-07-25 00:57:49 +-----------+----------------------------------+
2013-07-25 00:57:49 |   access  | d79beaa18de048a69524e0af4ca13d40 |
2013-07-25 00:57:49 |   secret  | fc5407b7753e4f4abc5048fd44ddff43 |
2013-07-25 00:57:49 | tenant_id | 1b0c79562b4148d19f14225ed52f5117 |
2013-07-25 00:57:49 |  user_id  | 7edd6c1967154b1f9affdea8188a7830 |
2013-07-25 00:57:49 +-----------+----------------------------------+
2013-07-25 00:58:51 ERROR: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-bca7cd09-e616-461e-aabd-5663acb1c223)
2013-07-25 00:58:53 +-----------+----------------------------------+
2013-07-25 00:58:53 |  Property |              Value               |
2013-07-25 00:58:53 +-----------+----------------------------------+
2013-07-25 00:58:53 |   access  | 4a55e6fe4bc643fc91056b58041c4f20 |
2013-07-25 00:58:53 |   secret  | aee76c8b45e64177ba59bcb3b0011bef |
2013-07-25 00:58:53 | tenant_id | e52c51bc719145e8a6d3d8e52df1d00d |
2013-07-25 00:58:53 |  user_id  | 52535f8ec6454ebeae5b973eb99d8f0c |
2013-07-25 00:58:53 +-----------+----------------------------------+
2013-07-25 00:59:55 ERROR: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-437ed821-6a50-4e0d-826f-fa52e1d45b7a)
2013-07-25 00:59:57 +-----------+----------------------------------+
2013-07-25 00:59:57 |  Property |              Value               |
2013-07-25 00:59:57 +-----------+----------------------------------+
2013-07-25 00:59:57 |   access  | b8ba0cf5794d4e6084084062ece50468 |
2013-07-25 00:59:57 |   secret  | a68e217bed6e474fb7bc06c93ebba01a |
2013-07-25 00:59:57 | tenant_id | 51b943db79ff4914b7a4d4d2539cc9e9 |
2013-07-25 00:59:57 |  user_id  | 7edd6c1967154b1f9affdea8188a7830 |
2013-07-25 00:59:57 +-----------+----------------------------------+
2013-07-25 01:00:59 ERROR: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-2889599c-f6ea-4f4d-b52e-94fc732620ff)
2013-07-25 01:01:01 +-----------+----------------------------------+
2013-07-25 01:01:01 |  Property |              Value               |
2013-07-25 01:01:01 +-----------+----------------------------------+
2013-07-25 01:01:01 |   access  | 917229983de1483c88e4b3440482e43b |
2013-07-25 01:01:01 |   secret  | 0c86c60f50fd491db6eadf31f0aa5549 |
2013-07-25 01:01:01 | tenant_id | 51b943db79ff4914b7a4d4d2539cc9e9 |
2013-07-25 01:01:01 |  user_id  | dcede3efcda14725988c811cc73ad685 |
2013-07-25 01:01:01 +-----------+----------------------------------+
2013-07-25 01:02:03 ERROR: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-230e95ef-6ad2-4065-8945-645b0cdff4ee)
2013-07-25 01:02:05 +-----------+----------------------------------+
2013-07-25 01:02:05 |  Property |              Value               |
2013-07-25 01:02:05 +-----------+----------------------------------+
2013-07-25 01:02:05 |   access  | 358bb170982c467bbb38570a26fa6e2f |
2013-07-25 01:02:05 |   secret  | 4153a1025e18492aae67df0662b4c3d0 |
2013-07-25 01:02:05 | tenant_id | 859eb21205d5467aa1106612698ea25d |
2013-07-25 01:02:05 |  user_id  | dcede3efcda14725988c811cc73ad685 |
2013-07-25 01:02:05 +-----------+----------------------------------+
2013-07-25 01:03:07 ERROR: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-93d14539-df7f-4028-b927-55e1ad431ae1)
2013-07-25 01:03:07 + is_service_enabled g-reg
2013-07-25 01:03:07 + services=g-reg
2013-07-25 01:03:07 + for service in '${services}'
2013-07-25 01:03:07 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-reg, ]]
2013-07-25 01:03:07 + return 0
2013-07-25 01:03:07 ++ keystone token-get
2013-07-25 01:03:07 ++ grep ' id '
2013-07-25 01:03:07 ++ get_field 2
2013-07-25 01:03:07 ++ read data
2013-07-25 01:03:08 ++ '[' 2 -lt 0 ']'
2013-07-25 01:03:08 ++ field='$3'
2013-07-25 01:03:08 ++ echo '|     id    | MIIKewYJKoZIhvcNAQcCoIIKbDCCCmgCAQExCTAHBgUrDgMCGjCCCVQGCSqGSIb3DQEHAaCCCUUEgglBeyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0yNFQxNTozMzowNy45NjUzMjciLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTI1VDE1OjMzOjA3WiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImVuYWJsZWQiOiB0cnVlLCAiZGVzY3JpcHRpb24iOiBudWxsLCAibmFtZSI6ICJhZG1pbiIsICJpZCI6ICIxYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTciLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3NC92Mi8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJpZCI6ICIxZWQwMTkzMzZkYzA0YzhmODc5NmM3NTdjYzhiYmZmNCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTcifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzozMzMzIiwgImlkIjogIjE5OTg4YzM1N2YzNjQ5OGE5ZmU1NWFmZTIyMGQ4Y2Y1IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIiLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6OTI5MiIsICJpZCI6ICI4ZGU3YTEyYzI1NTk0OTE4OTU5ZjdmMzI5NzE1NzIyZCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4Nzc2L3YxLzFiMGM3OTU2MmI0MTQ4ZDE5ZjE0MjI1ZWQ1MmY1MTE3IiwgImlkIjogIjFhNjk5ZmRkNGJkZjRhYmRhNDRhMzU5ZTM2NjQzZGMwIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9BZG1pbiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4NzczL3NlcnZpY2VzL0Nsb3VkIiwgImlkIjogIjI0NzA2N2ZjNTNmNjQ5Yzk5Y2M0YWE2ZjViY2Q3Y2Q0IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzUzNTcvdjIuMCIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAiLCAiaWQiOiAiMmJmYWNmNjUwOGQ2NGU3MzgwMzUyZjIxYmYwMTFiMjEiLCAicHVibGljVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI3ZWRkNmMxOTY3MTU0YjFmOWFmZmRlYTgxODhhNzgzMCIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjQ1M2VhZThiNjM1MjRlMDU5MWNiMDRlZDIyNjhjNzhjIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGAJAkeGKquBxF2KkDWVEiwDtEflYG82U51a88NaBSILynkrpu4BoDIF8g02wMWcNbKw0T-ERvdat7TTbXKAYghKjUGKgR1F9rIK6OpW7Ux1p1Nnr3PmgxF7yiaxB-WAGio8n2mPt-qosdQbcD6rThxsWVl+Qi7B3aRk-TM-4j3+JI= |'
2013-07-25 01:03:08 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 01:03:08 ++ read data
2013-07-25 01:03:08 + TOKEN=MIIKewYJKoZIhvcNAQcCoIIKbDCCCmgCAQExCTAHBgUrDgMCGjCCCVQGCSqGSIb3DQEHAaCCCUUEgglBeyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0yNFQxNTozMzowNy45NjUzMjciLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTI1VDE1OjMzOjA3WiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImVuYWJsZWQiOiB0cnVlLCAiZGVzY3JpcHRpb24iOiBudWxsLCAibmFtZSI6ICJhZG1pbiIsICJpZCI6ICIxYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTciLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3NC92Mi8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJpZCI6ICIxZWQwMTkzMzZkYzA0YzhmODc5NmM3NTdjYzhiYmZmNCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTcifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzozMzMzIiwgImlkIjogIjE5OTg4YzM1N2YzNjQ5OGE5ZmU1NWFmZTIyMGQ4Y2Y1IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIiLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6OTI5MiIsICJpZCI6ICI4ZGU3YTEyYzI1NTk0OTE4OTU5ZjdmMzI5NzE1NzIyZCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4Nzc2L3YxLzFiMGM3OTU2MmI0MTQ4ZDE5ZjE0MjI1ZWQ1MmY1MTE3IiwgImlkIjogIjFhNjk5ZmRkNGJkZjRhYmRhNDRhMzU5ZTM2NjQzZGMwIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9BZG1pbiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4NzczL3NlcnZpY2VzL0Nsb3VkIiwgImlkIjogIjI0NzA2N2ZjNTNmNjQ5Yzk5Y2M0YWE2ZjViY2Q3Y2Q0IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzUzNTcvdjIuMCIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAiLCAiaWQiOiAiMmJmYWNmNjUwOGQ2NGU3MzgwMzUyZjIxYmYwMTFiMjEiLCAicHVibGljVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI3ZWRkNmMxOTY3MTU0YjFmOWFmZmRlYTgxODhhNzgzMCIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjQ1M2VhZThiNjM1MjRlMDU5MWNiMDRlZDIyNjhjNzhjIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGAJAkeGKquBxF2KkDWVEiwDtEflYG82U51a88NaBSILynkrpu4BoDIF8g02wMWcNbKw0T-ERvdat7TTbXKAYghKjUGKgR1F9rIK6OpW7Ux1p1Nnr3PmgxF7yiaxB-WAGio8n2mPt-qosdQbcD6rThxsWVl+Qi7B3aRk-TM-4j3+JI=
2013-07-25 01:03:08 + is_baremetal
2013-07-25 01:03:08 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-25 01:03:08 + return 1
2013-07-25 01:03:08 + echo_summary 'Uploading images'
2013-07-25 01:03:08 + [[ -t 3 ]]
2013-07-25 01:03:08 + [[ True != \T\r\u\e ]]
2013-07-25 01:03:08 + echo -e Uploading images
2013-07-25 01:03:08 + [[ -n '' ]]
2013-07-25 01:03:08 + for image_url in '${IMAGE_URLS//,/ }'
2013-07-25 01:03:08 Uploading images
2013-07-25 01:03:08 + upload_image http://download.cirros-cloud.net/0.3.1/cirros-0.3.1-x86_64-uec.tar.gz MIIKewYJKoZIhvcNAQcCoIIKbDCCCmgCAQExCTAHBgUrDgMCGjCCCVQGCSqGSIb3DQEHAaCCCUUEgglBeyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0yNFQxNTozMzowNy45NjUzMjciLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTI1VDE1OjMzOjA3WiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImVuYWJsZWQiOiB0cnVlLCAiZGVzY3JpcHRpb24iOiBudWxsLCAibmFtZSI6ICJhZG1pbiIsICJpZCI6ICIxYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTciLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3NC92Mi8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJpZCI6ICIxZWQwMTkzMzZkYzA0YzhmODc5NmM3NTdjYzhiYmZmNCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTcifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzozMzMzIiwgImlkIjogIjE5OTg4YzM1N2YzNjQ5OGE5ZmU1NWFmZTIyMGQ4Y2Y1IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIiLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6OTI5MiIsICJpZCI6ICI4ZGU3YTEyYzI1NTk0OTE4OTU5ZjdmMzI5NzE1NzIyZCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4Nzc2L3YxLzFiMGM3OTU2MmI0MTQ4ZDE5ZjE0MjI1ZWQ1MmY1MTE3IiwgImlkIjogIjFhNjk5ZmRkNGJkZjRhYmRhNDRhMzU5ZTM2NjQzZGMwIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9BZG1pbiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4NzczL3NlcnZpY2VzL0Nsb3VkIiwgImlkIjogIjI0NzA2N2ZjNTNmNjQ5Yzk5Y2M0YWE2ZjViY2Q3Y2Q0IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzUzNTcvdjIuMCIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAiLCAiaWQiOiAiMmJmYWNmNjUwOGQ2NGU3MzgwMzUyZjIxYmYwMTFiMjEiLCAicHVibGljVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI3ZWRkNmMxOTY3MTU0YjFmOWFmZmRlYTgxODhhNzgzMCIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjQ1M2VhZThiNjM1MjRlMDU5MWNiMDRlZDIyNjhjNzhjIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGAJAkeGKquBxF2KkDWVEiwDtEflYG82U51a88NaBSILynkrpu4BoDIF8g02wMWcNbKw0T-ERvdat7TTbXKAYghKjUGKgR1F9rIK6OpW7Ux1p1Nnr3PmgxF7yiaxB-WAGio8n2mPt-qosdQbcD6rThxsWVl+Qi7B3aRk-TM-4j3+JI=
2013-07-25 01:03:08 + local image_url=http://download.cirros-cloud.net/0.3.1/cirros-0.3.1-x86_64-uec.tar.gz
2013-07-25 01:03:08 + local token=MIIKewYJKoZIhvcNAQcCoIIKbDCCCmgCAQExCTAHBgUrDgMCGjCCCVQGCSqGSIb3DQEHAaCCCUUEgglBeyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0yNFQxNTozMzowNy45NjUzMjciLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTI1VDE1OjMzOjA3WiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImVuYWJsZWQiOiB0cnVlLCAiZGVzY3JpcHRpb24iOiBudWxsLCAibmFtZSI6ICJhZG1pbiIsICJpZCI6ICIxYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTciLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3NC92Mi8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJpZCI6ICIxZWQwMTkzMzZkYzA0YzhmODc5NmM3NTdjYzhiYmZmNCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTcifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzozMzMzIiwgImlkIjogIjE5OTg4YzM1N2YzNjQ5OGE5ZmU1NWFmZTIyMGQ4Y2Y1IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIiLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6OTI5MiIsICJpZCI6ICI4ZGU3YTEyYzI1NTk0OTE4OTU5ZjdmMzI5NzE1NzIyZCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4Nzc2L3YxLzFiMGM3OTU2MmI0MTQ4ZDE5ZjE0MjI1ZWQ1MmY1MTE3IiwgImlkIjogIjFhNjk5ZmRkNGJkZjRhYmRhNDRhMzU5ZTM2NjQzZGMwIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9BZG1pbiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4NzczL3NlcnZpY2VzL0Nsb3VkIiwgImlkIjogIjI0NzA2N2ZjNTNmNjQ5Yzk5Y2M0YWE2ZjViY2Q3Y2Q0IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzUzNTcvdjIuMCIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAiLCAiaWQiOiAiMmJmYWNmNjUwOGQ2NGU3MzgwMzUyZjIxYmYwMTFiMjEiLCAicHVibGljVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI3ZWRkNmMxOTY3MTU0YjFmOWFmZmRlYTgxODhhNzgzMCIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjQ1M2VhZThiNjM1MjRlMDU5MWNiMDRlZDIyNjhjNzhjIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGAJAkeGKquBxF2KkDWVEiwDtEflYG82U51a88NaBSILynkrpu4BoDIF8g02wMWcNbKw0T-ERvdat7TTbXKAYghKjUGKgR1F9rIK6OpW7Ux1p1Nnr3PmgxF7yiaxB-WAGio8n2mPt-qosdQbcD6rThxsWVl+Qi7B3aRk-TM-4j3+JI=
2013-07-25 01:03:08 + mkdir -p /home/stack/devstack/files/images
2013-07-25 01:03:08 ++ basename http://download.cirros-cloud.net/0.3.1/cirros-0.3.1-x86_64-uec.tar.gz
2013-07-25 01:03:08 + IMAGE_FNAME=cirros-0.3.1-x86_64-uec.tar.gz
2013-07-25 01:03:08 + [[ ! -f /home/stack/devstack/files/cirros-0.3.1-x86_64-uec.tar.gz ]]
2013-07-25 01:03:08 ++ stat -c %s /home/stack/devstack/files/cirros-0.3.1-x86_64-uec.tar.gz
2013-07-25 01:03:08 + [[ 8633554 = \0 ]]
2013-07-25 01:03:08 + [[ http://download.cirros-cloud.net/0.3.1/cirros-0.3.1-x86_64-uec.tar.gz =~ openvz ]]
2013-07-25 01:03:08 + [[ http://download.cirros-cloud.net/0.3.1/cirros-0.3.1-x86_64-uec.tar.gz =~ \.vhd\.tgz ]]
2013-07-25 01:03:08 + KERNEL=
2013-07-25 01:03:08 + RAMDISK=
2013-07-25 01:03:08 + DISK_FORMAT=
2013-07-25 01:03:08 + CONTAINER_FORMAT=
2013-07-25 01:03:08 + UNPACK=
2013-07-25 01:03:08 + case "$IMAGE_FNAME" in
2013-07-25 01:03:08 + '[' cirros-0.3.1-x86_64-uec '!=' cirros-0.3.1-x86_64-uec.tar.gz ']'
2013-07-25 01:03:08 + IMAGE_NAME=cirros-0.3.1-x86_64-uec
2013-07-25 01:03:08 + xdir=/home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec
2013-07-25 01:03:08 + rm -Rf /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec
2013-07-25 01:03:08 + mkdir /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec
2013-07-25 01:03:08 + tar -zxf /home/stack/devstack/files/cirros-0.3.1-x86_64-uec.tar.gz -C /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec
2013-07-25 01:03:08 ++ for f in '"$xdir/"*-vmlinuz*' '"$xdir/"aki-*/image'
2013-07-25 01:03:08 ++ '[' -f /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz ']'
2013-07-25 01:03:08 ++ echo /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz
2013-07-25 01:03:08 ++ break
2013-07-25 01:03:08 ++ true
2013-07-25 01:03:08 + KERNEL=/home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz
2013-07-25 01:03:08 ++ for f in '"$xdir/"*-initrd*' '"$xdir/"ari-*/image'
2013-07-25 01:03:08 ++ '[' -f /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd ']'
2013-07-25 01:03:08 ++ echo /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd
2013-07-25 01:03:08 ++ break
2013-07-25 01:03:08 ++ true
2013-07-25 01:03:08 + RAMDISK=/home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd
2013-07-25 01:03:08 ++ for f in '"$xdir/"*.img' '"$xdir/"ami-*/image'
2013-07-25 01:03:08 ++ '[' -f /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-blank.img ']'
2013-07-25 01:03:08 ++ echo /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-blank.img
2013-07-25 01:03:08 ++ break
2013-07-25 01:03:08 ++ true
2013-07-25 01:03:08 + IMAGE=/home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-blank.img
2013-07-25 01:03:08 + [[ -z cirros-0.3.1-x86_64-uec ]]
2013-07-25 01:03:08 + '[' '' = bare ']'
2013-07-25 01:03:08 + KERNEL_ID=
2013-07-25 01:03:08 + RAMDISK_ID=
2013-07-25 01:03:08 + '[' -n /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz ']'
2013-07-25 01:03:08 ++ get_field 2
2013-07-25 01:03:08 ++ read data
2013-07-25 01:03:08 ++ grep ' id '
2013-07-25 01:03:08 ++ glance --os-auth-token MIIKewYJKoZIhvcNAQcCoIIKbDCCCmgCAQExCTAHBgUrDgMCGjCCCVQGCSqGSIb3DQEHAaCCCUUEgglBeyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0yNFQxNTozMzowNy45NjUzMjciLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTI1VDE1OjMzOjA3WiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImVuYWJsZWQiOiB0cnVlLCAiZGVzY3JpcHRpb24iOiBudWxsLCAibmFtZSI6ICJhZG1pbiIsICJpZCI6ICIxYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTciLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3NC92Mi8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJpZCI6ICIxZWQwMTkzMzZkYzA0YzhmODc5NmM3NTdjYzhiYmZmNCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTcifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzozMzMzIiwgImlkIjogIjE5OTg4YzM1N2YzNjQ5OGE5ZmU1NWFmZTIyMGQ4Y2Y1IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIiLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6OTI5MiIsICJpZCI6ICI4ZGU3YTEyYzI1NTk0OTE4OTU5ZjdmMzI5NzE1NzIyZCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4Nzc2L3YxLzFiMGM3OTU2MmI0MTQ4ZDE5ZjE0MjI1ZWQ1MmY1MTE3IiwgImlkIjogIjFhNjk5ZmRkNGJkZjRhYmRhNDRhMzU5ZTM2NjQzZGMwIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9BZG1pbiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4NzczL3NlcnZpY2VzL0Nsb3VkIiwgImlkIjogIjI0NzA2N2ZjNTNmNjQ5Yzk5Y2M0YWE2ZjViY2Q3Y2Q0IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzUzNTcvdjIuMCIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAiLCAiaWQiOiAiMmJmYWNmNjUwOGQ2NGU3MzgwMzUyZjIxYmYwMTFiMjEiLCAicHVibGljVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI3ZWRkNmMxOTY3MTU0YjFmOWFmZmRlYTgxODhhNzgzMCIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjQ1M2VhZThiNjM1MjRlMDU5MWNiMDRlZDIyNjhjNzhjIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGAJAkeGKquBxF2KkDWVEiwDtEflYG82U51a88NaBSILynkrpu4BoDIF8g02wMWcNbKw0T-ERvdat7TTbXKAYghKjUGKgR1F9rIK6OpW7Ux1p1Nnr3PmgxF7yiaxB-WAGio8n2mPt-qosdQbcD6rThxsWVl+Qi7B3aRk-TM-4j3+JI= --os-image-url http://129.127.10.133:9292 image-create --name cirros-0.3.1-x86_64-uec-kernel --public --container-format aki --disk-format aki
2013-07-25 01:03:10 ++ '[' 2 -lt 0 ']'
2013-07-25 01:03:10 ++ field='$3'
2013-07-25 01:03:10 ++ echo '| id               | 9632d6ef-a63f-478a-ae63-fa2bcd7b2887 |'
2013-07-25 01:03:10 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 01:03:10 ++ read data
2013-07-25 01:03:10 + KERNEL_ID=9632d6ef-a63f-478a-ae63-fa2bcd7b2887
2013-07-25 01:03:10 + '[' -n /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd ']'
2013-07-25 01:03:10 ++ grep ' id '
2013-07-25 01:03:10 ++ get_field 2
2013-07-25 01:03:10 ++ read data
2013-07-25 01:03:10 ++ glance --os-auth-token MIIKewYJKoZIhvcNAQcCoIIKbDCCCmgCAQExCTAHBgUrDgMCGjCCCVQGCSqGSIb3DQEHAaCCCUUEgglBeyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0yNFQxNTozMzowNy45NjUzMjciLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTI1VDE1OjMzOjA3WiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImVuYWJsZWQiOiB0cnVlLCAiZGVzY3JpcHRpb24iOiBudWxsLCAibmFtZSI6ICJhZG1pbiIsICJpZCI6ICIxYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTciLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3NC92Mi8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJpZCI6ICIxZWQwMTkzMzZkYzA0YzhmODc5NmM3NTdjYzhiYmZmNCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTcifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzozMzMzIiwgImlkIjogIjE5OTg4YzM1N2YzNjQ5OGE5ZmU1NWFmZTIyMGQ4Y2Y1IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIiLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6OTI5MiIsICJpZCI6ICI4ZGU3YTEyYzI1NTk0OTE4OTU5ZjdmMzI5NzE1NzIyZCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4Nzc2L3YxLzFiMGM3OTU2MmI0MTQ4ZDE5ZjE0MjI1ZWQ1MmY1MTE3IiwgImlkIjogIjFhNjk5ZmRkNGJkZjRhYmRhNDRhMzU5ZTM2NjQzZGMwIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9BZG1pbiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4NzczL3NlcnZpY2VzL0Nsb3VkIiwgImlkIjogIjI0NzA2N2ZjNTNmNjQ5Yzk5Y2M0YWE2ZjViY2Q3Y2Q0IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzUzNTcvdjIuMCIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAiLCAiaWQiOiAiMmJmYWNmNjUwOGQ2NGU3MzgwMzUyZjIxYmYwMTFiMjEiLCAicHVibGljVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI3ZWRkNmMxOTY3MTU0YjFmOWFmZmRlYTgxODhhNzgzMCIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjQ1M2VhZThiNjM1MjRlMDU5MWNiMDRlZDIyNjhjNzhjIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGAJAkeGKquBxF2KkDWVEiwDtEflYG82U51a88NaBSILynkrpu4BoDIF8g02wMWcNbKw0T-ERvdat7TTbXKAYghKjUGKgR1F9rIK6OpW7Ux1p1Nnr3PmgxF7yiaxB-WAGio8n2mPt-qosdQbcD6rThxsWVl+Qi7B3aRk-TM-4j3+JI= --os-image-url http://129.127.10.133:9292 image-create --name cirros-0.3.1-x86_64-uec-ramdisk --public --container-format ari --disk-format ari
2013-07-25 01:03:11 ++ '[' 2 -lt 0 ']'
2013-07-25 01:03:11 ++ field='$3'
2013-07-25 01:03:11 ++ echo '| id               | 0b8ab7cb-1e2f-4288-a1ed-7dc693cb5b17 |'
2013-07-25 01:03:11 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-25 01:03:11 ++ read data
2013-07-25 01:03:11 + RAMDISK_ID=0b8ab7cb-1e2f-4288-a1ed-7dc693cb5b17
2013-07-25 01:03:11 + glance --os-auth-token MIIKewYJKoZIhvcNAQcCoIIKbDCCCmgCAQExCTAHBgUrDgMCGjCCCVQGCSqGSIb3DQEHAaCCCUUEgglBeyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0yNFQxNTozMzowNy45NjUzMjciLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTI1VDE1OjMzOjA3WiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImVuYWJsZWQiOiB0cnVlLCAiZGVzY3JpcHRpb24iOiBudWxsLCAibmFtZSI6ICJhZG1pbiIsICJpZCI6ICIxYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTciLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3NC92Mi8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJpZCI6ICIxZWQwMTkzMzZkYzA0YzhmODc5NmM3NTdjYzhiYmZmNCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjg3NzQvdjIvMWIwYzc5NTYyYjQxNDhkMTlmMTQyMjVlZDUyZjUxMTcifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzozMzMzIiwgImlkIjogIjE5OTg4YzM1N2YzNjQ5OGE5ZmU1NWFmZTIyMGQ4Y2Y1IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIiLCAicmVnaW9uIjogIlJlZ2lvbk9uZSIsICJpbnRlcm5hbFVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6OTI5MiIsICJpZCI6ICI4ZGU3YTEyYzI1NTk0OTE4OTU5ZjdmMzI5NzE1NzIyZCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzEyOS4xMjcuMTAuMTMzOjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4Nzc2L3YxLzFiMGM3OTU2MmI0MTQ4ZDE5ZjE0MjI1ZWQ1MmY1MTE3IiwgImlkIjogIjFhNjk5ZmRkNGJkZjRhYmRhNDRhMzU5ZTM2NjQzZGMwIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3Ni92MS8xYjBjNzk1NjJiNDE0OGQxOWYxNDIyNWVkNTJmNTExNyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9BZG1pbiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo4NzczL3NlcnZpY2VzL0Nsb3VkIiwgImlkIjogIjI0NzA2N2ZjNTNmNjQ5Yzk5Y2M0YWE2ZjViY2Q3Y2Q0IiwgInB1YmxpY1VSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vMTI5LjEyNy4xMC4xMzM6MzUzNTcvdjIuMCIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAiLCAiaWQiOiAiMmJmYWNmNjUwOGQ2NGU3MzgwMzUyZjIxYmYwMTFiMjEiLCAicHVibGljVVJMIjogImh0dHA6Ly8xMjkuMTI3LjEwLjEzMzo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI3ZWRkNmMxOTY3MTU0YjFmOWFmZmRlYTgxODhhNzgzMCIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjQ1M2VhZThiNjM1MjRlMDU5MWNiMDRlZDIyNjhjNzhjIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGAJAkeGKquBxF2KkDWVEiwDtEflYG82U51a88NaBSILynkrpu4BoDIF8g02wMWcNbKw0T-ERvdat7TTbXKAYghKjUGKgR1F9rIK6OpW7Ux1p1Nnr3PmgxF7yiaxB-WAGio8n2mPt-qosdQbcD6rThxsWVl+Qi7B3aRk-TM-4j3+JI= --os-image-url http://129.127.10.133:9292 image-create --name cirros-0.3.1-x86_64-uec --public --container-format ami --disk-format ami --property kernel_id=9632d6ef-a63f-478a-ae63-fa2bcd7b2887 --property ramdisk_id=0b8ab7cb-1e2f-4288-a1ed-7dc693cb5b17
2013-07-25 01:03:13 +-----------------------+--------------------------------------+
2013-07-25 01:03:13 | Property              | Value                                |
2013-07-25 01:03:13 +-----------------------+--------------------------------------+
2013-07-25 01:03:13 | Property 'kernel_id'  | 9632d6ef-a63f-478a-ae63-fa2bcd7b2887 |
2013-07-25 01:03:13 | Property 'ramdisk_id' | 0b8ab7cb-1e2f-4288-a1ed-7dc693cb5b17 |
2013-07-25 01:03:13 | checksum              | f8a2eeee2dc65b3d9b6e63678955bd83     |
2013-07-25 01:03:13 | container_format      | ami                                  |
2013-07-25 01:03:13 | created_at            | 2013-07-24T15:33:12                  |
2013-07-25 01:03:13 | deleted               | False                                |
2013-07-25 01:03:13 | deleted_at            | None                                 |
2013-07-25 01:03:13 | disk_format           | ami                                  |
2013-07-25 01:03:13 | id                    | 8ed74907-00c2-4cba-9d17-da6cbd734688 |
2013-07-25 01:03:13 | is_public             | True                                 |
2013-07-25 01:03:13 | min_disk              | 0                                    |
2013-07-25 01:03:13 | min_ram               | 0                                    |
2013-07-25 01:03:13 | name                  | cirros-0.3.1-x86_64-uec              |
2013-07-25 01:03:13 | owner                 | 1b0c79562b4148d19f14225ed52f5117     |
2013-07-25 01:03:13 | protected             | False                                |
2013-07-25 01:03:13 | size                  | 25165824                             |
2013-07-25 01:03:13 | status                | active                               |
2013-07-25 01:03:13 | updated_at            | 2013-07-24T15:33:12                  |
2013-07-25 01:03:13 +-----------------------+--------------------------------------+
2013-07-25 01:03:13 + is_service_enabled nova
2013-07-25 01:03:13 + services=nova
2013-07-25 01:03:13 + for service in '${services}'
2013-07-25 01:03:13 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-25 01:03:13 + [[ nova == \n\o\v\a ]]
2013-07-25 01:03:13 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-25 01:03:13 + return 0
2013-07-25 01:03:13 + is_baremetal
2013-07-25 01:03:13 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-25 01:03:13 + return 1
2013-07-25 01:03:13 ++ date +%F-%H%M%S
2013-07-25 01:03:13 + CURRENT_RUN_TIME=2013-07-25-010313
2013-07-25 01:03:13 + echo '# 2013-07-25-010313'
2013-07-25 01:03:13 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-25 01:03:13 + echo BASE_SQL_CONN=mysql://root:f37ccdd1ded5c0dd33c9@localhost
2013-07-25 01:03:13 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-25 01:03:13 + echo ENABLED_SERVICES=g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql
2013-07-25 01:03:13 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-25 01:03:13 + echo HOST_IP=129.127.10.133
2013-07-25 01:03:13 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-25 01:03:13 + echo LOGFILE=/home/stack/devstack/log/stack.log.2013-07-25-005335
2013-07-25 01:03:13 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-25 01:03:13 + echo SERVICE_HOST=129.127.10.133
2013-07-25 01:03:13 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-25 01:03:13 + echo SERVICE_PROTOCOL=http
2013-07-25 01:03:13 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-25 01:03:13 + echo STACK_USER=stack
2013-07-25 01:03:13 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-25 01:03:13 + echo TLS_IP=
2013-07-25 01:03:13 + [[ -d /home/stack/devstack/extras.d ]]
2013-07-25 01:03:13 + for i in '$TOP_DIR/extras.d/*.sh'
2013-07-25 01:03:13 + [[ -r /home/stack/devstack/extras.d/80-tempest.sh ]]
2013-07-25 01:03:13 + source /home/stack/devstack/extras.d/80-tempest.sh stack
2013-07-25 01:03:13 ++ source /home/stack/devstack/lib/tempest
2013-07-25 01:03:13 ++++ set +o
2013-07-25 01:03:13 ++++ grep xtrace
2013-07-25 01:03:13 +++ XTRACE='set -o xtrace'
2013-07-25 01:03:13 +++ set +o xtrace
2013-07-25 01:03:13 ++ [[ stack == \s\t\a\c\k ]]
2013-07-25 01:03:13 ++ is_service_enabled tempest
2013-07-25 01:03:13 ++ services=tempest
2013-07-25 01:03:13 ++ for service in '${services}'
2013-07-25 01:03:13 ++ [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tempest, ]]
2013-07-25 01:03:13 ++ return 0
2013-07-25 01:03:13 ++ echo_summary 'Configuring Tempest'
2013-07-25 01:03:13 ++ [[ -t 3 ]]
2013-07-25 01:03:13 ++ [[ True != \T\r\u\e ]]
2013-07-25 01:03:13 ++ echo -e Configuring Tempest
2013-07-25 01:03:13 Configuring Tempest
2013-07-25 01:03:13 ++ install_tempest
2013-07-25 01:03:13 ++ git_clone https://github.com/openstack/tempest.git /opt/stack/tempest master
2013-07-25 01:03:13 ++ [[ True = \T\r\u\e ]]
2013-07-25 01:03:13 ++ return
2013-07-25 01:03:13 ++ pip_install -r /opt/stack/tempest/tools/pip-requires
2013-07-25 01:03:13 ++ [[ True = \T\r\u\e ]]
2013-07-25 01:03:13 ++ return
2013-07-25 01:03:13 ++ configure_tempest
2013-07-25 01:03:13 ++ setup_develop /opt/stack/tempest
2013-07-25 01:03:13 ++ [[ False = True ]]
2013-07-25 01:03:13 ++ SUDO_CMD=sudo
2013-07-25 01:03:13 ++ cd /opt/stack/tempest
2013-07-25 01:03:13 ++ python setup.py egg_info
2013-07-25 01:03:13 running egg_info
2013-07-25 01:03:13 writing requirements to tempest.egg-info/requires.txt
2013-07-25 01:03:13 writing tempest.egg-info/PKG-INFO
2013-07-25 01:03:13 writing top-level names to tempest.egg-info/top_level.txt
2013-07-25 01:03:13 writing dependency_links to tempest.egg-info/dependency_links.txt
2013-07-25 01:03:13 writing manifest file 'tempest.egg-info/SOURCES.txt'
2013-07-25 01:03:13 +++ awk '/^.+/ {print "-f " $1}' tempest.egg-info/dependency_links.txt
2013-07-25 01:03:13 ++ raw_links=
2013-07-25 01:03:13 +++ echo
2013-07-25 01:03:13 +++ xargs
2013-07-25 01:03:13 ++ depend_links=
2013-07-25 01:03:13 +++ '[' '!' -r tempest.egg-info/requires.txt ']'
2013-07-25 01:03:13 +++ echo '-r *-info/requires.txt'
2013-07-25 01:03:13 ++ require_file='-r *-info/requires.txt'
2013-07-25 01:03:13 ++ pip_install -r tempest.egg-info/requires.txt
2013-07-25 01:03:13 ++ [[ True = \T\r\u\e ]]
2013-07-25 01:03:13 ++ return
2013-07-25 01:03:13 ++ sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-25 01:03:13 running develop
2013-07-25 01:03:13 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-25 01:03:13 /usr/bin/python -E -c pass
2013-07-25 01:03:13 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-25 01:03:13 running egg_info
2013-07-25 01:03:13 writing requirements to tempest.egg-info/requires.txt
2013-07-25 01:03:13 writing tempest.egg-info/PKG-INFO
2013-07-25 01:03:13 writing top-level names to tempest.egg-info/top_level.txt
2013-07-25 01:03:13 writing dependency_links to tempest.egg-info/dependency_links.txt
2013-07-25 01:03:14 writing manifest file 'tempest.egg-info/SOURCES.txt'
2013-07-25 01:03:14 running build_ext
2013-07-25 01:03:14 Creating /usr/local/lib/python2.7/dist-packages/tempest.egg-link (link to .)
2013-07-25 01:03:14 tempest 2012.2 is already the active version in easy-install.pth
2013-07-25 01:03:14 Installing tempest script to /usr/local/bin
2013-07-25 01:03:14 
2013-07-25 01:03:14 Installed /opt/stack/tempest
2013-07-25 01:03:14 Processing dependencies for tempest==2012.2
2013-07-25 01:03:14 Searching for testrepository==0.0.14
2013-07-25 01:03:14 Best match: testrepository 0.0.14
2013-07-25 01:03:14 testrepository 0.0.14 is already the active version in easy-install.pth
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for keyring==0.9.2
2013-07-25 01:03:14 Best match: keyring 0.9.2
2013-07-25 01:03:14 Adding keyring 0.9.2 to easy-install.pth file
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for testresources==0.2.7
2013-07-25 01:03:14 Best match: testresources 0.2.7
2013-07-25 01:03:14 testresources 0.2.7 is already the active version in easy-install.pth
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for python-quantumclient==2.1.2
2013-07-25 01:03:14 Best match: python-quantumclient 2.1.2
2013-07-25 01:03:14 python-quantumclient 2.1.2 is already the active version in easy-install.pth
2013-07-25 01:03:14 Installing quantum script to /usr/local/bin
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for python-novaclient==2.11.1.17.g9ab600f
2013-07-25 01:03:14 Best match: python-novaclient 2.11.1.17.g9ab600f
2013-07-25 01:03:14 python-novaclient 2.11.1.17.g9ab600f is already the active version in easy-install.pth
2013-07-25 01:03:14 Installing nova script to /usr/local/bin
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /opt/stack/python-novaclient
2013-07-25 01:03:14 Searching for python-keystoneclient==0.2.2.56.g3ce3fe8
2013-07-25 01:03:14 Best match: python-keystoneclient 0.2.2.56.g3ce3fe8
2013-07-25 01:03:14 python-keystoneclient 0.2.2.56.g3ce3fe8 is already the active version in easy-install.pth
2013-07-25 01:03:14 Installing keystone script to /usr/local/bin
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /opt/stack/python-keystoneclient
2013-07-25 01:03:14 Searching for python-glanceclient==0.8.0.5.g0ca43be
2013-07-25 01:03:14 Best match: python-glanceclient 0.8.0.5.g0ca43be
2013-07-25 01:03:14 Removing python-glanceclient 0.8.0 from easy-install.pth file
2013-07-25 01:03:14 python-glanceclient 0.8.0.5.g0ca43be is already the active version in easy-install.pth
2013-07-25 01:03:14 Installing glance script to /usr/local/bin
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /opt/stack/python-glanceclient
2013-07-25 01:03:14 Searching for netaddr==0.7.5
2013-07-25 01:03:14 Best match: netaddr 0.7.5
2013-07-25 01:03:14 Adding netaddr 0.7.5 to easy-install.pth file
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for paramiko==1.7.7.1
2013-07-25 01:03:14 Best match: paramiko 1.7.7.1
2013-07-25 01:03:14 Adding paramiko 1.7.7.1 to easy-install.pth file
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for boto==2.2.2
2013-07-25 01:03:14 Best match: boto 2.2.2
2013-07-25 01:03:14 Adding boto 2.2.2 to easy-install.pth file
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for lxml==2.3.2
2013-07-25 01:03:14 Best match: lxml 2.3.2
2013-07-25 01:03:14 Adding lxml 2.3.2 to easy-install.pth file
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for testtools==0.9.29
2013-07-25 01:03:14 Best match: testtools 0.9.29
2013-07-25 01:03:14 Adding testtools 0.9.29 to easy-install.pth file
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for httplib2==0.7.2
2013-07-25 01:03:14 Best match: httplib2 0.7.2
2013-07-25 01:03:14 Adding httplib2 0.7.2 to easy-install.pth file
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for nose==1.1.2
2013-07-25 01:03:14 Best match: nose 1.1.2
2013-07-25 01:03:14 Adding nose 1.1.2 to easy-install.pth file
2013-07-25 01:03:14 Installing nosetests script to /usr/local/bin
2013-07-25 01:03:14 Installing nosetests-2.7 script to /usr/local/bin
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for anyjson==0.3.1
2013-07-25 01:03:14 Best match: anyjson 0.3.1
2013-07-25 01:03:14 Adding anyjson 0.3.1 to easy-install.pth file
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for python-subunit==0.0.10
2013-07-25 01:03:14 Best match: python-subunit 0.0.10
2013-07-25 01:03:14 python-subunit 0.0.10 is already the active version in easy-install.pth
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for fixtures==0.3.12
2013-07-25 01:03:14 Best match: fixtures 0.3.12
2013-07-25 01:03:14 fixtures 0.3.12 is already the active version in easy-install.pth
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for simplejson==2.3.2
2013-07-25 01:03:14 Best match: simplejson 2.3.2
2013-07-25 01:03:14 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for pyparsing==1.5.7
2013-07-25 01:03:14 Best match: pyparsing 1.5.7
2013-07-25 01:03:14 pyparsing 1.5.7 is already the active version in easy-install.pth
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for prettytable==0.6.1
2013-07-25 01:03:14 Best match: prettytable 0.6.1
2013-07-25 01:03:14 prettytable 0.6.1 is already the active version in easy-install.pth
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for iso8601==0.1.4
2013-07-25 01:03:14 Best match: iso8601 0.1.4
2013-07-25 01:03:14 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for cliff==1.3.1
2013-07-25 01:03:14 Best match: cliff 1.3.1
2013-07-25 01:03:14 cliff 1.3.1 is already the active version in easy-install.pth
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for requests==0.14.2
2013-07-25 01:03:14 Best match: requests 0.14.2
2013-07-25 01:03:14 Processing requests-0.14.2-py2.7.egg
2013-07-25 01:03:14 Removing requests 0.14.2 from easy-install.pth file
2013-07-25 01:03:14 requests 0.14.2 is already the active version in easy-install.pth
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/local/lib/python2.7/dist-packages/requests-0.14.2-py2.7.egg
2013-07-25 01:03:14 Searching for oslo-config==2013.1b4
2013-07-25 01:03:14 Best match: oslo-config 2013.1b4
2013-07-25 01:03:14 Adding oslo-config 2013.1b4 to easy-install.pth file
2013-07-25 01:03:14 
2013-07-25 01:03:14 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:14 Searching for warlock==0.8.1
2013-07-25 01:03:14 Best match: warlock 0.8.1
2013-07-25 01:03:14 warlock 0.8.1 is already the active version in easy-install.pth
2013-07-25 01:03:15 
2013-07-25 01:03:15 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:15 Searching for pyOpenSSL==0.12
2013-07-25 01:03:15 Best match: pyOpenSSL 0.12
2013-07-25 01:03:15 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-25 01:03:15 
2013-07-25 01:03:15 Using /usr/lib/python2.7/dist-packages
2013-07-25 01:03:15 Searching for extras==0.0.3
2013-07-25 01:03:15 Best match: extras 0.0.3
2013-07-25 01:03:15 extras 0.0.3 is already the active version in easy-install.pth
2013-07-25 01:03:15 
2013-07-25 01:03:15 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:15 Searching for cmd2==0.6.4
2013-07-25 01:03:15 Best match: cmd2 0.6.4
2013-07-25 01:03:15 cmd2 0.6.4 is already the active version in easy-install.pth
2013-07-25 01:03:15 
2013-07-25 01:03:15 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:15 Searching for distribute==0.6.24dev-r0
2013-07-25 01:03:15 Best match: distribute 0.6.24dev-r0
2013-07-25 01:03:15 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-25 01:03:15 Installing easy_install script to /usr/local/bin
2013-07-25 01:03:15 Installing easy_install-2.7 script to /usr/local/bin
2013-07-25 01:03:15 
2013-07-25 01:03:15 Using /usr/lib/python2.7/dist-packages
2013-07-25 01:03:15 Searching for jsonpatch==0.12
2013-07-25 01:03:15 Best match: jsonpatch 0.12
2013-07-25 01:03:15 jsonpatch 0.12 is already the active version in easy-install.pth
2013-07-25 01:03:15 
2013-07-25 01:03:15 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:15 Searching for jsonschema==0.8.0
2013-07-25 01:03:15 Best match: jsonschema 0.8.0
2013-07-25 01:03:15 jsonschema 0.8.0 is already the active version in easy-install.pth
2013-07-25 01:03:15 
2013-07-25 01:03:15 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:15 Searching for jsonpointer==0.7
2013-07-25 01:03:15 Best match: jsonpointer 0.7
2013-07-25 01:03:15 jsonpointer 0.7 is already the active version in easy-install.pth
2013-07-25 01:03:15 
2013-07-25 01:03:15 Using /usr/local/lib/python2.7/dist-packages
2013-07-25 01:03:15 Finished processing dependencies for tempest==2012.2
2013-07-25 01:03:15 ++ local image_lines
2013-07-25 01:03:15 ++ local images
2013-07-25 01:03:15 ++ local num_images
2013-07-25 01:03:15 ++ local image_uuid
2013-07-25 01:03:15 ++ local image_uuid_alt
2013-07-25 01:03:15 ++ local errexit
2013-07-25 01:03:15 ++ local password
2013-07-25 01:03:15 ++ local line
2013-07-25 01:03:15 ++ local flavors
2013-07-25 01:03:15 ++ local flavors_ref
2013-07-25 01:03:15 ++ local flavor_lines
2013-07-25 01:03:15 ++ local public_network_id
2013-07-25 01:03:15 ++ local public_router_id
2013-07-25 01:03:15 ++ local tenant_networks_reachable
2013-07-25 01:03:15 ++ local boto_instance_type=m1.tiny
2013-07-25 01:03:15 +++ grep errexit
2013-07-25 01:03:15 +++ set +o
2013-07-25 01:03:15 ++ errexit='set +o errexit'
2013-07-25 01:03:15 ++ set -o errexit
2013-07-25 01:03:15 ++ ifs=' 	
2013-07-25 01:03:15 '
2013-07-25 01:03:15 ++ declare -a images
2013-07-25 01:03:15 ++ read -r IMAGE_NAME IMAGE_UUID
2013-07-25 01:03:15 +++ glance image-list --status=active
2013-07-25 01:03:15 +++ awk '-F|' '!/^(+--)|ID|aki|ari/ { print $3,$2 }'
2013-07-25 01:03:15 ++ '[' cirros-0.3.1-x86_64-uec = cirros-0.3.1-x86_64-uec ']'
2013-07-25 01:03:15 ++ image_uuid=8ed74907-00c2-4cba-9d17-da6cbd734688
2013-07-25 01:03:15 ++ image_uuid_alt=8ed74907-00c2-4cba-9d17-da6cbd734688
2013-07-25 01:03:15 ++ images+=($IMAGE_UUID)
2013-07-25 01:03:15 ++ read -r IMAGE_NAME IMAGE_UUID
2013-07-25 01:03:15 ++ case "${#images[*]}" in
2013-07-25 01:03:15 ++ '[' -z 8ed74907-00c2-4cba-9d17-da6cbd734688 ']'
2013-07-25 01:03:15 ++ cp /opt/stack/tempest/etc/tempest.conf.sample /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:15 ++ password=2061d55c35f999042112
2013-07-25 01:03:15 ++ ALT_USERNAME=alt_demo
2013-07-25 01:03:15 ++ ALT_TENANT_NAME=alt_demo
2013-07-25 01:03:15 ++ [[ -z '' ]]
2013-07-25 01:03:15 ++ nova flavor-create m1.nano 42 64 0 1
2013-07-25 01:03:17 +----+---------+-----------+------+-----------+------+-------+-------------+-----------+-------------+
2013-07-25 01:03:17 | ID | Name    | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public | extra_specs |
2013-07-25 01:03:17 +----+---------+-----------+------+-----------+------+-------+-------------+-----------+-------------+
2013-07-25 01:03:17 | 42 | m1.nano | 64        | 0    | 0         |      | 1     | 1.0         | True      | {}          |
2013-07-25 01:03:17 +----+---------+-----------+------+-----------+------+-------+-------------+-----------+-------------+
2013-07-25 01:03:17 ++ flavor_ref=42
2013-07-25 01:03:17 ++ boto_instance_type=m1.nano
2013-07-25 01:03:17 ++ nova flavor-create m1.micro 84 128 0 1
2013-07-25 01:03:18 +----+----------+-----------+------+-----------+------+-------+-------------+-----------+-------------+
2013-07-25 01:03:18 | ID | Name     | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public | extra_specs |
2013-07-25 01:03:18 +----+----------+-----------+------+-----------+------+-------+-------------+-----------+-------------+
2013-07-25 01:03:18 | 84 | m1.micro | 128       | 0    | 0         |      | 1     | 1.0         | True      | {}          |
2013-07-25 01:03:18 +----+----------+-----------+------+-----------+------+-------+-------------+-----------+-------------+
2013-07-25 01:03:18 ++ flavor_ref_alt=84
2013-07-25 01:03:18 ++ '[' True '!=' False ']'
2013-07-25 01:03:18 ++ tenant_networks_reachable=false
2013-07-25 01:03:18 ++ is_service_enabled q-l3
2013-07-25 01:03:18 ++ services=q-l3
2013-07-25 01:03:18 ++ for service in '${services}'
2013-07-25 01:03:18 ++ [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,q-l3, ]]
2013-07-25 01:03:18 ++ [[ q-l3 == \n\o\v\a ]]
2013-07-25 01:03:18 ++ [[ q-l3 == \c\i\n\d\e\r ]]
2013-07-25 01:03:18 ++ [[ q-l3 == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 01:03:18 ++ [[ q-l3 == \g\l\a\n\c\e ]]
2013-07-25 01:03:18 ++ [[ q-l3 == \q\u\a\n\t\u\m ]]
2013-07-25 01:03:18 ++ return 1
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf compute build_timeout 400
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=compute
2013-07-25 01:03:18 ++ local option=build_timeout
2013-07-25 01:03:18 ++ local value=400
2013-07-25 01:03:18 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute build_timeout
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=compute
2013-07-25 01:03:18 ++ local option=build_timeout
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^build_timeout[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='build_timeout = 600'
2013-07-25 01:03:18 ++ '[' -n 'build_timeout = 600' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(build_timeout[ \t]*=[ \t]*\).*$|\1400|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf volume build_timeout 400
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=volume
2013-07-25 01:03:18 ++ local option=build_timeout
2013-07-25 01:03:18 ++ local value=400
2013-07-25 01:03:18 ++ grep -q '^\[volume\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf volume build_timeout
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=volume
2013-07-25 01:03:18 ++ local option=build_timeout
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[volume\]/,/^\[.*\]/ { /^build_timeout[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='build_timeout = 300'
2013-07-25 01:03:18 ++ '[' -n 'build_timeout = 300' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[volume\]/,/^\[.*\]/ s|^\(build_timeout[ \t]*=[ \t]*\).*$|\1400|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf boto build_timeout 400
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=boto
2013-07-25 01:03:18 ++ local option=build_timeout
2013-07-25 01:03:18 ++ local value=400
2013-07-25 01:03:18 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto build_timeout
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=boto
2013-07-25 01:03:18 ++ local option=build_timeout
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^build_timeout[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='build_timeout = 120'
2013-07-25 01:03:18 ++ '[' -n 'build_timeout = 120' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(build_timeout[ \t]*=[ \t]*\).*$|\1400|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf compute build_interval 3
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=compute
2013-07-25 01:03:18 ++ local option=build_interval
2013-07-25 01:03:18 ++ local value=3
2013-07-25 01:03:18 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute build_interval
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=compute
2013-07-25 01:03:18 ++ local option=build_interval
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^build_interval[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='build_interval = 10'
2013-07-25 01:03:18 ++ '[' -n 'build_interval = 10' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(build_interval[ \t]*=[ \t]*\).*$|\13|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf volume build_interval 3
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=volume
2013-07-25 01:03:18 ++ local option=build_interval
2013-07-25 01:03:18 ++ local value=3
2013-07-25 01:03:18 ++ grep -q '^\[volume\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf volume build_interval
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=volume
2013-07-25 01:03:18 ++ local option=build_interval
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[volume\]/,/^\[.*\]/ { /^build_interval[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='build_interval = 10'
2013-07-25 01:03:18 ++ '[' -n 'build_interval = 10' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[volume\]/,/^\[.*\]/ s|^\(build_interval[ \t]*=[ \t]*\).*$|\13|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf boto build_interval 3
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=boto
2013-07-25 01:03:18 ++ local option=build_interval
2013-07-25 01:03:18 ++ local value=3
2013-07-25 01:03:18 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto build_interval
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=boto
2013-07-25 01:03:18 ++ local option=build_interval
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^build_interval[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='build_interval = 1'
2013-07-25 01:03:18 ++ '[' -n 'build_interval = 1' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(build_interval[ \t]*=[ \t]*\).*$|\13|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf boto http_socket_timeout 5
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=boto
2013-07-25 01:03:18 ++ local option=http_socket_timeout
2013-07-25 01:03:18 ++ local value=5
2013-07-25 01:03:18 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto http_socket_timeout
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=boto
2013-07-25 01:03:18 ++ local option=http_socket_timeout
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^http_socket_timeout[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='http_socket_timeout = 5'
2013-07-25 01:03:18 ++ '[' -n 'http_socket_timeout = 5' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(http_socket_timeout[ \t]*=[ \t]*\).*$|\15|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf identity uri http://129.127.10.133:5000/v2.0/
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=identity
2013-07-25 01:03:18 ++ local option=uri
2013-07-25 01:03:18 ++ local value=http://129.127.10.133:5000/v2.0/
2013-07-25 01:03:18 ++ grep -q '^\[identity\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf identity uri
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=identity
2013-07-25 01:03:18 ++ local option=uri
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[identity\]/,/^\[.*\]/ { /^uri[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='uri = http://127.0.0.1:5000/v2.0/'
2013-07-25 01:03:18 ++ '[' -n 'uri = http://127.0.0.1:5000/v2.0/' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[identity\]/,/^\[.*\]/ s|^\(uri[ \t]*=[ \t]*\).*$|\1http://129.127.10.133:5000/v2.0/|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf identity password 2061d55c35f999042112
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=identity
2013-07-25 01:03:18 ++ local option=password
2013-07-25 01:03:18 ++ local value=2061d55c35f999042112
2013-07-25 01:03:18 ++ grep -q '^\[identity\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf identity password
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=identity
2013-07-25 01:03:18 ++ local option=password
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[identity\]/,/^\[.*\]/ { /^password[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='password = secret'
2013-07-25 01:03:18 ++ '[' -n 'password = secret' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[identity\]/,/^\[.*\]/ s|^\(password[ \t]*=[ \t]*\).*$|\12061d55c35f999042112|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf identity alt_username alt_demo
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=identity
2013-07-25 01:03:18 ++ local option=alt_username
2013-07-25 01:03:18 ++ local value=alt_demo
2013-07-25 01:03:18 ++ grep -q '^\[identity\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf identity alt_username
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=identity
2013-07-25 01:03:18 ++ local option=alt_username
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[identity\]/,/^\[.*\]/ { /^alt_username[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='alt_username = alt_demo'
2013-07-25 01:03:18 ++ '[' -n 'alt_username = alt_demo' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[identity\]/,/^\[.*\]/ s|^\(alt_username[ \t]*=[ \t]*\).*$|\1alt_demo|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf identity alt_password 2061d55c35f999042112
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=identity
2013-07-25 01:03:18 ++ local option=alt_password
2013-07-25 01:03:18 ++ local value=2061d55c35f999042112
2013-07-25 01:03:18 ++ grep -q '^\[identity\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf identity alt_password
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=identity
2013-07-25 01:03:18 ++ local option=alt_password
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[identity\]/,/^\[.*\]/ { /^alt_password[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='alt_password = secret'
2013-07-25 01:03:18 ++ '[' -n 'alt_password = secret' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[identity\]/,/^\[.*\]/ s|^\(alt_password[ \t]*=[ \t]*\).*$|\12061d55c35f999042112|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf identity alt_tenant_name alt_demo
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=identity
2013-07-25 01:03:18 ++ local option=alt_tenant_name
2013-07-25 01:03:18 ++ local value=alt_demo
2013-07-25 01:03:18 ++ grep -q '^\[identity\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf identity alt_tenant_name
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=identity
2013-07-25 01:03:18 ++ local option=alt_tenant_name
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[identity\]/,/^\[.*\]/ { /^alt_tenant_name[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='alt_tenant_name = alt_demo'
2013-07-25 01:03:18 ++ '[' -n 'alt_tenant_name = alt_demo' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[identity\]/,/^\[.*\]/ s|^\(alt_tenant_name[ \t]*=[ \t]*\).*$|\1alt_demo|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf identity admin_password 2061d55c35f999042112
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=identity
2013-07-25 01:03:18 ++ local option=admin_password
2013-07-25 01:03:18 ++ local value=2061d55c35f999042112
2013-07-25 01:03:18 ++ grep -q '^\[identity\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf identity admin_password
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=identity
2013-07-25 01:03:18 ++ local option=admin_password
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[identity\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='admin_password = secret'
2013-07-25 01:03:18 ++ '[' -n 'admin_password = secret' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[identity\]/,/^\[.*\]/ s|^\(admin_password[ \t]*=[ \t]*\).*$|\12061d55c35f999042112|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf compute change_password_available False
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=compute
2013-07-25 01:03:18 ++ local option=change_password_available
2013-07-25 01:03:18 ++ local value=False
2013-07-25 01:03:18 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute change_password_available
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=compute
2013-07-25 01:03:18 ++ local option=change_password_available
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^change_password_available[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line=change_password_available=true
2013-07-25 01:03:18 ++ '[' -n change_password_available=true ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(change_password_available[ \t]*=[ \t]*\).*$|\1False|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ is_service_enabled quantum
2013-07-25 01:03:18 ++ services=quantum
2013-07-25 01:03:18 ++ for service in '${services}'
2013-07-25 01:03:18 ++ [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-25 01:03:18 ++ [[ quantum == \n\o\v\a ]]
2013-07-25 01:03:18 ++ [[ quantum == \c\i\n\d\e\r ]]
2013-07-25 01:03:18 ++ [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-25 01:03:18 ++ [[ quantum == \g\l\a\n\c\e ]]
2013-07-25 01:03:18 ++ [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-25 01:03:18 ++ [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-25 01:03:18 ++ return 1
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf compute allow_tenant_isolation True
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=compute
2013-07-25 01:03:18 ++ local option=allow_tenant_isolation
2013-07-25 01:03:18 ++ local value=True
2013-07-25 01:03:18 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute allow_tenant_isolation
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=compute
2013-07-25 01:03:18 ++ local option=allow_tenant_isolation
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^allow_tenant_isolation[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ line='allow_tenant_isolation = true'
2013-07-25 01:03:18 ++ '[' -n 'allow_tenant_isolation = true' ']'
2013-07-25 01:03:18 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(allow_tenant_isolation[ \t]*=[ \t]*\).*$|\1True|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ iniset /opt/stack/tempest/etc/tempest.conf compute ssh_user cirros
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=compute
2013-07-25 01:03:18 ++ local option=ssh_user
2013-07-25 01:03:18 ++ local value=cirros
2013-07-25 01:03:18 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute ssh_user
2013-07-25 01:03:18 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:18 ++ local section=compute
2013-07-25 01:03:18 ++ local option=ssh_user
2013-07-25 01:03:18 ++ local line
2013-07-25 01:03:18 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^ssh_user[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='ssh_user = cirros'
2013-07-25 01:03:19 ++ '[' -n 'ssh_user = cirros' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(ssh_user[ \t]*=[ \t]*\).*$|\1cirros|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf compute network_for_ssh private
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=network_for_ssh
2013-07-25 01:03:19 ++ local value=private
2013-07-25 01:03:19 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute network_for_ssh
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=network_for_ssh
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^network_for_ssh[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='network_for_ssh = private'
2013-07-25 01:03:19 ++ '[' -n 'network_for_ssh = private' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(network_for_ssh[ \t]*=[ \t]*\).*$|\1private|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf compute ip_version_for_ssh 4
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=ip_version_for_ssh
2013-07-25 01:03:19 ++ local value=4
2013-07-25 01:03:19 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute ip_version_for_ssh
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=ip_version_for_ssh
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^ip_version_for_ssh[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='ip_version_for_ssh = 4'
2013-07-25 01:03:19 ++ '[' -n 'ip_version_for_ssh = 4' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(ip_version_for_ssh[ \t]*=[ \t]*\).*$|\14|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf compute ssh_timeout 400
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=ssh_timeout
2013-07-25 01:03:19 ++ local value=400
2013-07-25 01:03:19 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute ssh_timeout
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=ssh_timeout
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^ssh_timeout[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='ssh_timeout = 300'
2013-07-25 01:03:19 ++ '[' -n 'ssh_timeout = 300' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(ssh_timeout[ \t]*=[ \t]*\).*$|\1400|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf compute image_ref 8ed74907-00c2-4cba-9d17-da6cbd734688
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=image_ref
2013-07-25 01:03:19 ++ local value=8ed74907-00c2-4cba-9d17-da6cbd734688
2013-07-25 01:03:19 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute image_ref
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=image_ref
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^image_ref[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='image_ref = {$IMAGE_ID}'
2013-07-25 01:03:19 ++ '[' -n 'image_ref = {$IMAGE_ID}' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(image_ref[ \t]*=[ \t]*\).*$|\18ed74907-00c2-4cba-9d17-da6cbd734688|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf compute image_ssh_user cirros
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=image_ssh_user
2013-07-25 01:03:19 ++ local value=cirros
2013-07-25 01:03:19 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute image_ssh_user
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=image_ssh_user
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^image_ssh_user[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line=
2013-07-25 01:03:19 ++ '[' -n '' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute\]/ a\
2013-07-25 01:03:19 image_ssh_user = cirros
2013-07-25 01:03:19 ' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf compute image_ref_alt 8ed74907-00c2-4cba-9d17-da6cbd734688
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=image_ref_alt
2013-07-25 01:03:19 ++ local value=8ed74907-00c2-4cba-9d17-da6cbd734688
2013-07-25 01:03:19 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute image_ref_alt
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=image_ref_alt
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^image_ref_alt[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='image_ref_alt = {$IMAGE_ID_ALT}'
2013-07-25 01:03:19 ++ '[' -n 'image_ref_alt = {$IMAGE_ID_ALT}' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(image_ref_alt[ \t]*=[ \t]*\).*$|\18ed74907-00c2-4cba-9d17-da6cbd734688|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf compute image_alt_ssh_user cirros
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=image_alt_ssh_user
2013-07-25 01:03:19 ++ local value=cirros
2013-07-25 01:03:19 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute image_alt_ssh_user
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=image_alt_ssh_user
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^image_alt_ssh_user[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line=
2013-07-25 01:03:19 ++ '[' -n '' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute\]/ a\
2013-07-25 01:03:19 image_alt_ssh_user = cirros
2013-07-25 01:03:19 ' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf compute flavor_ref 42
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=flavor_ref
2013-07-25 01:03:19 ++ local value=42
2013-07-25 01:03:19 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute flavor_ref
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=flavor_ref
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^flavor_ref[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='flavor_ref = 1'
2013-07-25 01:03:19 ++ '[' -n 'flavor_ref = 1' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(flavor_ref[ \t]*=[ \t]*\).*$|\142|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf compute flavor_ref_alt 84
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=flavor_ref_alt
2013-07-25 01:03:19 ++ local value=84
2013-07-25 01:03:19 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute flavor_ref_alt
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=flavor_ref_alt
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^flavor_ref_alt[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='flavor_ref_alt = 2'
2013-07-25 01:03:19 ++ '[' -n 'flavor_ref_alt = 2' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(flavor_ref_alt[ \t]*=[ \t]*\).*$|\184|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf compute live_migration_available False
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=live_migration_available
2013-07-25 01:03:19 ++ local value=False
2013-07-25 01:03:19 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute live_migration_available
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=live_migration_available
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^live_migration_available[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='live_migration_available = false'
2013-07-25 01:03:19 ++ '[' -n 'live_migration_available = false' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(live_migration_available[ \t]*=[ \t]*\).*$|\1False|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf compute use_block_migration_for_live_migration False
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=use_block_migration_for_live_migration
2013-07-25 01:03:19 ++ local value=False
2013-07-25 01:03:19 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute use_block_migration_for_live_migration
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute
2013-07-25 01:03:19 ++ local option=use_block_migration_for_live_migration
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^use_block_migration_for_live_migration[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='use_block_migration_for_live_migration = false'
2013-07-25 01:03:19 ++ '[' -n 'use_block_migration_for_live_migration = false' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(use_block_migration_for_live_migration[ \t]*=[ \t]*\).*$|\1False|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf whitebox source_dir /opt/stack/nova
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=whitebox
2013-07-25 01:03:19 ++ local option=source_dir
2013-07-25 01:03:19 ++ local value=/opt/stack/nova
2013-07-25 01:03:19 ++ grep -q '^\[whitebox\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf whitebox source_dir
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=whitebox
2013-07-25 01:03:19 ++ local option=source_dir
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[whitebox\]/,/^\[.*\]/ { /^source_dir[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='source_dir = /opt/stack/nova'
2013-07-25 01:03:19 ++ '[' -n 'source_dir = /opt/stack/nova' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[whitebox\]/,/^\[.*\]/ s|^\(source_dir[ \t]*=[ \t]*\).*$|\1/opt/stack/nova|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf whitebox bin_dir /opt/stack/nova/bin
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=whitebox
2013-07-25 01:03:19 ++ local option=bin_dir
2013-07-25 01:03:19 ++ local value=/opt/stack/nova/bin
2013-07-25 01:03:19 ++ grep -q '^\[whitebox\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf whitebox bin_dir
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=whitebox
2013-07-25 01:03:19 ++ local option=bin_dir
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[whitebox\]/,/^\[.*\]/ { /^bin_dir[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='bin_dir = /usr/local/bin'
2013-07-25 01:03:19 ++ '[' -n 'bin_dir = /usr/local/bin' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[whitebox\]/,/^\[.*\]/ s|^\(bin_dir[ \t]*=[ \t]*\).*$|\1/opt/stack/nova/bin|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf whitebox path_to_private_key /opt/stack/tempest/id_rsa
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=whitebox
2013-07-25 01:03:19 ++ local option=path_to_private_key
2013-07-25 01:03:19 ++ local value=/opt/stack/tempest/id_rsa
2013-07-25 01:03:19 ++ grep -q '^\[whitebox\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf whitebox path_to_private_key
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=whitebox
2013-07-25 01:03:19 ++ local option=path_to_private_key
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[whitebox\]/,/^\[.*\]/ { /^path_to_private_key[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='path_to_private_key = /home/user/.ssh/id_rsa'
2013-07-25 01:03:19 ++ '[' -n 'path_to_private_key = /home/user/.ssh/id_rsa' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[whitebox\]/,/^\[.*\]/ s|^\(path_to_private_key[ \t]*=[ \t]*\).*$|\1/opt/stack/tempest/id_rsa|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf whitebox db_uri mysql://root:f37ccdd1ded5c0dd33c9@localhost/nova
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=whitebox
2013-07-25 01:03:19 ++ local option=db_uri
2013-07-25 01:03:19 ++ local value=mysql://root:f37ccdd1ded5c0dd33c9@localhost/nova
2013-07-25 01:03:19 ++ grep -q '^\[whitebox\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf whitebox db_uri
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=whitebox
2013-07-25 01:03:19 ++ local option=db_uri
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[whitebox\]/,/^\[.*\]/ { /^db_uri[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='db_uri = mysql://nova:secret@localhost/nova'
2013-07-25 01:03:19 ++ '[' -n 'db_uri = mysql://nova:secret@localhost/nova' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[whitebox\]/,/^\[.*\]/ s|^\(db_uri[ \t]*=[ \t]*\).*$|\1mysql://root:f37ccdd1ded5c0dd33c9@localhost/nova|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf compute-admin password 2061d55c35f999042112
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute-admin
2013-07-25 01:03:19 ++ local option=password
2013-07-25 01:03:19 ++ local value=2061d55c35f999042112
2013-07-25 01:03:19 ++ grep -q '^\[compute-admin\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute-admin password
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=compute-admin
2013-07-25 01:03:19 ++ local option=password
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[compute-admin\]/,/^\[.*\]/ { /^password[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='password ='
2013-07-25 01:03:19 ++ '[' -n 'password =' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[compute-admin\]/,/^\[.*\]/ s|^\(password[ \t]*=[ \t]*\).*$|\12061d55c35f999042112|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf network api_version 2.0
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=network
2013-07-25 01:03:19 ++ local option=api_version
2013-07-25 01:03:19 ++ local value=2.0
2013-07-25 01:03:19 ++ grep -q '^\[network\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf network api_version
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=network
2013-07-25 01:03:19 ++ local option=api_version
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[network\]/,/^\[.*\]/ { /^api_version[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='api_version = v1.1'
2013-07-25 01:03:19 ++ '[' -n 'api_version = v1.1' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[network\]/,/^\[.*\]/ s|^\(api_version[ \t]*=[ \t]*\).*$|\12.0|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf network tenant_networks_reachable false
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=network
2013-07-25 01:03:19 ++ local option=tenant_networks_reachable
2013-07-25 01:03:19 ++ local value=false
2013-07-25 01:03:19 ++ grep -q '^\[network\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf network tenant_networks_reachable
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=network
2013-07-25 01:03:19 ++ local option=tenant_networks_reachable
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[network\]/,/^\[.*\]/ { /^tenant_networks_reachable[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='tenant_networks_reachable = false'
2013-07-25 01:03:19 ++ '[' -n 'tenant_networks_reachable = false' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[network\]/,/^\[.*\]/ s|^\(tenant_networks_reachable[ \t]*=[ \t]*\).*$|\1false|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf network public_network_id ''
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=network
2013-07-25 01:03:19 ++ local option=public_network_id
2013-07-25 01:03:19 ++ local value=
2013-07-25 01:03:19 ++ grep -q '^\[network\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf network public_network_id
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=network
2013-07-25 01:03:19 ++ local option=public_network_id
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[network\]/,/^\[.*\]/ { /^public_network_id[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='public_network_id = {$PUBLIC_NETWORK_ID}'
2013-07-25 01:03:19 ++ '[' -n 'public_network_id = {$PUBLIC_NETWORK_ID}' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[network\]/,/^\[.*\]/ s|^\(public_network_id[ \t]*=[ \t]*\).*$|\1|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf network public_router_id ''
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=network
2013-07-25 01:03:19 ++ local option=public_router_id
2013-07-25 01:03:19 ++ local value=
2013-07-25 01:03:19 ++ grep -q '^\[network\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf network public_router_id
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=network
2013-07-25 01:03:19 ++ local option=public_router_id
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[network\]/,/^\[.*\]/ { /^public_router_id[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='public_router_id = {$PUBLIC_ROUTER_ID}'
2013-07-25 01:03:19 ++ '[' -n 'public_router_id = {$PUBLIC_ROUTER_ID}' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[network\]/,/^\[.*\]/ s|^\(public_router_id[ \t]*=[ \t]*\).*$|\1|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf boto ec2_url http://129.127.10.133:8773/services/Cloud
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=boto
2013-07-25 01:03:19 ++ local option=ec2_url
2013-07-25 01:03:19 ++ local value=http://129.127.10.133:8773/services/Cloud
2013-07-25 01:03:19 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto ec2_url
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=boto
2013-07-25 01:03:19 ++ local option=ec2_url
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^ec2_url[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='ec2_url = http://localhost:8773/services/Cloud'
2013-07-25 01:03:19 ++ '[' -n 'ec2_url = http://localhost:8773/services/Cloud' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(ec2_url[ \t]*=[ \t]*\).*$|\1http://129.127.10.133:8773/services/Cloud|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf boto s3_url http://129.127.10.133:3333
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=boto
2013-07-25 01:03:19 ++ local option=s3_url
2013-07-25 01:03:19 ++ local value=http://129.127.10.133:3333
2013-07-25 01:03:19 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto s3_url
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=boto
2013-07-25 01:03:19 ++ local option=s3_url
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^s3_url[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='s3_url = http://localhost:3333'
2013-07-25 01:03:19 ++ '[' -n 's3_url = http://localhost:3333' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(s3_url[ \t]*=[ \t]*\).*$|\1http://129.127.10.133:3333|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf boto s3_materials_path /home/stack/devstack/files/images/s3-materials/cirros-0.3.1
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=boto
2013-07-25 01:03:19 ++ local option=s3_materials_path
2013-07-25 01:03:19 ++ local value=/home/stack/devstack/files/images/s3-materials/cirros-0.3.1
2013-07-25 01:03:19 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto s3_materials_path
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=boto
2013-07-25 01:03:19 ++ local option=s3_materials_path
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^s3_materials_path[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='s3_materials_path = /opt/stack/devstack/files/images/s3-materials/cirros-0.3.0'
2013-07-25 01:03:19 ++ '[' -n 's3_materials_path = /opt/stack/devstack/files/images/s3-materials/cirros-0.3.0' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(s3_materials_path[ \t]*=[ \t]*\).*$|\1/home/stack/devstack/files/images/s3-materials/cirros-0.3.1|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf boto instance_type m1.nano
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=boto
2013-07-25 01:03:19 ++ local option=instance_type
2013-07-25 01:03:19 ++ local value=m1.nano
2013-07-25 01:03:19 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto instance_type
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=boto
2013-07-25 01:03:19 ++ local option=instance_type
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^instance_type[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='instance_type = m1.tiny'
2013-07-25 01:03:19 ++ '[' -n 'instance_type = m1.tiny' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(instance_type[ \t]*=[ \t]*\).*$|\1m1.nano|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf boto http_socket_timeout 30
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=boto
2013-07-25 01:03:19 ++ local option=http_socket_timeout
2013-07-25 01:03:19 ++ local value=30
2013-07-25 01:03:19 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto http_socket_timeout
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=boto
2013-07-25 01:03:19 ++ local option=http_socket_timeout
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^http_socket_timeout[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line='http_socket_timeout = 5'
2013-07-25 01:03:19 ++ '[' -n 'http_socket_timeout = 5' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(http_socket_timeout[ \t]*=[ \t]*\).*$|\130|' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ iniset /opt/stack/tempest/etc/tempest.conf boto ssh_user cirros
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=boto
2013-07-25 01:03:19 ++ local option=ssh_user
2013-07-25 01:03:19 ++ local value=cirros
2013-07-25 01:03:19 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto ssh_user
2013-07-25 01:03:19 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ local section=boto
2013-07-25 01:03:19 ++ local option=ssh_user
2013-07-25 01:03:19 ++ local line
2013-07-25 01:03:19 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^ssh_user[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ line=
2013-07-25 01:03:19 ++ '[' -n '' ']'
2013-07-25 01:03:19 ++ sed -i -e '/^\[boto\]/ a\
2013-07-25 01:03:19 ssh_user = cirros
2013-07-25 01:03:19 ' /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 ++ echo 'Created tempest configuration file:'
2013-07-25 01:03:19 Created tempest configuration file:
2013-07-25 01:03:19 ++ cat /opt/stack/tempest/etc/tempest.conf
2013-07-25 01:03:19 [identity]
2013-07-25 01:03:19 # This section contains configuration options that a variety of Tempest
2013-07-25 01:03:19 # test clients use when authenticating with different user/tenant
2013-07-25 01:03:19 # combinations
2013-07-25 01:03:19 
2013-07-25 01:03:19 # The type of endpoint for a Identity service. Unless you have a
2013-07-25 01:03:19 # custom Keystone service catalog implementation, you probably want to leave
2013-07-25 01:03:19 # this value as "identity"
2013-07-25 01:03:19 catalog_type = identity
2013-07-25 01:03:19 # Ignore SSL certificate validation failures? Use when in testing
2013-07-25 01:03:19 # environments that have self-signed SSL certs.
2013-07-25 01:03:19 disable_ssl_certificate_validation = False
2013-07-25 01:03:19 # URL for where to find the OpenStack Identity API endpoint (Keystone)
2013-07-25 01:03:19 uri = http://129.127.10.133:5000/v2.0/
2013-07-25 01:03:19 # Should typically be left as keystone unless you have a non-Keystone
2013-07-25 01:03:19 # authentication API service
2013-07-25 01:03:19 strategy = keystone
2013-07-25 01:03:19 # The identity region
2013-07-25 01:03:19 region = RegionOne
2013-07-25 01:03:19 
2013-07-25 01:03:19 # This should be the username of a user WITHOUT administrative privileges
2013-07-25 01:03:19 username = demo
2013-07-25 01:03:19 # The above non-administrative user's password
2013-07-25 01:03:19 password = 2061d55c35f999042112
2013-07-25 01:03:19 # The above non-administrative user's tenant name
2013-07-25 01:03:19 tenant_name = demo
2013-07-25 01:03:19 
2013-07-25 01:03:19 # This should be the username of an alternate user WITHOUT
2013-07-25 01:03:19 # administrative privileges
2013-07-25 01:03:19 alt_username = alt_demo
2013-07-25 01:03:19 # The above non-administrative user's password
2013-07-25 01:03:19 alt_password = 2061d55c35f999042112
2013-07-25 01:03:19 # The above non-administrative user's tenant name
2013-07-25 01:03:19 alt_tenant_name = alt_demo
2013-07-25 01:03:19 
2013-07-25 01:03:19 # This should be the username of a user WITH administrative privileges
2013-07-25 01:03:19 admin_username = admin
2013-07-25 01:03:19 # The above non-administrative user's password
2013-07-25 01:03:19 admin_password = 2061d55c35f999042112
2013-07-25 01:03:19 # The above non-administrative user's tenant name
2013-07-25 01:03:19 admin_tenant_name = admin
2013-07-25 01:03:19 
2013-07-25 01:03:19 [compute]
2013-07-25 01:03:19 image_alt_ssh_user = cirros
2013-07-25 01:03:19 image_ssh_user = cirros
2013-07-25 01:03:19 # This section contains configuration options used when executing tests
2013-07-25 01:03:19 # against the OpenStack Compute API.
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Allows test cases to create/destroy tenants and users. This option
2013-07-25 01:03:19 # enables isolated test cases and better parallel execution,
2013-07-25 01:03:19 # but also requires that OpenStack Identity API admin credentials
2013-07-25 01:03:19 # are known.
2013-07-25 01:03:19 allow_tenant_isolation = True
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Allows test cases to create/destroy tenants and users. This option
2013-07-25 01:03:19 # enables isolated test cases and better parallel execution,
2013-07-25 01:03:19 # but also requires that OpenStack Identity API admin credentials
2013-07-25 01:03:19 # are known.
2013-07-25 01:03:19 allow_tenant_reuse = true
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Reference data for tests. The ref and ref_alt should be
2013-07-25 01:03:19 # distinct images/flavors.
2013-07-25 01:03:19 image_ref = 8ed74907-00c2-4cba-9d17-da6cbd734688
2013-07-25 01:03:19 image_ref_alt = 8ed74907-00c2-4cba-9d17-da6cbd734688
2013-07-25 01:03:19 flavor_ref = 42
2013-07-25 01:03:19 flavor_ref_alt = 84
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Number of seconds to wait while looping to check the status of an
2013-07-25 01:03:19 # instance that is building.
2013-07-25 01:03:19 build_interval = 3
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Number of seconds to time out on waiting for an instance
2013-07-25 01:03:19 # to build or reach an expected status
2013-07-25 01:03:19 build_timeout = 400
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Run additional tests that use SSH for instance validation?
2013-07-25 01:03:19 # This requires the instances be routable from the host
2013-07-25 01:03:19 #  executing the tests
2013-07-25 01:03:19 run_ssh = false
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Name of a user used to authenticated to an instance
2013-07-25 01:03:19 ssh_user = cirros
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Network id used for SSH (public, private, etc)
2013-07-25 01:03:19 network_for_ssh = private
2013-07-25 01:03:19 
2013-07-25 01:03:19 # IP version of the address used for SSH
2013-07-25 01:03:19 ip_version_for_ssh = 4
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Number of seconds to wait to authenticate to an instance
2013-07-25 01:03:19 ssh_timeout = 400
2013-07-25 01:03:19 
2013-07-25 01:03:19 # The type of endpoint for a Compute API service. Unless you have a
2013-07-25 01:03:19 # custom Keystone service catalog implementation, you probably want to leave
2013-07-25 01:03:19 # this value as "compute"
2013-07-25 01:03:19 catalog_type = compute
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Does the Compute API support creation of images?
2013-07-25 01:03:19 create_image_enabled = true
2013-07-25 01:03:19 
2013-07-25 01:03:19 # For resize to work with libvirt/kvm, one of the following must be true:
2013-07-25 01:03:19 # Single node: allow_resize_to_same_host=True must be set in nova.conf
2013-07-25 01:03:19 # Cluster: the 'nova' user must have scp access between cluster nodes
2013-07-25 01:03:19 resize_available = true
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Does the compute API support changing the admin password?
2013-07-25 01:03:19 change_password_available=False
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Run live migration tests (requires 2 hosts)
2013-07-25 01:03:19 live_migration_available = False
2013-07-25 01:03:19 
2013-07-25 01:03:19 # Use block live migration (Otherwise, non-block migration will be
2013-07-25 01:03:20 # performed, which requires XenServer pools in case of using XS)
2013-07-25 01:03:20 use_block_migration_for_live_migration = False
2013-07-25 01:03:20 
2013-07-25 01:03:20 # By default, rely on the status of the diskConfig extension to
2013-07-25 01:03:20 # decide if to execute disk config tests. When set to false, tests
2013-07-25 01:03:20 # are forced to skip, regardless of the extension status
2013-07-25 01:03:20 disk_config_enabled_override = true
2013-07-25 01:03:20 
2013-07-25 01:03:20 
2013-07-25 01:03:20 [whitebox]
2013-07-25 01:03:20 # Whitebox options for compute. Whitebox options enable the
2013-07-25 01:03:20 # whitebox test cases, which look at internal Nova database state,
2013-07-25 01:03:20 # SSH into VMs to check instance state, etc.
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Should we run whitebox tests for Compute?
2013-07-25 01:03:20 whitebox_enabled = true
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Path of nova source directory
2013-07-25 01:03:20 source_dir = /opt/stack/nova
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Path of nova configuration file
2013-07-25 01:03:20 config_path = /etc/nova/nova.conf
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Directory containing nova binaries such as nova-manage
2013-07-25 01:03:20 bin_dir = /opt/stack/nova/bin
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Connection string to the database of Compute service
2013-07-25 01:03:20 db_uri = mysql://root:f37ccdd1ded5c0dd33c9@localhost/nova
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Path to a private key file for SSH access to remote hosts
2013-07-25 01:03:20 path_to_private_key = /opt/stack/tempest/id_rsa
2013-07-25 01:03:20 
2013-07-25 01:03:20 [compute-admin]
2013-07-25 01:03:20 # This should be the username of a user WITH administrative privileges
2013-07-25 01:03:20 # If not defined the admin user from the identity section will be used
2013-07-25 01:03:20 username =
2013-07-25 01:03:20 # The above administrative user's password
2013-07-25 01:03:20 password =2061d55c35f999042112
2013-07-25 01:03:20 # The above administrative user's tenant name
2013-07-25 01:03:20 tenant_name =
2013-07-25 01:03:20 
2013-07-25 01:03:20 [image]
2013-07-25 01:03:20 # This section contains configuration options used when executing tests
2013-07-25 01:03:20 # against the OpenStack Images API
2013-07-25 01:03:20 
2013-07-25 01:03:20 # The type of endpoint for an Image API service. Unless you have a
2013-07-25 01:03:20 # custom Keystone service catalog implementation, you probably want to leave
2013-07-25 01:03:20 # this value as "image"
2013-07-25 01:03:20 catalog_type = image
2013-07-25 01:03:20 
2013-07-25 01:03:20 # The version of the OpenStack Images API to use
2013-07-25 01:03:20 api_version = 1
2013-07-25 01:03:20 
2013-07-25 01:03:20 [network]
2013-07-25 01:03:20 # This section contains configuration options used when executing tests
2013-07-25 01:03:20 # against the OpenStack Network API.
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Version of the Quantum API
2013-07-25 01:03:20 api_version = 2.0
2013-07-25 01:03:20 # Catalog type of the Quantum Service
2013-07-25 01:03:20 catalog_type = network
2013-07-25 01:03:20 
2013-07-25 01:03:20 # A large private cidr block from which to allocate smaller blocks for
2013-07-25 01:03:20 # tenant networks.
2013-07-25 01:03:20 tenant_network_cidr = 10.100.0.0/16
2013-07-25 01:03:20 
2013-07-25 01:03:20 # The mask bits used to partition the tenant block.
2013-07-25 01:03:20 tenant_network_mask_bits = 29
2013-07-25 01:03:20 
2013-07-25 01:03:20 # If tenant networks are reachable, connectivity checks will be
2013-07-25 01:03:20 # performed directly against addresses on those networks.
2013-07-25 01:03:20 tenant_networks_reachable = false
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Id of the public network that provides external connectivity.
2013-07-25 01:03:20 public_network_id = 
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Id of a shared public router that provides external connectivity.
2013-07-25 01:03:20 # A shared public router would commonly be used where IP namespaces
2013-07-25 01:03:20 # were disabled.  If namespaces are enabled, it would be preferable
2013-07-25 01:03:20 # for each tenant to have their own router.
2013-07-25 01:03:20 public_router_id = 
2013-07-25 01:03:20 
2013-07-25 01:03:20 [volume]
2013-07-25 01:03:20 # This section contains the configuration options used when executing tests
2013-07-25 01:03:20 # against the OpenStack Block Storage API service
2013-07-25 01:03:20 
2013-07-25 01:03:20 # The type of endpoint for a Cinder or Block Storage API service.
2013-07-25 01:03:20 # Unless you have a custom Keystone service catalog implementation, you
2013-07-25 01:03:20 # probably want to leave this value as "volume"
2013-07-25 01:03:20 catalog_type = volume
2013-07-25 01:03:20 # Number of seconds to wait while looping to check the status of a
2013-07-25 01:03:20 # volume that is being made available
2013-07-25 01:03:20 build_interval = 3
2013-07-25 01:03:20 # Number of seconds to time out on waiting for a volume
2013-07-25 01:03:20 # to be available or reach an expected status
2013-07-25 01:03:20 build_timeout = 400
2013-07-25 01:03:20 
2013-07-25 01:03:20 [object-storage]
2013-07-25 01:03:20 # This section contains configuration options used when executing tests
2013-07-25 01:03:20 # against the OpenStack Object Storage API.
2013-07-25 01:03:20 
2013-07-25 01:03:20 # You can configure the credentials in the compute section
2013-07-25 01:03:20 
2013-07-25 01:03:20 # The type of endpoint for an Object Storage API service. Unless you have a
2013-07-25 01:03:20 # custom Keystone service catalog implementation, you probably want to leave
2013-07-25 01:03:20 # this value as "object-store"
2013-07-25 01:03:20 catalog_type = object-store
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Number of seconds to time on waiting for a container to container
2013-07-25 01:03:20 # synchronization complete
2013-07-25 01:03:20 container_sync_timeout = 120
2013-07-25 01:03:20 # Number of seconds to wait while looping to check the status of a
2013-07-25 01:03:20 # container to container synchronization
2013-07-25 01:03:20 container_sync_interval = 5
2013-07-25 01:03:20 
2013-07-25 01:03:20 [boto]
2013-07-25 01:03:20 ssh_user = cirros
2013-07-25 01:03:20 # This section contains configuration options used when executing tests
2013-07-25 01:03:20 # with boto.
2013-07-25 01:03:20 
2013-07-25 01:03:20 # EC2 URL
2013-07-25 01:03:20 ec2_url = http://129.127.10.133:8773/services/Cloud
2013-07-25 01:03:20 # S3 URL
2013-07-25 01:03:20 s3_url = http://129.127.10.133:3333
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Use keystone ec2-* command to get those values for your test user and tenant
2013-07-25 01:03:20 aws_access =
2013-07-25 01:03:20 aws_secret =
2013-07-25 01:03:20 
2013-07-25 01:03:20 #Image materials for S3 upload
2013-07-25 01:03:20 # ALL content of the specified directory will be uploaded to S3
2013-07-25 01:03:20 s3_materials_path = /home/stack/devstack/files/images/s3-materials/cirros-0.3.1
2013-07-25 01:03:20 
2013-07-25 01:03:20 # The manifest.xml files, must be in the s3_materials_path directory
2013-07-25 01:03:20 # Subdirectories not allowed!
2013-07-25 01:03:20 # The filenames will be used as a Keys in the S3 Buckets
2013-07-25 01:03:20 
2013-07-25 01:03:20 #ARI Ramdisk manifest. Must be in the above s3_materials_path
2013-07-25 01:03:20 ari_manifest = cirros-0.3.0-x86_64-initrd.manifest.xml
2013-07-25 01:03:20 
2013-07-25 01:03:20 #AMI Machine Image manifest. Must be in the above s3_materials_path
2013-07-25 01:03:20 ami_manifest = cirros-0.3.0-x86_64-blank.img.manifest.xml
2013-07-25 01:03:20 
2013-07-25 01:03:20 #AKI Kernel Image manifest, Must be in the above s3_materials_path
2013-07-25 01:03:20 aki_manifest = cirros-0.3.0-x86_64-vmlinuz.manifest.xml
2013-07-25 01:03:20 
2013-07-25 01:03:20 #Instance type
2013-07-25 01:03:20 instance_type = m1.nano
2013-07-25 01:03:20 
2013-07-25 01:03:20 #TCP/IP connection timeout
2013-07-25 01:03:20 http_socket_timeout = 30
2013-07-25 01:03:20 
2013-07-25 01:03:20 #Number of retries actions on connection or 5xx error
2013-07-25 01:03:20 num_retries = 1
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Status change wait timout
2013-07-25 01:03:20 build_timeout = 400
2013-07-25 01:03:20 
2013-07-25 01:03:20 # Status change wait interval
2013-07-25 01:03:20 build_interval = 3
2013-07-25 01:03:20 ++ IFS=' 	
2013-07-25 01:03:20 '
2013-07-25 01:03:20 ++ set +o errexit
2013-07-25 01:03:20 ++ init_tempest
2013-07-25 01:03:20 ++ local base_image_name=cirros-0.3.1-x86_64
2013-07-25 01:03:20 ++ local image_dir=/home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec
2013-07-25 01:03:20 ++ local kernel=/home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz
2013-07-25 01:03:20 ++ local ramdisk=/home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd
2013-07-25 01:03:20 ++ local disk_image=/home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-blank.img
2013-07-25 01:03:20 ++ '[' -f /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz -a -f /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd -a -f /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-blank.img -a libvirt '!=' openvz -a '(' kvm '!=' lxc -o libvirt '!=' libvirt ')' ']'
2013-07-25 01:03:20 ++ echo 'Prepare aki/ari/ami Images'
2013-07-25 01:03:20 Prepare aki/ari/ami Images
2013-07-25 01:03:20 ++ cat
2013-07-25 01:03:20 ++ source /home/stack/devstack/accrc/demo/demo
2013-07-25 01:03:20 +++ export EC2_ACCESS_KEY=917229983de1483c88e4b3440482e43b
2013-07-25 01:03:20 +++ EC2_ACCESS_KEY=917229983de1483c88e4b3440482e43b
2013-07-25 01:03:20 +++ export EC2_SECRET_KEY=0c86c60f50fd491db6eadf31f0aa5549
2013-07-25 01:03:20 +++ EC2_SECRET_KEY=0c86c60f50fd491db6eadf31f0aa5549
2013-07-25 01:03:20 +++ export EC2_URL=http://129.127.10.133:8773/services/Cloud
2013-07-25 01:03:20 +++ EC2_URL=http://129.127.10.133:8773/services/Cloud
2013-07-25 01:03:20 +++ export S3_URL=http://129.127.10.133:3333
2013-07-25 01:03:20 +++ S3_URL=http://129.127.10.133:3333
2013-07-25 01:03:20 +++ export OS_USERNAME=demo
2013-07-25 01:03:20 +++ OS_USERNAME=demo
2013-07-25 01:03:20 +++ export OS_TENANT_NAME=demo
2013-07-25 01:03:20 +++ OS_TENANT_NAME=demo
2013-07-25 01:03:20 +++ export OS_AUTH_URL=http://129.127.10.133:35357/v2.0
2013-07-25 01:03:20 +++ OS_AUTH_URL=http://129.127.10.133:35357/v2.0
2013-07-25 01:03:20 +++ export EC2_CERT=/home/stack/devstack/accrc/demo/demo-cert.pem
2013-07-25 01:03:20 +++ EC2_CERT=/home/stack/devstack/accrc/demo/demo-cert.pem
2013-07-25 01:03:20 +++ export EC2_PRIVATE_KEY=/home/stack/devstack/accrc/demo/demo-pk.pem
2013-07-25 01:03:20 +++ EC2_PRIVATE_KEY=/home/stack/devstack/accrc/demo/demo-pk.pem
2013-07-25 01:03:20 +++ export EC2_USER_ID=42
2013-07-25 01:03:20 +++ EC2_USER_ID=42
2013-07-25 01:03:20 +++ export EUCALYPTUS_CERT=/home/stack/devstack/accrc/cacert.pem
2013-07-25 01:03:20 +++ EUCALYPTUS_CERT=/home/stack/devstack/accrc/cacert.pem
2013-07-25 01:03:20 +++ export NOVA_CERT=/home/stack/devstack/accrc/cacert.pem
2013-07-25 01:03:20 +++ NOVA_CERT=/home/stack/devstack/accrc/cacert.pem
2013-07-25 01:03:20 +++ export OS_PASSWORD=2061d55c35f999042112
2013-07-25 01:03:20 +++ OS_PASSWORD=2061d55c35f999042112
2013-07-25 01:03:20 ++ euca-bundle-image -i /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz --kernel true -d /home/stack/devstack/files/images/s3-materials/cirros-0.3.1
2013-07-25 01:03:20 Checking image
2013-07-25 01:03:20 Encrypting image
2013-07-25 01:03:20 Splitting image...
2013-07-25 01:03:20 Part: cirros-0.3.1-x86_64-vmlinuz.part.00
2013-07-25 01:03:20 Generating manifest /home/stack/devstack/files/images/s3-materials/cirros-0.3.1/cirros-0.3.1-x86_64-vmlinuz.manifest.xml
2013-07-25 01:03:20 ++ euca-bundle-image -i /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd --ramdisk true -d /home/stack/devstack/files/images/s3-materials/cirros-0.3.1
2013-07-25 01:03:20 Checking image
2013-07-25 01:03:20 Encrypting image
2013-07-25 01:03:20 Splitting image...
2013-07-25 01:03:20 Part: cirros-0.3.1-x86_64-initrd.part.00
2013-07-25 01:03:20 Generating manifest /home/stack/devstack/files/images/s3-materials/cirros-0.3.1/cirros-0.3.1-x86_64-initrd.manifest.xml
2013-07-25 01:03:20 ++ euca-bundle-image -i /home/stack/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-blank.img -d /home/stack/devstack/files/images/s3-materials/cirros-0.3.1
2013-07-25 01:03:20 Checking image
2013-07-25 01:03:20 Encrypting image
2013-07-25 01:03:20 Splitting image...
2013-07-25 01:03:20 Part: cirros-0.3.1-x86_64-blank.img.part.00
2013-07-25 01:03:20 Generating manifest /home/stack/devstack/files/images/s3-materials/cirros-0.3.1/cirros-0.3.1-x86_64-blank.img.manifest.xml
2013-07-25 01:03:20 ++ [[ stack == \u\n\s\t\a\c\k ]]
2013-07-25 01:03:20 + [[ -x /home/stack/devstack/local.sh ]]
2013-07-25 01:03:20 + service_check
2013-07-25 01:03:20 + local service
2013-07-25 01:03:20 + local failures
2013-07-25 01:03:20 + SCREEN_NAME=stack
2013-07-25 01:03:20 + SERVICE_DIR=/opt/stack/status
2013-07-25 01:03:20 + [[ ! -d /opt/stack/status/stack ]]
2013-07-25 01:03:20 ++ ls /opt/stack/status/stack/n-cauth.failure /opt/stack/status/stack/n-cond.failure /opt/stack/status/stack/n-cpu.failure /opt/stack/status/stack/n-crt.failure /opt/stack/status/stack/n-net.failure /opt/stack/status/stack/n-sch.failure
2013-07-25 01:03:20 + failures='/opt/stack/status/stack/n-cauth.failure
2013-07-25 01:03:20 /opt/stack/status/stack/n-cond.failure
2013-07-25 01:03:20 /opt/stack/status/stack/n-cpu.failure
2013-07-25 01:03:20 /opt/stack/status/stack/n-crt.failure
2013-07-25 01:03:20 /opt/stack/status/stack/n-net.failure
2013-07-25 01:03:20 /opt/stack/status/stack/n-sch.failure'
2013-07-25 01:03:20 + for service in '$failures'
2013-07-25 01:03:20 ++ basename /opt/stack/status/stack/n-cauth.failure
2013-07-25 01:03:20 + service=n-cauth.failure
2013-07-25 01:03:20 + service=n-cauth
2013-07-25 01:03:20 + echo 'Error: Service n-cauth is not running'
2013-07-25 01:03:20 Error: Service n-cauth is not running
2013-07-25 01:03:20 + for service in '$failures'
2013-07-25 01:03:20 ++ basename /opt/stack/status/stack/n-cond.failure
2013-07-25 01:03:20 + service=n-cond.failure
2013-07-25 01:03:20 + service=n-cond
2013-07-25 01:03:20 + echo 'Error: Service n-cond is not running'
2013-07-25 01:03:20 Error: Service n-cond is not running
2013-07-25 01:03:20 + for service in '$failures'
2013-07-25 01:03:20 ++ basename /opt/stack/status/stack/n-cpu.failure
2013-07-25 01:03:20 + service=n-cpu.failure
2013-07-25 01:03:20 + service=n-cpu
2013-07-25 01:03:20 + echo 'Error: Service n-cpu is not running'
2013-07-25 01:03:20 Error: Service n-cpu is not running
2013-07-25 01:03:20 + for service in '$failures'
2013-07-25 01:03:20 ++ basename /opt/stack/status/stack/n-crt.failure
2013-07-25 01:03:20 + service=n-crt.failure
2013-07-25 01:03:20 + service=n-crt
2013-07-25 01:03:20 + echo 'Error: Service n-crt is not running'
2013-07-25 01:03:20 Error: Service n-crt is not running
2013-07-25 01:03:20 + for service in '$failures'
2013-07-25 01:03:20 ++ basename /opt/stack/status/stack/n-net.failure
2013-07-25 01:03:20 + service=n-net.failure
2013-07-25 01:03:20 + service=n-net
2013-07-25 01:03:20 + echo 'Error: Service n-net is not running'
2013-07-25 01:03:20 Error: Service n-net is not running
2013-07-25 01:03:20 + for service in '$failures'
2013-07-25 01:03:20 ++ basename /opt/stack/status/stack/n-sch.failure
2013-07-25 01:03:20 + service=n-sch.failure
2013-07-25 01:03:20 + service=n-sch
2013-07-25 01:03:20 + echo 'Error: Service n-sch is not running'
2013-07-25 01:03:20 Error: Service n-sch is not running
2013-07-25 01:03:20 + '[' -n '/opt/stack/status/stack/n-cauth.failure
2013-07-25 01:03:20 /opt/stack/status/stack/n-cond.failure
2013-07-25 01:03:20 /opt/stack/status/stack/n-cpu.failure
2013-07-25 01:03:20 /opt/stack/status/stack/n-crt.failure
2013-07-25 01:03:20 /opt/stack/status/stack/n-net.failure
2013-07-25 01:03:20 /opt/stack/status/stack/n-sch.failure' ']'
2013-07-25 01:03:20 + echo 'More details about the above errors can be found with screen, with ./rejoin-stack.sh'
2013-07-25 01:03:20 More details about the above errors can be found with screen, with ./rejoin-stack.sh
2013-07-25 01:03:20 + set +o xtrace
2013-07-25 01:03:20 stack.sh completed in 586 seconds.
